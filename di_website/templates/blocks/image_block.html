{% load wagtailcore_tags wagtailimages_tags responsive %}

<figure class="media-figure">
  {% responsiveimage self.image fill-800x500 srcset=global.image_srcs alt=self.image.title %}
  {% if self.credit_name and self.credit_url %}
    <figcaption class="media-figure__credit">
      Image by <a href="{{self.credit_url}}">{{self.credit_name}}</a>
    </figcaption>
  {% elif self.credit_name %}
    <figcaption class="media-figure__credit">
      Image by {{self.credit_name}}
    </figcaption>
  {% endif %}
  {% if self.caption %}
    <figcaption class="media-figure__caption">{{self.caption}}</figcaption>
  {% endif %}
</figure>
