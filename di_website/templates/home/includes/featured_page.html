{% load static wagtailcore_tags card_tags generic_tags %}

<section class="section">
    <div class="row row--narrow">
      <h2 class="section__heading">{{heading}}</h2>
      {% for page in related_pages %}
        {% if page.specific|classname == global.blog_classname %}
          {% with blog=page.specific show_tag=True card_type="duo" %}
            {% include 'includes/cards/card-blog.html' %}
          {% endwith %}
        {% elif page.specific|classname == global.event_classname %}
          {% with event=page.specific show_tag=True card_type="duo" %}
            {% include 'includes/cards/card-event.html' %}
          {% endwith %}
        {% elif page.specific|classname == global.news_classname %}
          {% with item=page.specific show_tag=True card_type="duo" %}
            {% include 'includes/cards/card-news.html' %}
          {% endwith %}
        {% elif page.specific|classname in global.publication_classnames %}
          {% with item=page.specific show_tag=True card_type="duo" %}
            {% include 'includes/cards/card-publication.html' %}
          {% endwith %}
        {% else %}
          {% with item=page.specific tag=tag card_type="duo" %}
            {% include 'includes/cards/card-related.html' %}
          {% endwith %}
        {% endif %}
      {% endfor %}
    </div>
</section>
