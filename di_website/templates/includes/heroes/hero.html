{% load wagtailimages_tags wagtailcore_tags responsive %}

{% responsiveimage page.hero_image fill-1600x780-c100 srcset=global.hero_srcs as image %}
<section class="hero{% if image %} hero--image{% endif %} {% block hero_class %}{% endblock %}">
    {% if image %}
        <div class="hero__image" {{ image | responsive_id }}>{{ image | responsive_css }}</div>
        {% if self.hero_image_credit_name %}
            <span class="hero__credit">Image by
            {% if self.hero_image_credit_url %}
                <a href="{{self.hero_image_credit_url}}">{{self.hero_image_credit_name}}</a>
            {% else %}
                {{self.hero_image_credit_name}}
            {% endif %}
            </span>
        {% endif%}
    {% endif %}

    <span class="hero__flourish"></span>
    <span class="hero__flourish"></span>
    <span class="hero__flourish"></span>
    <span class="hero__flourish"></span>
    <span class="hero__flourish"></span>
    <span class="hero__flourish"></span>
    <span class="hero__flourish"></span>
    <span class="hero__flourish"></span>
    <div class="row row--narrow">
        <div class="hero__content">
            {% block hero_meta %}{% endblock hero_meta %}
            <h1 class="hero__title">
                <span>{{ page.title }}</span>
            </h1>
            {% if page.hero_text %}
                <div class="hero__excerpt"><span>{{ page.hero_text|richtext }}</span></div>
            {% endif %}
            {% if page.hero_link and page.hero_link_caption %}
                <a href="{% pageurl page.hero_link %}" class="button button--reverse">{{ page.hero_link_caption }}</a>
            {% endif %}
            {% block hero-link %}{% endblock hero-link %}
        </div>
    </div>

    {% block hero-author %}{% endblock hero-author %}
</section>
