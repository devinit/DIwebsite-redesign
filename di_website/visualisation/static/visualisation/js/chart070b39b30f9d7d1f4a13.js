(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1060:function(e,t,r){"use strict";var n=r(15),i=r(3),a=r(53),o=r(1061),l=r(118),s=r(1657);e.exports=function(e,t,r){for(var c=e.legend||{},d=0,h=!1,f="normal",g=0;g<r.length;g++){var u=r[g];u.visible&&((u.showlegend||u._dfltShowLegend&&!(u._module&&u._module.attributes&&u._module.attributes.showlegend&&!1===u._module.attributes.showlegend.dflt))&&(d++,u.showlegend&&(h=!0,(n.traceIs(u,"pie-like")||!0===u._input.showlegend)&&d++)),(n.traceIs(u,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(u.fill))&&(f=s.isGrouped({traceorder:f})?"grouped+reversed":"reversed"),void 0!==u.legendgroup&&""!==u.legendgroup&&(f=s.isReversed({traceorder:f})?"reversed+grouped":"grouped"))}var p=i.coerce(e,t,l,"showlegend",h&&d>1);if(!1!==p||c.uirevision){var v=a.newContainer(t,"legend");if(_("uirevision",t.uirevision),!1!==p){_("bgcolor",t.paper_bgcolor),_("bordercolor"),_("borderwidth"),i.coerceFont(_,"font",t.font);var x,m,y,b=_("orientation");"h"===b?(x=0,n.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(m=1.1,y="bottom"):(m=-.1,y="top")):(x=1.02,m=1,y="auto"),_("traceorder",f),s.isGrouped(t.legend)&&_("tracegroupgap"),_("itemsizing"),_("itemclick"),_("itemdoubleclick"),_("x",x),_("xanchor"),_("y",m),_("yanchor",y),_("valign"),i.noneOrAll(c,v,["x","y"]),_("title.text")&&(_("title.side","h"===b?"left":"top"),i.coerceFont(_,"title.font",t.font))}}function _(e,t){return i.coerce(c,v,o,e,t)}}},1061:function(e,t,r){"use strict";var n=r(46),i=r(113);e.exports={bgcolor:{valType:"color",role:"style",editType:"legend",description:["Sets the legend background color.","Defaults to `layout.paper_bgcolor`."].join(" ")},bordercolor:{valType:"color",dflt:i.defaultLine,role:"style",editType:"legend",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:n({editType:"legend",description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",role:"style",editType:"legend",description:["Determines if the legend items symbols scale with their corresponding *trace* attributes","or remain *constant* independent of the symbol size on the graph."].join(" ")},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",role:"info",editType:"legend",description:["Determines the behavior on legend item click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disable legend item click interactions."].join(" ")},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",role:"info",editType:"legend",description:["Determines the behavior on legend item double-click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disable legend item double-click interactions."].join(" ")},x:{valType:"number",min:-2,max:3,role:"style",editType:"legend",description:["Sets the x position (in normalized coordinates) of the legend.","Defaults to *1.02* for vertical legends and","defaults to *0* for horizontal legends."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend.","Value *auto* anchors legends to the right for `x` values greater than or equal to 2/3,","anchors legends to the left for `x` values less than or equal to 1/3 and","anchors legends with respect to their center otherwise."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",editType:"legend",description:["Sets the y position (in normalized coordinates) of the legend.","Defaults to *1* for vertical legends,","defaults to *-0.1* for horizontal legends on graphs w/o range sliders and","defaults to *1.1* for horizontal legends on graph with one or multiple range sliders."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],role:"info",editType:"legend",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend.","Value *auto* anchors legends at their bottom for `y` values less than or equal to 1/3,","anchors legends to at their top for `y` values greater than or equal to 2/3 and","anchors legends with respect to their middle otherwise."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of legend-driven changes in trace and pie label","visibility. Defaults to `layout.uirevision`."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",editType:"legend",description:["Sets the vertical alignment of the symbols with respect to their associated text."].join(" ")},title:{text:{valType:"string",dflt:"",role:"info",editType:"legend",description:["Sets the title of the legend."].join(" ")},font:n({editType:"legend",description:["Sets this legend's title font."].join(" ")}),side:{valType:"enumerated",values:["top","left","top left"],role:"style",editType:"legend",description:["Determines the location of legend's title","with respect to the legend items.","Defaulted to *top* with `orientation` is *h*.","Defaulted to *left* with `orientation` is *v*.","The *top left* options could be used to expand","legend area in both x and y sides."].join(" ")},editType:"legend"},editType:"legend"}},1062:function(e,t,r){"use strict";var n=r(24),i=r(3),a=r(82),o=r(15),l=r(239),s=r(158),c=r(81),d=r(52),h=r(110),f=r(1766),g=r(1767),u=r(85),p=u.LINE_SPACING,v=u.FROM_TL,x=u.FROM_BR,m=r(1768),y=r(1063),b=r(1657);function _(e,t,r,n,i){var a=r.data()[0][0].trace,s={event:i,node:r.node(),curveNumber:a.index,expandedIndex:a._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};if(a._group&&(s.group=a._group),o.traceIs(a,"pie-like")&&(s.label=r.datum()[0].label),!1!==l.triggerHandler(e,"plotly_legendclick",s))if(1===n)t._clickTimeout=setTimeout((function(){f(r,e,n)}),e._context.doubleClickDelay);else if(2===n){t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==l.triggerHandler(e,"plotly_legenddoubleclick",s)&&f(r,e,n)}}function w(e,t,r){var n,a=e.data()[0][0],l=a.trace,s=o.traceIs(l,"pie-like"),d=l.index,f=r._main&&t._context.edits.legendText&&!s,u=r._maxNameLength;r.entries?n=a.text:(n=s?a.label:l.name,l._meta&&(n=i.templateString(n,l._meta)));var p=i.ensureSingle(e,"text","legendtext");p.attr("text-anchor","start").classed("user-select-none",!0).call(c.font,r.font).text(f?k(n,u):n),h.positionText(p,g.textGap,0),f?p.call(h.makeEditable,{gd:t,text:n}).call(T,e,t,r).on("edit",(function(n){this.text(k(n,u)).call(T,e,t,r);var l=a.trace._fullInput||{},s={};if(o.hasTransform(l,"groupby")){var c=o.getTransformIndices(l,"groupby"),h=c[c.length-1],f=i.keyedContainer(l,"transforms["+h+"].styles","target","value.name");f.set(a.trace._group,n),s=f.constructUpdate()}else s.name=n;return o.call("_guiRestyle",t,s,d)})):T(p,e,t,r)}function k(e,t){var r=Math.max(4,t);if(e&&e.trim().length>=r/2)return e;for(var n=r-(e=e||"").length;n>0;n--)e+=" ";return e}function L(e,t){var r,a=t._context.doubleClickDelay,o=1,l=i.ensureSingle(e,"rect","legendtoggle",(function(e){e.style("cursor","pointer").attr("pointer-events","all").call(d.fill,"rgba(0,0,0,0)")}));l.on("mousedown",(function(){(r=(new Date).getTime())-t._legendMouseDownTime<a?o+=1:(o=1,t._legendMouseDownTime=r)})),l.on("mouseup",(function(){if(!t._dragged&&!t._editing){var r=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>a&&(o=Math.max(o-1,1)),_(t,r,e,o,n.event)}}))}function T(e,t,r,n){n._main||e.attr("data-notex",!0),h.convertToTspans(e,r,(function(){!function(e,t,r){var n=e.data()[0][0];if(r._main&&n&&!n.trace.showlegend)return void e.remove();var i=e.select("g[class*=math-group]"),a=i.node();r||(r=t._fullLayout.legend);var o,l,s=r.borderwidth,d=(n?r:r.title).font.size*p;if(a){var f=c.bBox(a);o=f.height,l=f.width,n?c.setTranslate(i,0,.25*o):c.setTranslate(i,s,.75*o+s)}else{var u=e.select(n?".legendtext":".legendtitletext"),v=h.lineCount(u),x=u.node();o=d*v,l=x?c.bBox(x).width:0;var m=d*((v-1)/2-.3);n?h.positionText(u,g.textGap,-m):h.positionText(u,g.titlePad+s,d+s)}n?(n.lineHeight=d,n.height=Math.max(o,16)+3,n.width=l):(r._titleWidth=l,r._titleHeight=o)}(t,r,n)}))}function M(e){return i.isRightAnchor(e)?"right":i.isCenterAnchor(e)?"center":"left"}function A(e){return i.isBottomAnchor(e)?"bottom":i.isMiddleAnchor(e)?"middle":"top"}e.exports=function(e,t){var r,l=e._fullLayout,h="legend"+l._uid;if(t?(r=t.layer,h+="-hover"):((t=l.legend||{})._main=!0,r=l._infolayer),r){var f;if(e._legendMouseDownTime||(e._legendMouseDownTime=0),t._main){if(!e.calcdata)return;f=l.showlegend&&m(e.calcdata,t)}else{if(!t.entries)return;f=m(t.entries,t)}var u=l.hiddenlabels||[];if(t._main&&(!l.showlegend||!f.length))return r.selectAll(".legend").remove(),l._topdefs.select("#"+h).remove(),a.autoMargin(e,"legend");var p=i.ensureSingle(r,"g","legend",(function(e){t._main&&e.attr("pointer-events","all")})),k=i.ensureSingleById(l._topdefs,"clipPath",h,(function(e){e.append("rect")})),H=i.ensureSingle(p,"rect","bg",(function(e){e.attr("shape-rendering","crispEdges")}));H.call(d.stroke,t.bordercolor).call(d.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var z=i.ensureSingle(p,"g","scrollbox"),S=t.title;if(t._titleWidth=0,t._titleHeight=0,S.text){var O=i.ensureSingle(z,"text","legendtitletext");O.attr("text-anchor","start").classed("user-select-none",!0).call(c.font,S.font).text(S.text),T(O,z,e,t)}else z.selectAll(".legendtitletext").remove();var P=i.ensureSingle(p,"rect","scrollbar",(function(e){e.attr(g.scrollBarEnterAttrs).call(d.fill,g.scrollBarColor)})),D=z.selectAll("g.groups").data(f);D.enter().append("g").attr("class","groups"),D.exit().remove();var V=D.selectAll("g.traces").data(i.identity);V.enter().append("g").attr("class","traces"),V.exit().remove(),V.style("opacity",(function(e){var t=e[0].trace;return o.traceIs(t,"pie-like")?-1!==u.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1})).each((function(){n.select(this).call(w,e,t)})).call(y,e,t).each((function(){t._main&&n.select(this).call(L,e)})),i.syncOrAsync([a.previousPromises,function(){return function(e,t,r,i){var a=e._fullLayout;i||(i=a.legend);var o=a._size,l=b.isVertical(i),s=b.isGrouped(i),d=i.borderwidth,h=2*d,f=g.textGap,u=g.itemGap,p=2*(d+u),v=A(i),x=i.y<0||0===i.y&&"top"===v,m=i.y>1||1===i.y&&"bottom"===v;i._maxHeight=Math.max(x||m?a.height/2:o.h,30);var y=0;i._width=0,i._height=0;var _=function(e){var t=0,r=0,n=e.title.side;n&&(-1!==n.indexOf("left")&&(t=e._titleWidth),-1!==n.indexOf("top")&&(r=e._titleHeight));return[t,r]}(i);if(l)r.each((function(e){var t=e[0].height;c.setTranslate(this,d+_[0],d+_[1]+i._height+t/2+u),i._height+=t,i._width=Math.max(i._width,e[0].width)})),y=f+i._width,i._width+=u+f+h,i._height+=p,s&&(t.each((function(e,t){c.setTranslate(this,0,t*i.tracegroupgap)})),i._height+=(i._lgroupsLength-1)*i.tracegroupgap);else{var w=M(i),k=i.x<0||0===i.x&&"right"===w,L=i.x>1||1===i.x&&"left"===w,T=m||x,H=a.width/2;i._maxWidth=Math.max(k?T&&"left"===w?o.l+o.w:H:L?T&&"right"===w?o.r+o.w:H:o.w,2*f);var z=0,S=0;r.each((function(e){var t=e[0].width+f;z=Math.max(z,t),S+=t})),y=null;var O=0;if(s){var P=0,D=0,V=0;t.each((function(){var e=0,t=0;n.select(this).selectAll("g.traces").each((function(r){var n=r[0].height;c.setTranslate(this,_[0],_[1]+d+u+n/2+t),t+=n,e=Math.max(e,f+r[0].width)})),P=Math.max(P,t);var r=e+u;r+d+D>i._maxWidth&&(O=Math.max(O,D),D=0,V+=P+i.tracegroupgap,P=t),c.setTranslate(this,D,V),D+=r})),i._width=Math.max(O,D)+d,i._height=V+P+p}else{var C=r.size(),I=S+h+(C-1)*u<i._maxWidth,Z=0,R=0,E=0,B=0;r.each((function(e){var t=e[0].height,r=f+e[0].width,n=(I?r:z)+u;n+d+R>i._maxWidth&&(O=Math.max(O,B),R=0,E+=Z,i._height+=Z,Z=0),c.setTranslate(this,_[0]+d+R,_[1]+d+E+t/2+u),B=R+r+u,R+=n,Z=Math.max(Z,t)})),I?(i._width=R+h,i._height=Z+p):(i._width=Math.max(O,B)+h,i._height+=Z+p)}}i._width=Math.ceil(Math.max(i._width+_[0],i._titleWidth+2*(d+g.titlePad))),i._height=Math.ceil(Math.max(i._height+_[1],i._titleHeight+2*(d+g.itemGap))),i._effHeight=Math.min(i._height,i._maxHeight);var F=e._context.edits,N=F.legendText||F.legendPosition;r.each((function(e){var t=n.select(this).select(".legendtoggle"),r=e[0].height,i=N?f:y||f+e[0].width;l||(i+=u/2),c.setRect(t,0,-r/2,i,r)}))}(e,D,V,t)},function(){if(!t._main||!function(e){var t=e._fullLayout.legend,r=M(t),n=A(t);return a.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*v[r],r:t._width*x[r],b:t._effHeight*x[n],t:t._effHeight*v[n]})}(e)){var d,f,u,m,y=l._size,b=t.borderwidth,w=y.l+y.w*t.x-v[M(t)]*t._width,L=y.t+y.h*(1-t.y)-v[A(t)]*t._effHeight;if(t._main&&l.margin.autoexpand){var T=w,S=L;w=i.constrain(w,0,l.width-t._width),L=i.constrain(L,0,l.height-t._effHeight),w!==T&&i.log("Constrain legend.x to make legend fit inside graph"),L!==S&&i.log("Constrain legend.y to make legend fit inside graph")}if(t._main&&c.setTranslate(p,w,L),P.on(".drag",null),p.on("wheel",null),!t._main||t._height<=t._maxHeight||e._context.staticPlot){var O=t._effHeight;t._main||(O=t._height),H.attr({width:t._width-b,height:O-b,x:b/2,y:b/2}),c.setTranslate(z,0,0),k.select("rect").attr({width:t._width-2*b,height:O-2*b,x:b,y:b}),c.setClipUrl(z,h,e),c.setRect(P,0,0,0,0),delete t._scrollY}else{var D,V,C,I=Math.max(g.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),Z=t._effHeight-I-2*g.scrollBarMargin,R=t._height-t._effHeight,E=Z/R,B=Math.min(t._scrollY||0,R);H.attr({width:t._width-2*b+g.scrollBarWidth+g.scrollBarMargin,height:t._effHeight-b,x:b/2,y:b/2}),k.select("rect").attr({width:t._width-2*b+g.scrollBarWidth+g.scrollBarMargin,height:t._effHeight-2*b,x:b,y:b+B}),c.setClipUrl(z,h,e),j(B,I,E),p.on("wheel",(function(){j(B=i.constrain(t._scrollY+n.event.deltaY/Z*R,0,R),I,E),0!==B&&B!==R&&n.event.preventDefault()}));var F=n.behavior.drag().on("dragstart",(function(){var e=n.event.sourceEvent;D="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,C=B})).on("drag",(function(){var e=n.event.sourceEvent;2===e.buttons||e.ctrlKey||(V="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,j(B=function(e,t,r){var n=(r-t)/E+e;return i.constrain(n,0,R)}(C,D,V),I,E))}));P.call(F);var N=n.behavior.drag().on("dragstart",(function(){var e=n.event.sourceEvent;"touchstart"===e.type&&(D=e.changedTouches[0].clientY,C=B)})).on("drag",(function(){var e=n.event.sourceEvent;"touchmove"===e.type&&(V=e.changedTouches[0].clientY,j(B=function(e,t,r){var n=(t-r)/E+e;return i.constrain(n,0,R)}(C,D,V),I,E))}));z.call(N)}if(e._context.edits.legendPosition)p.classed("cursor-move",!0),s.init({element:p.node(),gd:e,prepFn:function(){var e=c.getTranslate(p);u=e.x,m=e.y},moveFn:function(e,r){var n=u+e,i=m+r;c.setTranslate(p,n,i),d=s.align(n,0,y.l,y.l+y.w,t.xanchor),f=s.align(i,0,y.t+y.h,y.t,t.yanchor)},doneFn:function(){void 0!==d&&void 0!==f&&o.call("_guiRelayout",e,{"legend.x":d,"legend.y":f})},clickFn:function(t,n){var i=r.selectAll("g.traces").filter((function(){var e=this.getBoundingClientRect();return n.clientX>=e.left&&n.clientX<=e.right&&n.clientY>=e.top&&n.clientY<=e.bottom}));i.size()>0&&_(e,p,i,t,n)}})}function j(r,n,i){t._scrollY=e._fullLayout.legend._scrollY=r,c.setTranslate(z,0,-r),c.setRect(P,t._width,g.scrollBarMargin+r*i,g.scrollBarWidth,n),k.select("rect").attr("y",b+r)}}],e)}}},1063:function(e,t,r){"use strict";var n=r(24),i=r(15),a=r(3),o=r(81),l=r(52),s=r(84).extractOpts,c=r(217),d=r(899),h=r(932).castOption;function f(e,t){return(t?"radial":"horizontal")+(e?"":"reversed")}e.exports=function(e,t,r){var g=t._fullLayout;r||(r=g.legend);var u="constant"===r.itemsizing,p=function(e,t,r,n){var i;if(e+1)i=e;else{if(!(t&&t.width>0))return 0;i=t.width}return u?n:Math.min(i,r)};function v(e,t,r){var a=e[0].trace,o=a.marker||{},s=o.line||{},c=r?a.visible&&a.type===r:i.traceIs(a,"bar"),d=n.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(c?[e]:[]);d.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),d.exit().remove(),d.each((function(e){var t=n.select(this),r=e[0],i=p(r.mlw,o.line,5,2);t.style("stroke-width",i+"px").call(l.fill,r.mc||o.color),i&&l.stroke(t,r.mlc||s.color)}))}function x(e,t,r){var o=e[0],l=o.trace,s=r?l.visible&&l.type===r:i.traceIs(l,r),c=n.select(t).select("g.legendpoints").selectAll("path.legend"+r).data(s?[e]:[]);if(c.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),c.exit().remove(),c.size()){var f=(l.marker||{}).line,g=p(h(f.width,o.pts),f,5,2),u=a.minExtend(l,{marker:{line:{width:g}}});u.marker.line.color=f.color;var v=a.minExtend(o,{trace:u});d(c,v,u)}}e.each((function(e){var t=n.select(this),i=a.ensureSingle(t,"g","layers");i.style("opacity",e[0].trace.opacity);var o=r.valign,l=e[0].lineHeight,s=e[0].height;if("middle"!==o&&l&&s){var c={top:1,bottom:-1}[o]*(.5*(l-s+3));i.attr("transform","translate(0,"+c+")")}else i.attr("transform",null);i.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),i.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var d=i.selectAll("g.legendsymbols").data([e]);d.enter().append("g").classed("legendsymbols",!0),d.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)})).each((function(e){var r,i=e[0].trace,c=[];if(i.visible)switch(i.type){case"histogram2d":case"heatmap":c=[["M-15,-2V4H15V-2Z"]],r=!0;break;case"choropleth":case"choroplethmapbox":c=[["M-6,-6V6H6V-6Z"]],r=!0;break;case"densitymapbox":c=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],r="radial";break;case"cone":c=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],r=!1;break;case"streamtube":c=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],r=!1;break;case"surface":c=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],r=!0;break;case"mesh3d":c=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!1;break;case"volume":c=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!0;break;case"isosurface":c=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],r=!1}var d=n.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(c);d.enter().append("path").classed("legend3dandfriends",!0).attr("transform","translate(20,0)").style("stroke-miterlimit",1),d.exit().remove(),d.each((function(e,c){var d,h=n.select(this),g=s(i),u=g.colorscale,p=g.reversescale;if(u){if(!r){var v=u.length;d=0===c?u[p?v-1:0][1]:1===c?u[p?0:v-1][1]:u[Math.floor((v-1)/2)][1]}}else{var x=i.vertexcolor||i.facecolor||i.color;d=a.isArrayOrTypedArray(x)?x[c]||x[0]:x}h.attr("d",e[0]),d?h.call(l.fill,d):h.call((function(e){if(e.size()){var n="legendfill-"+i.uid;o.gradient(e,t,n,f(p,"radial"===r),u,"fill")}}))}))})).each((function(e){var t=e[0].trace,r="waterfall"===t.type;if(e[0]._distinct&&r){var i=e[0].trace[e[0].dir].marker;return e[0].mc=i.color,e[0].mlw=i.line.width,e[0].mlc=i.line.color,v(e,this,"waterfall")}var a=[];t.visible&&r&&(a=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var o=n.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(a);o.enter().append("path").classed("legendwaterfall",!0).attr("transform","translate(20,0)").style("stroke-miterlimit",1),o.exit().remove(),o.each((function(e){var r=n.select(this),i=t[e[0]].marker,a=p(void 0,i.line,5,2);r.attr("d",e[1]).style("stroke-width",a+"px").call(l.fill,i.color),a&&r.call(l.stroke,i.line.color)}))})).each((function(e){v(e,this,"funnel")})).each((function(e){v(e,this)})).each((function(e){var r=e[0].trace,s=n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(r.visible&&i.traceIs(r,"box-violin")?[e]:[]);s.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),s.exit().remove(),s.each((function(){var e=n.select(this);if("all"!==r.boxpoints&&"all"!==r.points||0!==l.opacity(r.fillcolor)||0!==l.opacity((r.line||{}).color)){var i=p(void 0,r.line,5,2);e.style("stroke-width",i+"px").call(l.fill,r.fillcolor),i&&l.stroke(e,r.line.color)}else{var c=a.minExtend(r,{marker:{size:u?12:a.constrain(r.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});s.call(o.pointStyle,c,t)}}))})).each((function(e){x(e,this,"funnelarea")})).each((function(e){x(e,this,"pie")})).each((function(e){var r,i,l=e[0],d=l.trace,h=d.visible&&d.fill&&"none"!==d.fill,g=c.hasLines(d),u=d.contours,v=!1,x=!1,m=s(d),y=m.colorscale,b=m.reversescale;if(u){var _=u.coloring;"lines"===_?v=!0:g="none"===_||"heatmap"===_||u.showlines,"constraint"===u.type?h="="!==u._operation:"fill"!==_&&"heatmap"!==_||(x=!0)}var w=c.hasMarkers(d)||c.hasText(d),k=h||x,L=g||v,T=w||!k?"M5,0":L?"M5,-2":"M5,-3",M=n.select(this),A=M.select(".legendfill").selectAll("path").data(h||x?[e]:[]);if(A.enter().append("path").classed("js-fill",!0),A.exit().remove(),A.attr("d",T+"h30v6h-30z").call(h?o.fillGroupStyle:function(e){if(e.size()){var r="legendfill-"+d.uid;o.gradient(e,t,r,f(b),y,"fill")}}),g||v){var H=p(void 0,d.line,10,5);i=a.minExtend(d,{line:{width:H}}),r=[a.minExtend(l,{trace:i})]}var z=M.select(".legendlines").selectAll("path").data(g||v?[r]:[]);z.enter().append("path").classed("js-line",!0),z.exit().remove(),z.attr("d",T+(v?"l30,0.0001":"h30")).call(g?o.lineGroupStyle:function(e){if(e.size()){var r="legendline-"+d.uid;o.lineGroupStyle(e),o.gradient(e,t,r,f(b),y,"stroke")}})})).each((function(e){var r,i,l=e[0],s=l.trace,d=c.hasMarkers(s),h=c.hasText(s),f=c.hasLines(s);function g(e,t,r,n){var i=a.nestedProperty(s,e).get(),o=a.isArrayOrTypedArray(i)&&t?t(i):i;if(u&&o&&void 0!==n&&(o=n),r){if(o<r[0])return r[0];if(o>r[1])return r[1]}return o}function p(e){return l._distinct&&l.index&&e[l.index]?e[l.index]:e[0]}if(d||h||f){var v={},x={};if(d){v.mc=g("marker.color",p),v.mx=g("marker.symbol",p),v.mo=g("marker.opacity",a.mean,[.2,1]),v.mlc=g("marker.line.color",p),v.mlw=g("marker.line.width",a.mean,[0,5],2),x.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var m=g("marker.size",a.mean,[2,16],12);v.ms=m,x.marker.size=m}f&&(x.line={width:g("line.width",p,[0,10],5)}),h&&(v.tx="Aa",v.tp=g("textposition",p),v.ts=10,v.tc=g("textfont.color",p),v.tf=g("textfont.family",p)),r=[a.minExtend(l,v)],(i=a.minExtend(s,x)).selectedpoints=null,i.texttemplate=null}var y=n.select(this).select("g.legendpoints"),b=y.selectAll("path.scatterpts").data(d?r:[]);b.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform","translate(20,0)"),b.exit().remove(),b.call(o.pointStyle,i,t),d&&(r[0].mrc=3);var _=y.selectAll("g.pointtext").data(h?r:[]);_.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),_.exit().remove(),_.selectAll("text").call(o.textPointStyle,i,t)})).each((function(e){var t=e[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible&&"candlestick"===t.type?[e,e]:[]);r.enter().append("path").classed("legendcandle",!0).attr("d",(function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform","translate(20,0)").style("stroke-miterlimit",1),r.exit().remove(),r.each((function(e,r){var i=n.select(this),a=t[r?"increasing":"decreasing"],o=p(void 0,a.line,5,2);i.style("stroke-width",o+"px").call(l.fill,a.fillcolor),o&&l.stroke(i,a.line.color)}))})).each((function(e){var t=e[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible&&"ohlc"===t.type?[e,e]:[]);r.enter().append("path").classed("legendohlc",!0).attr("d",(function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform","translate(20,0)").style("stroke-miterlimit",1),r.exit().remove(),r.each((function(e,r){var i=n.select(this),a=t[r?"increasing":"decreasing"],s=p(void 0,a.line,5,2);i.style("fill","none").call(o.dashLine,a.line.dash,s),s&&l.stroke(i,a.line.color)}))}))}},1327:function(e,t,r){"use strict";var n=r(3),i=r(52),a=r(226).isUnifiedHover;e.exports=function(e,t,r,o){function l(e){o.font[e]||(o.font[e]=t.legend?t.legend.font[e]:t.font[e])}o=o||{},t&&a(t.hovermode)&&(o.font||(o.font={}),l("size"),l("family"),l("color"),t.legend?(o.bgcolor||(o.bgcolor=i.combine(t.legend.bgcolor,t.paper_bgcolor)),o.bordercolor||(o.bordercolor=t.legend.bordercolor)):o.bgcolor||(o.bgcolor=t.paper_bgcolor)),r("hoverlabel.bgcolor",o.bgcolor),r("hoverlabel.bordercolor",o.bordercolor),r("hoverlabel.namelength",o.namelength),n.coerceFont(r,"hoverlabel.font",o.font),r("hoverlabel.align",o.align)}},1657:function(e,t,r){"use strict";t.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},t.isVertical=function(e){return"h"!==e.orientation},t.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},1759:function(e,t,r){"use strict";var n=r(24),i=r(12),a=r(61),o=r(3),l=r(239),s=r(110),c=r(1765),d=r(81),h=r(52),f=r(158),g=r(80),u=r(15),p=r(226),v=r(165),x=r(1060),m=r(1062),y=v.YANGLE,b=Math.PI*y/180,_=1/Math.sin(b),w=Math.cos(b),k=Math.sin(b),L=v.HOVERARROWSIZE,T=v.HOVERTEXTPAD;function M(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}t.hover=function(e,t,r,a){e=o.getGraphDiv(e),o.throttle(e._fullLayout._uid+v.HOVERID,v.HOVERMINTIME,(function(){!function(e,t,r,a){r||(r="xy");var s=Array.isArray(r)?r:[r],d=e._fullLayout,g=d._plots||[],v=g[r],x=d._has("cartesian");if(v){var m=v.overlays.map((function(e){return e.id}));s=s.concat(m)}for(var y=s.length,b=new Array(y),w=new Array(y),k=!1,L=0;L<y;L++){var T=s[L];if(g[T])k=!0,b[L]=g[T].xaxis,w[L]=g[T].yaxis;else{if(!d[T]||!d[T]._subplot)return void o.warn("Unrecognized subplot: "+T);var A=d[T]._subplot;b[L]=A.xaxis,w[L]=A.yaxis}}var z=t.hovermode||d.hovermode;z&&!k&&(z="closest");if(-1===["x","y","closest","x unified","y unified"].indexOf(z)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return f.unhoverRaw(e,t);var V,C,I,Z,R,E,B,F,N,j,G,Y,U,W=-1===d.hoverdistance?1/0:d.hoverdistance,X=-1===d.spikedistance?1/0:d.spikedistance,q=[],J=[],$={hLinePoint:null,vLinePoint:null},K=!1;if(Array.isArray(t))for(z="array",I=0;I<t.length;I++)(R=e.calcdata[t[I].curveNumber||0])&&(E=R[0].trace,"skip"!==R[0].trace.hoverinfo&&(J.push(R),"h"===E.orientation&&(K=!0)));else{for(Z=0;Z<e.calcdata.length;Z++)R=e.calcdata[Z],"skip"!==(E=R[0].trace).hoverinfo&&p.isTraceInSubplots(E,s)&&(J.push(R),"h"===E.orientation&&(K=!0));var Q,ee;if(!t.target)Q="xpx"in t?t.xpx:b[0]._length/2,ee="ypx"in t?t.ypx:w[0]._length/2;else{if(!1===l.triggerHandler(e,"plotly_beforehover",t))return;var te=t.target.getBoundingClientRect();if(Q=t.clientX-te.left,ee=t.clientY-te.top,Q<0||Q>b[0]._length||ee<0||ee>w[0]._length)return f.unhoverRaw(e,t)}if(t.pointerX=Q+b[0]._offset,t.pointerY=ee+w[0]._offset,V="xval"in t?p.flat(s,t.xval):p.p2c(b,Q),C="yval"in t?p.flat(s,t.yval):p.p2c(w,ee),!i(V[0])||!i(C[0]))return o.warn("Fx.hover failed",t,e),f.unhoverRaw(e,t)}var re=1/0;function ne(e,r){for(Z=0;Z<J.length;Z++)if((R=J[Z])&&R[0]&&R[0].trace&&!0===(E=R[0].trace).visible&&0!==E._length&&-1===["carpet","contourcarpet"].indexOf(E._module.name)){if("splom"===E.type?B=s[F=0]:(B=p.getSubplot(E),F=s.indexOf(B)),N=z,p.isUnifiedHover(N)&&(N=N.charAt(0)),Y={cd:R,trace:E,xa:b[F],ya:w[F],maxHoverDistance:W,maxSpikeDistance:X,index:!1,distance:Math.min(re,W),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:h.defaultLine,name:E.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},d[B]&&(Y.subplot=d[B]._subplot),d._splomScenes&&d._splomScenes[E.uid]&&(Y.scene=d._splomScenes[E.uid]),U=q.length,"array"===N){var n=t[Z];"pointNumber"in n?(Y.index=n.pointNumber,N="closest"):(N="","xval"in n&&(j=n.xval,N="x"),"yval"in n&&(G=n.yval,N=N?"closest":"y"))}else void 0!==e&&void 0!==r?(j=e,G=r):(j=V[F],G=C[F]);if(0!==W)if(E._module&&E._module.hoverPoints){var a=E._module.hoverPoints(Y,j,G,N,d._hoverlayer);if(a)for(var l,c=0;c<a.length;c++)l=a[c],i(l.x0)&&i(l.y0)&&q.push(O(l,z))}else o.log("Unrecognized trace type in hover:",E);if("closest"===z&&q.length>U&&(q.splice(0,U),re=q[0].distance),x&&0!==X&&0===q.length){Y.distance=X,Y.index=!1;var f=E._module.hoverPoints(Y,j,G,"closest",d._hoverlayer);if(f&&(f=f.filter((function(e){return e.spikeDistance<=X}))),f&&f.length){var g,u=f.filter((function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap}));if(u.length){var v=u[0];i(v.x0)&&i(v.y0)&&(g=ae(v),(!$.vLinePoint||$.vLinePoint.spikeDistance>g.spikeDistance)&&($.vLinePoint=g))}var m=f.filter((function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap}));if(m.length){var y=m[0];i(y.x0)&&i(y.y0)&&(g=ae(y),(!$.hLinePoint||$.hLinePoint.spikeDistance>g.spikeDistance)&&($.hLinePoint=g))}}}}}function ie(e,t){for(var r,n=null,i=1/0,a=0;a<e.length;a++)(r=e[a].spikeDistance)<=i&&r<=t&&(n=e[a],i=r);return n}function ae(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}ne();var oe={fullLayout:d,container:d._hoverlayer,outerContainer:d._paperdiv,event:t},le=e._spikepoints,se={vLinePoint:$.vLinePoint,hLinePoint:$.hLinePoint};if(e._spikepoints=se,x&&0!==X&&0!==q.length){var ce=ie(q.filter((function(e){return e.ya.showspikes})),X);$.hLinePoint=ae(ce);var de=ie(q.filter((function(e){return e.xa.showspikes})),X);$.vLinePoint=ae(de)}if(0===q.length){var he=f.unhoverRaw(e,t);return!x||null===$.hLinePoint&&null===$.vLinePoint||D(le)&&P(e,$,oe),he}x&&D(le)&&P(e,$,oe);if(q.sort((function(e,t){return e.distance-t.distance})),p.isXYhover(N)&&0!==q[0].length&&"splom"!==q[0].trace.type){var fe=q[0],ge=fe.cd[fe.index],ue="group"===d.boxmode||"group"===d.violinmode,pe=fe.xVal,ve=fe.xa;"category"===ve.type&&(pe=ve._categoriesMap[pe]),"date"===ve.type&&(pe=ve.d2c(pe)),ge&&ge.t&&ge.t.posLetter===ve._id&&ue&&(pe+=ge.t.dPos);var xe=fe.yVal;"category"===(ve=fe.ya).type&&(xe=ve._categoriesMap[xe]),"date"===ve.type&&(xe=ve.d2c(xe)),ge&&ge.t&&ge.t.posLetter===ve._id&&ue&&(xe+=ge.t.dPos),ne(pe,xe);var me={};q=q.filter((function(e){var t=M(e);if(!me[t])return me[t]=!0,me[t]}))}var ye=e._hoverdata,be=[];for(I=0;I<q.length;I++){var _e=q[I],we=p.makeEventData(_e,_e.trace,_e.cd);if(!1!==_e.hovertemplate){var ke=!1;_e.cd[_e.index]&&_e.cd[_e.index].ht&&(ke=_e.cd[_e.index].ht),_e.hovertemplate=ke||_e.trace.hovertemplate||!1}_e.eventData=[we],be.push(we)}e._hoverdata=be;var Le="y"===z&&(J.length>1||q.length>1)||"closest"===z&&K&&q.length>1,Te=h.combine(d.plot_bgcolor||h.background,d.paper_bgcolor),Me={hovermode:z,rotateLabels:Le,bgColor:Te,container:d._hoverlayer,outerContainer:d._paperdiv,commonLabelOpts:d.hoverlabel,hoverdistance:d.hoverdistance},Ae=H(q,Me,e);p.isUnifiedHover(z)||(!function(e,t,r){var n,i,a,o,l,s,c,d=0,h=1,f=e.size(),g=new Array(f),u=0;function p(e){var t=e[0],r=e[e.length-1];if(i=t.pmin-t.pos-t.dp+t.size,a=r.pos+r.dp+r.size-t.pmax,i>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=i;n=!1}if(!(a<.01)){if(i<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=a;n=!1}if(n){var c=0;for(o=0;o<e.length;o++)(s=e[o]).pos+s.dp+s.size>t.pmax&&c++;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos>t.pmax-1&&(s.del=!0,c--);for(o=0;o<e.length&&!(c<=0);o++)if((s=e[o]).pos<t.pmin+1)for(s.del=!0,c--,a=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=a;for(o=e.length-1;o>=0&&!(c<=0);o--)(s=e[o]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}e.each((function(e){var n=e[t],i="x"===n._id.charAt(0),a=n.range;0===u&&a&&a[0]>a[1]!==i&&(h=-1),g[u++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(i?_:1)/2,pmin:0,pmax:i?r.width:r.height}]})),g.sort((function(e,t){return e[0].posref-t[0].posref||h*(t[0].traceIndex-e[0].traceIndex)}));for(;!n&&d<=f;){for(d++,n=!0,o=0;o<g.length-1;){var v=g[o],x=g[o+1],m=v[v.length-1],y=x[0];if((i=m.pos+m.dp+m.size-y.pos-y.dp+y.size)>.01&&m.pmin===y.pmin&&m.pmax===y.pmax){for(l=x.length-1;l>=0;l--)x[l].dp+=i;for(v.push.apply(v,x),g.splice(o+1,1),c=0,l=v.length-1;l>=0;l--)c+=v[l].dp;for(a=c/v.length,l=v.length-1;l>=0;l--)v[l].dp-=a;n=!1}else o++}g.forEach(p)}for(o=g.length-1;o>=0;o--){var b=g[o];for(l=b.length-1;l>=0;l--){var w=b[l],k=w.datum;k.offset=w.dp,k.del=w.del}}}(Ae,Le?"xa":"ya",d),S(Ae,Le));if(t.target&&t.target.tagName){var He=u.getComponentMethod("annotations","hasClickToShow")(e,be);c(n.select(t.target),He?"pointer":"")}if(!t.target||a||!function(e,t,r){if(!r||r.length!==e._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var i=r[n],a=e._hoverdata[n];if(i.curveNumber!==a.curveNumber||String(i.pointNumber)!==String(a.pointNumber)||String(i.pointNumbers)!==String(a.pointNumbers))return!0}return!1}(e,0,ye))return;ye&&e.emit("plotly_unhover",{event:t,points:ye});e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:b,yaxes:w,xvals:V,yvals:C})}(e,t,r,a)}))},t.loneHover=function(e,t){var r=!0;Array.isArray(e)||(r=!1,e=[e]);var i=e.map((function(e){return{color:e.color||h.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}})),a=n.select(t.container),o=t.outerContainer?n.select(t.outerContainer):a,l={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||h.background,container:a,outerContainer:o},s=H(i,l,t.gd),c=0,d=0;return s.sort((function(e,t){return e.y0-t.y0})).each((function(e,r){var n=e.y0-e.by/2;e.offset=n-5<c?c-n+5:0,c=n+e.by+e.offset,r===t.anchorIndex&&(d=e.offset)})).each((function(e){e.offset-=d})),S(s,l.rotateLabels),r?s:s.node()};var A=/<extra>([\s\S]*)<\/extra>/;function H(e,t,r){var i=r._fullLayout,a=t.hovermode,l=t.rotateLabels,c=t.bgColor,f=t.container,g=t.outerContainer,u=t.commonLabelOpts||{},b=t.fontFamily||v.HOVERFONT,_=t.fontSize||v.HOVERFONTSIZE,w=e[0],k=w.xa,A=w.ya,H="y"===a.charAt(0)?"yLabel":"xLabel",S=w[H],O=(String(S)||"").split(" ")[0],P=g.node().getBoundingClientRect(),D=P.top,V=P.width,C=P.height,I=void 0!==S&&w.distance<=t.hoverdistance&&("x"===a||"y"===a);if(I){var Z,R,E=!0;for(Z=0;Z<e.length;Z++)if(E&&void 0===e[Z].zLabel&&(E=!1),R=e[Z].hoverinfo||e[Z].trace.hoverinfo){var B=Array.isArray(R)?R:R.split("+");if(-1===B.indexOf("all")&&-1===B.indexOf(a)){I=!1;break}}E&&(I=!1)}var F=f.selectAll("g.axistext").data(I?[0]:[]);function N(e){return e.filter((function(e){return void 0!==e.zLabelVal||(e[H]||"").split(" ")[0]===O}))}if(F.enter().append("g").classed("axistext",!0),F.exit().remove(),F.each((function(){var t=n.select(this),l=o.ensureSingle(t,"path","",(function(e){e.style({"stroke-width":"1px"})})),c=o.ensureSingle(t,"text","",(function(e){e.attr("data-notex",1)})),f=u.bgcolor||h.defaultLine,g=u.bordercolor||h.contrast(f),p=h.contrast(f),v={family:u.font.family||b,size:u.font.size||_,color:u.font.color||p};l.style({fill:f,stroke:g}),c.text(S).call(d.font,v).call(s.positionText,0,0).call(s.convertToTspans,r),t.attr("transform","");var x,m,y=c.node().getBoundingClientRect();if("x"===a){var M="top"===k.side?"-":"";c.attr("text-anchor","middle").call(s.positionText,0,"top"===k.side?D-y.bottom-L-T:D-y.top+L+T),x=k._offset+(w.x0+w.x1)/2,m=A._offset+("top"===k.side?0:A._length);var H=y.width/2+T;x<H?(x=H,l.attr("d","M-"+(H-L)+",0L-"+(H-2*L)+","+M+L+"H"+(T+y.width/2)+"v"+M+(2*T+y.height)+"H-"+H+"V"+M+L+"Z")):x>i.width-H?(x=i.width-H,l.attr("d","M"+(H-L)+",0L"+H+","+M+L+"v"+M+(2*T+y.height)+"H-"+H+"V"+M+L+"H"+(H-2*L)+"Z")):l.attr("d","M0,0L"+L+","+M+L+"H"+(T+y.width/2)+"v"+M+(2*T+y.height)+"H-"+(T+y.width/2)+"V"+M+L+"H-"+L+"Z")}else{var z,O,P;"right"===A.side?(z="start",O=1,P="",x=k._offset+k._length):(z="end",O=-1,P="-",x=k._offset),m=A._offset+(w.y0+w.y1)/2,c.attr("text-anchor",z),l.attr("d","M0,0L"+P+L+","+L+"V"+(T+y.height/2)+"h"+P+(2*T+y.width)+"V-"+(T+y.height/2)+"H"+P+L+"V-"+L+"Z");var V,C=y.height/2,I=D-y.top-C,Z="clip"+i._uid+"commonlabel"+A._id;if(x<y.width+2*T+L){V="M-"+(L+T)+"-"+C+"h-"+(y.width-T)+"V"+C+"h"+(y.width-T)+"Z";var R=y.width-x+T;s.positionText(c,R,I),"end"===z&&c.selectAll("tspan").each((function(){var e=n.select(this),t=d.tester.append("text").text(e.text()).call(d.font,v),r=t.node().getBoundingClientRect();Math.round(r.width)<Math.round(y.width)&&e.attr("x",R-r.width),t.remove()}))}else s.positionText(c,O*(T+L),I),V=null;var E=i._topclips.selectAll("#"+Z).data(V?[0]:[]);E.enter().append("clipPath").attr("id",Z).append("path"),E.exit().remove(),E.select("path").attr("d",V),d.setClipUrl(c,V?Z:null,r)}t.attr("transform","translate("+x+","+m+")"),e=N(e)})),p.isUnifiedHover(a)){if(f.selectAll("g.hovertext").remove(),void 0!==S&&w.distance<=t.hoverdistance&&(e=N(e)),0===e.length)return;var j={showlegend:!0,legend:{title:{text:S,font:i.hoverlabel.font},font:i.hoverlabel.font,bgcolor:i.hoverlabel.bgcolor,bordercolor:i.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:i.legend?i.legend.traceorder:void 0,orientation:"v"}},G={};x(j,G,r._fullData);var Y=G.legend;Y.entries=[];for(var U=0;U<e.length;U++){var W=z(e[U],!0,a,i,S),X=W[0],q=W[1],J=e[U];J.name=q,J.text=""!==q?q+" : "+X:X;var $=J.cd[J.index];$&&($.mc&&(J.mc=$.mc),$.mcc&&(J.mc=$.mcc),$.mlc&&(J.mlc=$.mlc),$.mlcc&&(J.mlc=$.mlcc),$.mlw&&(J.mlw=$.mlw),$.mrc&&(J.mrc=$.mrc),$.dir&&(J.dir=$.dir)),J._distinct=!0,Y.entries.push([J])}Y.entries.sort((function(e,t){return e[0].trace.index-t[0].trace.index})),Y.layer=f,m(r,Y);var K=o.mean(e.map((function(e){return(e.y0+e.y1)/2}))),Q=o.mean(e.map((function(e){return(e.x0+e.x1)/2}))),ee=f.select("g.legend"),te=ee.node().getBoundingClientRect();Q+=k._offset,K+=A._offset-te.height/2;var re=te.width+2*T;!(Q+re<=V)&&Q-re>=0?Q-=re:Q+=2*T;var ne=te.height+2*T,ie=K+ne>=C;return ne<=C&&(K<=D?K=A._offset+2*T:ie&&(K=C-ne)),ee.attr("transform","translate("+Q+","+K+")"),ee}var ae=f.selectAll("g.hovertext").data(e,(function(e){return M(e)}));return ae.enter().append("g").classed("hovertext",!0).each((function(){var e=n.select(this);e.append("rect").call(h.fill,h.addOpacity(c,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(d.font,b,_)})),ae.exit().remove(),ae.each((function(e){var t=n.select(this).attr("transform",""),o=e.bgcolor||e.color,f=h.combine(h.opacity(o)?o:h.defaultLine,c),g=h.combine(h.opacity(e.color)?e.color:h.defaultLine,c),u=e.borderColor||h.contrast(f),p=z(e,I,a,i,S,t),v=p[0],x=p[1],m=t.select("text.nums").call(d.font,e.fontFamily||b,e.fontSize||_,e.fontColor||u).text(v).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,r),w=t.select("text.name"),k=0,M=0;if(x&&x!==v){w.call(d.font,e.fontFamily||b,e.fontSize||_,g).text(x).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,r);var A=w.node().getBoundingClientRect();k=A.width+2*T,M=A.height+2*T}else w.remove(),t.select("rect").remove();t.select("path").style({fill:f,stroke:u});var H,O,P=m.node().getBoundingClientRect(),Z=e.xa._offset+(e.x0+e.x1)/2,R=e.ya._offset+(e.y0+e.y1)/2,E=Math.abs(e.x1-e.x0),B=Math.abs(e.y1-e.y0),F=P.width+L+T+k;if(e.ty0=D-P.top,e.bx=P.width+2*T,e.by=Math.max(P.height+2*T,M),e.anchor="start",e.txwidth=P.width,e.tx2width=k,e.offset=0,l)e.pos=Z,H=R+B/2+F<=C,O=R-B/2-F>=0,"top"!==e.idealAlign&&H||!O?H?(R+=B/2,e.anchor="start"):e.anchor="middle":(R-=B/2,e.anchor="end");else if(e.pos=R,H=Z+E/2+F<=V,O=Z-E/2-F>=0,"left"!==e.idealAlign&&H||!O)if(H)Z+=E/2,e.anchor="start";else{e.anchor="middle";var N=F/2,j=Z+N-V,G=Z-N;j>0&&(Z-=j),G<0&&(Z+=-G)}else Z-=E/2,e.anchor="end";m.attr("text-anchor",e.anchor),k&&w.attr("text-anchor",e.anchor),t.attr("transform","translate("+Z+","+R+")"+(l?"rotate("+y+")":""))})),ae}function z(e,t,r,n,i,a){var l="",s="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=o.templateString(e.name,e.trace._meta)),l=V(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(s+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(s+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(s+=(s?"z: ":"")+e.zLabel)):t&&e[r.charAt(0)+"Label"]===i?s=e[("x"===r.charAt(0)?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(s=e.yLabel):s=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(s+=(s?"<br>":"")+e.text),void 0!==e.extraText&&(s+=(s?"<br>":"")+e.extraText),a&&""===s&&!e.hovertemplate&&(""===l&&a.remove(),s=l);var c=n._d3locale,d=e.hovertemplate||!1,h=e.hovertemplateLabels||e,f=e.eventData[0]||{};return d&&(s=(s=o.hovertemplateString(d,h,c,f,e.trace._meta)).replace(A,(function(t,r){return l=V(r,e.nameLength),""}))),[s,l]}function S(e,t){e.each((function(e){var r=n.select(this);if(e.del)return r.remove();var i=r.select("text.nums"),a=e.anchor,o="end"===a?-1:1,l={start:1,end:-1,middle:0}[a],c=l*(L+T),h=c+l*(e.txwidth+T),f=0,g=e.offset;"middle"===a&&(c-=e.tx2width/2,h+=e.txwidth/2+T),t&&(g*=-k,f=e.offset*w),r.select("path").attr("d","middle"===a?"M-"+(e.bx/2+e.tx2width/2)+","+(g-e.by/2)+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(o*L+f)+","+(L+g)+"v"+(e.by/2-L)+"h"+o*e.bx+"v-"+e.by+"H"+(o*L+f)+"V"+(g-L)+"Z");var u=c+f,p=g+e.ty0-e.by/2+T,v=e.textAlign||"auto";"auto"!==v&&("left"===v&&"start"!==a?(i.attr("text-anchor","start"),u="middle"===a?-e.bx/2-e.tx2width/2+T:-e.bx-T):"right"===v&&"end"!==a&&(i.attr("text-anchor","end"),u="middle"===a?e.bx/2-e.tx2width/2-T:e.bx+T)),i.call(s.positionText,u,p),e.tx2width&&(r.select("text.name").call(s.positionText,h+l*T+f,g+e.ty0-e.by/2+T),r.select("rect").call(d.setRect,h+(l-1)*e.tx2width/2+f,g-e.by/2-1,e.tx2width,e.by+2))}))}function O(e,t){var r=e.index,n=e.trace||{},a=e.cd[0],l=e.cd[r]||{};function s(e){return e||i(e)&&0===e}var c=Array.isArray(r)?function(e,t){var i=o.castOption(a,r,e);return s(i)?i:o.extractOption({},n,"",t)}:function(e,t){return o.extractOption(l,n,e,t)};function d(t,r,n){var i=c(r,n);s(i)&&(e[t]=i)}if(d("hoverinfo","hi","hoverinfo"),d("bgcolor","hbg","hoverlabel.bgcolor"),d("borderColor","hbc","hoverlabel.bordercolor"),d("fontFamily","htf","hoverlabel.font.family"),d("fontSize","hts","hoverlabel.font.size"),d("fontColor","htc","hoverlabel.font.color"),d("nameLength","hnl","hoverlabel.namelength"),d("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===n.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=o.constrain(e.x0,0,e.xa._length),e.x1=o.constrain(e.x1,0,e.xa._length),e.y0=o.constrain(e.y0,0,e.ya._length),e.y1=o.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:g.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:g.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var h=g.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+h+" / -"+g.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+h,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var f=g.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+f+" / -"+g.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+f,"y"===t&&(e.distance+=1)}var u=e.hoverinfo||e.trace.hoverinfo;return u&&"all"!==u&&(-1===(u=Array.isArray(u)?u:u.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===u.indexOf("y")&&(e.yLabel=void 0),-1===u.indexOf("z")&&(e.zLabel=void 0),-1===u.indexOf("text")&&(e.text=void 0),-1===u.indexOf("name")&&(e.name=void 0)),e}function P(e,t,r){var n,i,o=r.container,l=r.fullLayout,s=l._size,c=r.event,f=!!t.hLinePoint,u=!!t.vLinePoint;if(o.selectAll(".spikeline").remove(),u||f){var p=h.combine(l.plot_bgcolor,l.paper_bgcolor);if(f){var v,x,m=t.hLinePoint;n=m&&m.xa,"cursor"===(i=m&&m.ya).spikesnap?(v=c.pointerX,x=c.pointerY):(v=n._offset+m.x,x=i._offset+m.y);var y,b,_=a.readability(m.color,p)<1.5?h.contrast(p):m.color,w=i.spikemode,k=i.spikethickness,L=i.spikecolor||_,T=g.getPxPosition(e,i);if(-1!==w.indexOf("toaxis")||-1!==w.indexOf("across")){if(-1!==w.indexOf("toaxis")&&(y=T,b=v),-1!==w.indexOf("across")){var M=i._counterDomainMin,A=i._counterDomainMax;"free"===i.anchor&&(M=Math.min(M,i.position),A=Math.max(A,i.position)),y=s.l+M*s.w,b=s.l+A*s.w}o.insert("line",":first-child").attr({x1:y,x2:b,y1:x,y2:x,"stroke-width":k,stroke:L,"stroke-dasharray":d.dashStyle(i.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:y,x2:b,y1:x,y2:x,"stroke-width":k+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==w.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:T+("right"!==i.side?k:-k),cy:x,r:k,fill:L}).classed("spikeline",!0)}if(u){var H,z,S=t.vLinePoint;n=S&&S.xa,i=S&&S.ya,"cursor"===n.spikesnap?(H=c.pointerX,z=c.pointerY):(H=n._offset+S.x,z=i._offset+S.y);var O,P,D=a.readability(S.color,p)<1.5?h.contrast(p):S.color,V=n.spikemode,C=n.spikethickness,I=n.spikecolor||D,Z=g.getPxPosition(e,n);if(-1!==V.indexOf("toaxis")||-1!==V.indexOf("across")){if(-1!==V.indexOf("toaxis")&&(O=Z,P=z),-1!==V.indexOf("across")){var R=n._counterDomainMin,E=n._counterDomainMax;"free"===n.anchor&&(R=Math.min(R,n.position),E=Math.max(E,n.position)),O=s.t+(1-E)*s.h,P=s.t+(1-R)*s.h}o.insert("line",":first-child").attr({x1:H,x2:H,y1:O,y2:P,"stroke-width":C,stroke:I,"stroke-dasharray":d.dashStyle(n.spikedash,C)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:H,x2:H,y1:O,y2:P,"stroke-width":C+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==V.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:H,cy:Z-("top"!==n.side?C:-C),r:C,fill:I}).classed("spikeline",!0)}}}function D(e,t){return!t||(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)}function V(e,t){return s.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},1760:function(e,t,r){"use strict";var n=r(3),i=r(240);e.exports=function(e,t,r){function a(r,a){return void 0!==t[r]?t[r]:n.coerce(e,t,i,r,a)}var o,l=a("clickmode");return t._has("cartesian")?l.indexOf("select")>-1?o="closest":(t._isHoriz=function(e,t){for(var r=t._scatterStackOpts||{},n=0;n<e.length;n++){var i=e[n],a=i.xaxis+i.yaxis,o=(r[a]||{})[i.stackgroup]||{};if("h"!==i.orientation&&"h"!==o.orientation)return!1}return!0}(r,t),o=t._isHoriz?"y":"x"):o="closest",a("hovermode",o)}},1765:function(e,t,r){"use strict";var n=r(223),i="data-savedcursor";e.exports=function(e,t){var r=e.attr(i);if(t){if(!r){for(var a=(e.attr("class")||"").split(" "),o=0;o<a.length;o++){var l=a[o];0===l.indexOf("cursor-")&&e.attr(i,l.substr(7)).classed(l,!1)}e.attr(i)||e.attr(i,"!!")}n(e,t)}else r&&(e.attr(i,null),"!!"===r?n(e):n(e,r))}},1766:function(e,t,r){"use strict";var n=r(3),i=r(15),a=!0;e.exports=function(e,t,r){var o=t._fullLayout;if(!t._dragged&&!t._editing){var l,s=o.legend.itemclick,c=o.legend.itemdoubleclick;if(1===r&&"toggle"===s&&"toggleothers"===c&&a&&t.data&&t._context.showTips?(n.notifier(n._(t,"Double-click on legend to isolate one trace"),"long"),a=!1):a=!1,1===r?l=s:2===r&&(l=c),l){var d,h,f,g,u,p=o.hiddenlabels?o.hiddenlabels.slice():[],v=e.data()[0][0],x=t._fullData,m=v.trace,y=m.legendgroup,b={},_=[],w=[],k=[];if(i.traceIs(m,"pie-like")){var L=v.label,T=p.indexOf(L);"toggle"===l?-1===T?p.push(L):p.splice(T,1):"toggleothers"===l&&(p=[],t.calcdata[0].forEach((function(e){L!==e.label&&p.push(e.label)})),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===p.length&&-1===T&&(p=[])),i.call("_guiRelayout",t,"hiddenlabels",p)}else{var M,A=y&&y.length,H=[];if(A)for(d=0;d<x.length;d++)(M=x[d]).visible&&M.legendgroup===y&&H.push(d);if("toggle"===l){var z;switch(m.visible){case!0:z="legendonly";break;case!1:z=!1;break;case"legendonly":z=!0}if(A)for(d=0;d<x.length;d++)!1!==x[d].visible&&x[d].legendgroup===y&&R(x[d],z);else R(m,z)}else if("toggleothers"===l){var S,O,P,D,V=!0;for(d=0;d<x.length;d++)if(S=x[d]===m,P=!0!==x[d].showlegend,!(S||P||(O=A&&x[d].legendgroup===y)||!0!==x[d].visible||i.traceIs(x[d],"notLegendIsolatable"))){V=!1;break}for(d=0;d<x.length;d++)if(!1!==x[d].visible&&!i.traceIs(x[d],"notLegendIsolatable"))switch(m.visible){case"legendonly":R(x[d],!0);break;case!0:D=!!V||"legendonly",S=x[d]===m,P=!0!==x[d].showlegend&&!x[d].legendgroup,O=S||A&&x[d].legendgroup===y,R(x[d],!(!O&&!P)||D)}}for(d=0;d<w.length;d++)if(f=w[d]){var C=f.constructUpdate(),I=Object.keys(C);for(h=0;h<I.length;h++)g=I[h],(b[g]=b[g]||[])[k[d]]=C[g]}for(u=Object.keys(b),d=0;d<u.length;d++)for(g=u[d],h=0;h<_.length;h++)b[g].hasOwnProperty(h)||(b[g][h]=void 0);i.call("_guiRestyle",t,b,_)}}}function Z(e,t,r){var n=_.indexOf(e),i=b[t];return i||(i=b[t]=[]),-1===_.indexOf(e)&&(_.push(e),n=_.length-1),i[n]=r,n}function R(e,t){var r=e._fullInput;if(i.hasTransform(r,"groupby")){var a=w[r.index];if(!a){var o=i.getTransformIndices(r,"groupby"),l=o[o.length-1];a=n.keyedContainer(r,"transforms["+l+"].styles","target","value.visible"),w[r.index]=a}var s=a.get(e._group);void 0===s&&(s=!0),!1!==s&&a.set(e._group,t),k[r.index]=Z(r.index,"visible",!1!==r.visible)}else{var c=!1!==r.visible&&t;Z(r.index,"visible",c)}}}},1767:function(e,t,r){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,textGap:40,itemGap:5}},1768:function(e,t,r){"use strict";var n=r(15),i=r(1657);e.exports=function(e,t){var r,a,o={},l=[],s=!1,c={},d=0,h=0,f=t._main;function g(e,r){if(""!==e&&i.isGrouped(t))-1===l.indexOf(e)?(l.push(e),s=!0,o[e]=[[r]]):o[e].push([r]);else{var n="~~i"+d;l.push(n),o[n]=[[r]],d++}}for(r=0;r<e.length;r++){var u=e[r],p=u[0],v=p.trace,x=v.legendgroup;if(!f||v.visible&&v.showlegend)if(n.traceIs(v,"pie-like"))for(c[x]||(c[x]={}),a=0;a<u.length;a++){var m=u[a].label;c[x][m]||(g(x,{label:m,color:u[a].color,i:u[a].i,trace:v,pts:u[a].pts}),c[x][m]=!0,h=Math.max(h,(m||"").length))}else g(x,p),h=Math.max(h,(v.name||"").length)}if(!l.length)return[];var y,b,_=l.length;if(s&&i.isGrouped(t))for(b=new Array(_),r=0;r<_;r++)y=o[l[r]],b[r]=i.isReversed(t)?y.reverse():y;else{for(b=[new Array(_)],r=0;r<_;r++)y=o[l[r]][0],b[0][i.isReversed(t)?_-r-1:r]=y;_=1}return t._lgroupsLength=_,t._maxNameLength=h,b}},1769:function(e,t,r){"use strict";var n=r(3),i=r(1327),a=r(240);e.exports=function(e,t){i(e,t,(function(r,i){return n.coerce(e,t,a,r,i)}))}},1770:function(e,t,r){"use strict";var n=r(3),i=r(252),a=r(1327);e.exports=function(e,t,r,o){var l=n.extendFlat({},o.hoverlabel);t.hovertemplate&&(l.namelength=-1),a(e,t,(function(r,a){return n.coerce(e,t,i,r,a)}),l)}},1771:function(e,t,r){"use strict";var n=r(3),i=r(226).isUnifiedHover,a=r(240),o=r(1760),l=r(1327);e.exports=function(e,t,r){function s(r,i){return n.coerce(e,t,a,r,i)}var c=o(e,t,r);c&&(s("hoverdistance"),s("spikedistance",i(c)?-1:void 0)),"select"===s("dragmode")&&s("selectdirection");var d=t._has("mapbox"),h=t._has("geo"),f=t._basePlotModules.length;"zoom"===t.dragmode&&((d||h)&&1===f||d&&h&&2===f)&&(t.dragmode="pan"),l(e,t,s)}},1772:function(e,t,r){"use strict";var n=r(3),i=r(15);function a(e,t,r,i){i=i||n.identity,Array.isArray(e)&&(t[0][r]=i(e))}e.exports=function(e){var t=e.calcdata,r=e._fullLayout;function o(e){return function(t){return n.coerceHoverinfo({hoverinfo:t},{_module:e._module},r)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!i.traceIs(c,"pie-like")){var d=i.traceIs(c,"2dMap")?a:n.fillArray;d(c.hoverinfo,s,"hi",o(c)),c.hovertemplate&&d(c.hovertemplate,s,"ht"),c.hoverlabel&&(d(c.hoverlabel.bgcolor,s,"hbg"),d(c.hoverlabel.bordercolor,s,"hbc"),d(c.hoverlabel.font.size,s,"hts"),d(c.hoverlabel.font.color,s,"htc"),d(c.hoverlabel.font.family,s,"htf"),d(c.hoverlabel.namelength,s,"hnl"),d(c.hoverlabel.align,s,"hta"))}}}},1773:function(e,t,r){"use strict";var n=r(15),i=r(1759).hover;e.exports=function(e,t,r){var a=n.getComponentMethod("annotations","onClick")(e,e._hoverdata);function o(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==r&&i(e,t,r,!0),e._hoverdata&&t&&t.target&&(a&&a.then?a.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},646:function(e,t,r){"use strict";var n=r(24),i=r(3),a=r(158),o=r(226),l=r(240),s=r(1759);e.exports={moduleType:"component",name:"fx",constants:r(165),schema:{layout:l},attributes:r(252),layoutAttributes:l,supplyLayoutGlobalDefaults:r(1769),supplyDefaults:r(1770),supplyLayoutDefaults:r(1771),calc:r(1772),getDistanceFunction:o.getDistanceFunction,getClosest:o.getClosest,inbox:o.inbox,quadrature:o.quadrature,appendArrayPointValue:o.appendArrayPointValue,castHoverOption:function(e,t,r){return i.castOption(e,t,"hoverlabel."+r)},castHoverinfo:function(e,t,r){return i.castOption(e,r,"hoverinfo",(function(r){return i.coerceHoverinfo({hoverinfo:r},{_module:e._module},t)}))},hover:s.hover,unhover:a.unhover,loneHover:s.loneHover,loneUnhover:function(e){var t=i.isD3Selection(e)?e:n.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:r(1773)}},899:function(e,t,r){"use strict";var n=r(52),i=r(932).castOption;e.exports=function(e,t,r){var a=r.marker.line,o=i(a.color,t.pts)||n.defaultLine,l=i(a.width,t.pts)||0;e.style("stroke-width",l).call(n.fill,t.color).call(n.stroke,o)}},932:function(e,t,r){"use strict";var n=r(3);t.formatPiePercent=function(e,t){var r=(100*e).toPrecision(3);return-1!==r.lastIndexOf(".")&&(r=r.replace(/[.]?0+$/,"")),n.numSeparate(r,t)+"%"},t.formatPieValue=function(e,t){var r=e.toPrecision(10);return-1!==r.lastIndexOf(".")&&(r=r.replace(/[.]?0+$/,"")),n.numSeparate(r,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var r=0;r<t.length;r++){var n=e[t[r]];if(n||0===n||""===n)return n}},t.castOption=function(e,r){return Array.isArray(e)?t.getFirstFilled(e,r):e||void 0}}}]);