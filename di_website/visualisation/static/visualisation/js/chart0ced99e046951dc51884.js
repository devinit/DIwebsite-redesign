/*! For license information please see chart0ced99e046951dc51884.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1293:function(e,t,n){"use strict";e.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each((function(e){e.regl&&e.regl.clear({color:!0,depth:!0})}))}},1294:function(e,t,n){"use strict";var r=n(3),o=n(83).id2name,i=n(1761),a=n(225).makePadFn,l=n(225).concatExtremes,s=n(25).ALMOST_EQUAL,u=n(85).FROM_BL;function c(e,t,n,r,i){var a,l,s,u,c="range"!==i,d=r[o(t)].type,f=[];for(l=0;l<n.length;l++)if((s=n[l])!==t&&(u=r[o(s)]).type===d)if(u.fixedrange){if(c&&u.anchor){r[o(u.anchor)].fixedrange&&f.push(s)}}else f.push(s);for(a=0;a<e.length;a++)if(e[a][t]){var h=e[a],p=[];for(l=0;l<f.length;l++)h[s=f[l]]||p.push(s);return{linkableAxes:p,thisGroup:h}}return{linkableAxes:f,thisGroup:null}}function d(e,t,n,r,o){var i,a,l,s,u;null===t?((t={})[n]=1,u=e.length,e.push(t)):u=e.indexOf(t);var c=Object.keys(t);for(i=0;i<e.length;i++)if(l=e[i],i!==u&&l[r]){var d=l[r];for(a=0;a<c.length;a++)l[s=c[a]]=d*o*t[s];return void e.splice(u,1)}if(1!==o)for(a=0;a<c.length;a++)t[c[a]]*=o;t[r]=1}function f(e,t){var n=e._inputDomain,r=u[e.constraintoward],o=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[o+(n[0]-o)/t,o+(n[1]-o)/t],e.setScale()}t.handleConstraintDefaults=function(e,t,n,o){var i,a,l,s,u=o.allAxisIds,f=o.layoutOut,h=o.scaleanchorDflt,p=o.constrainDflt,g=f._axisConstraintGroups,m=f._axisMatchGroups,v=t._id,_=v.charAt(0),y=((f._splomAxes||{})[_]||{})[v]||{},x=t._id,b=x.charAt(0),w=n("constrain",p);if(r.coerce(e,t,{constraintoward:{valType:"enumerated",values:"x"===b?["left","center","right"]:["bottom","middle","top"],dflt:"x"===b?"center":"middle"}},"constraintoward"),!e.matches&&!y.matches||t.fixedrange||(a=c(m,x,u,f),i=r.coerce(e,t,{matches:{valType:"enumerated",values:a.linkableAxes||[],dflt:y.matches}},"matches")),i||t.fixedrange&&"domain"!==w||!e.scaleanchor&&!h||(s=c(g,x,u,f,w),l=r.coerce(e,t,{scaleanchor:{valType:"enumerated",values:s.linkableAxes||[]}},"scaleanchor",h)),i?(delete t.constrain,d(m,a.thisGroup,x,i,1)):-1!==u.indexOf(e.matches)&&r.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid either an infinite loop or because the target axis has fixed range.'),l){var M=n("scaleratio");M||(M=t.scaleratio=1),d(g,s.thisGroup,x,l,M)}else-1!==u.indexOf(e.scaleanchor)&&r.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the target axis has fixed range or this axis declares a *matches* constraint.')},t.enforce=function(e){var t,n,r,u,c,d,h,p=e._fullLayout,g=p._axisConstraintGroups||[];for(t=0;t<g.length;t++){var m=g[t],v=Object.keys(m),_=1/0,y=0,x=1/0,b={},w={},M=!1;for(n=0;n<v.length;n++)w[r=v[n]]=u=p[o(r)],u._inputDomain?u.domain=u._inputDomain.slice():u._inputDomain=u.domain.slice(),u._inputRange||(u._inputRange=u.range.slice()),u.setScale(),b[r]=c=Math.abs(u._m)/m[r],_=Math.min(_,c),"domain"!==u.constrain&&u._constraintShrinkable||(x=Math.min(x,c)),delete u._constraintShrinkable,y=Math.max(y,c),"domain"===u.constrain&&(M=!0);if(!(_>s*y)||M)for(n=0;n<v.length;n++)if(c=b[r=v[n]],d=(u=w[r]).constrain,c!==x||"domain"===d)if(h=c/x,"range"===d)i(u,h);else{var S=u._inputDomain,A=(u.domain[1]-u.domain[0])/(S[1]-S[0]),C=(u.r2l(u.range[1])-u.r2l(u.range[0]))/(u.r2l(u._inputRange[1])-u.r2l(u._inputRange[0]));if((h/=A)*C<1){u.domain=u._input.domain=S.slice(),i(u,h);continue}if(C<1&&(u.range=u._input.range=u._inputRange.slice(),h*=C),u.autorange){var I=u.r2l(u.range[0]),k=u.r2l(u.range[1]),R=(I+k)/2,B=R,P=R,L=Math.abs(k-R),F=R-L*h*1.0001,N=R+L*h*1.0001,O=a(u);f(u,h);var T,D,E=Math.abs(u._m),G=l(e,u),z=G.min,H=G.max;for(D=0;D<z.length;D++)(T=z[D].val-O(z[D])/E)>F&&T<B&&(B=T);for(D=0;D<H.length;D++)(T=H[D].val+O(H[D])/E)<N&&T>P&&(P=T);h/=(P-B)/(2*L),B=u.l2r(B),P=u.l2r(P),u.range=u._input.range=I<k?[B,P]:[P,B]}f(u,h)}}},t.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,o=e._fullLayout._axisConstraintGroups,i=0;i<o.length;i++)if(o[i][r]){n=!0;break}n&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},1761:function(e,t,n){"use strict";var r=n(85).FROM_BL;e.exports=function(e,t,n){void 0===n&&(n=r[e.constraintoward||"center"]);var o=[e.r2l(e.range[0]),e.r2l(e.range[1])],i=o[0]+(o[1]-o[0])*n;e.range=e._input.range=[e.l2r(i+(o[0]-i)*t),e.l2r(i+(o[1]-i)*t)]}},1774:function(e,t,n){"use strict";t.manage=n(1775)},1775:function(e,t,n){"use strict";var r=n(83),o=n(217),i=n(15),a=n(226).isUnifiedHover,l=n(1776),s=n(301);e.exports=function(e){var t=e._fullLayout,n=e._context,c=t._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d,f=n.modeBarButtons;d=Array.isArray(f)&&f.length?function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var o=n[r];if("string"==typeof o){if(void 0===s[o])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=s[o]}}return e}(f):!n.displayModeBar&&n.watermark?[]:function(e){var t=e._fullLayout,n=e._fullData,l=e._context,c=l.modeBarButtonsToRemove,d=l.modeBarButtonsToAdd,f=t._has("cartesian"),h=t._has("gl3d"),p=t._has("geo"),g=t._has("pie"),m=t._has("funnelarea"),v=t._has("gl2d"),_=t._has("ternary"),y=t._has("mapbox"),x=t._has("polar"),b=t._has("sankey"),w=function(e){for(var t=r.list({_fullLayout:e},null,!0),n=0;n<t.length;n++)if(!t[n].fixedrange)return!1;return!0}(t),M=a(t.hovermode),S=[];function A(e){if(e.length){for(var t=[],n=0;n<e.length;n++){var r=e[n];-1===c.indexOf(r)&&t.push(s[r])}S.push(t)}}var C=["toImage"];l.showEditInChartStudio?C.push("editInChartStudio"):l.showSendToCloud&&C.push("sendDataToCloud");A(C);var I=[],k=[],R=[],B=[];(f||v||g||m||_)+p+h+y+x>1?(k=["toggleHover"],R=["resetViews"]):p?(I=["zoomInGeo","zoomOutGeo"],k=["hoverClosestGeo"],R=["resetGeo"]):h?(k=["hoverClosest3d"],R=["resetCameraDefault3d","resetCameraLastSave3d"]):y?(I=["zoomInMapbox","zoomOutMapbox"],k=["toggleHover"],R=["resetViewMapbox"]):v?k=["hoverClosestGl2d"]:g?k=["hoverClosestPie"]:b?(k=["hoverClosestCartesian","hoverCompareCartesian"],R=["resetViewSankey"]):k=["toggleHover"];f&&(k=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);(function(e){for(var t=0;t<e.length;t++)if(!i.traceIs(e[t],"noHover"))return!1;return!0}(n)||M)&&(k=[]);!f&&!v||w||(I=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==R[0]&&(R=["resetScale2d"]));h?B=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||v)&&!w||_?B=["zoom2d","pan2d"]:y||p?B=["pan2d"]:x&&(B=["zoom2d"]);(function(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&(i.traceIs(r,"scatter-like")?(o.hasMarkers(r)||o.hasText(r))&&(t=!0):i.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(t=!0))}return t})(n)&&B.push("select2d","lasso2d");if(Array.isArray(d)){for(var P=[],L=0;L<d.length;L++){var F=d[L];"string"==typeof F?-1!==u.indexOf(F)&&(t._has("mapbox")||t._has("cartesian"))&&B.push(F):P.push(F)}d=P}return A(B),A(I.concat(R)),A(k),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}(S,d)}(e),c?c.update(e,d):t._modeBar=l(e,d)}else c&&(c.destroy(),delete t._modeBar)};var u=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"]},1776:function(e,t,n){"use strict";var r=n(24),o=n(12),i=n(3),a=n(244),l=new DOMParser;function s(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var u=s.prototype;u.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,o="modebar-"+r._uid;this.element.setAttribute("id",o),this._uid=o,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var a=r.modebar,l="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(o),i.addRelatedStyleRule(o,l+"#"+o+" .modebar-group","background-color: "+a.bgcolor),i.addRelatedStyleRule(o,"#"+o+" .modebar-btn .icon path","fill: "+a.color),i.addRelatedStyleRule(o,"#"+o+" .modebar-btn:hover .icon path","fill: "+a.activecolor),i.addRelatedStyleRule(o,"#"+o+" .modebar-btn.active .icon path","fill: "+a.activecolor);var s=!this.hasButtons(t),u=this.hasLogo!==n.displaylogo,c=this.locale!==n.locale;if(this.locale=n.locale,(s||u||c)&&(this.removeAllButtons(),this.updateButtons(t),n.watermark||n.displaylogo)){var d=this.getLogo();n.watermark&&(d.className=d.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(d,this.element.childNodes[0]):this.element.appendChild(d),this.hasLogo=!0}this.updateActiveButton()},u.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(e){var n=t.createGroup();e.forEach((function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var o=t.createButton(e);t.buttonElements.push(o),n.appendChild(o)})),t.element.appendChild(n)}))},u.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},u.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var o=e.title;void 0===o?o=e.name:"function"==typeof o&&(o=o(this.graphInfo)),(o||0===o)&&n.setAttribute("data-title",o),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var i=e.val;if(void 0!==i&&("function"==typeof i&&(i=i(this.graphInfo)),n.setAttribute("data-val",i)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",(function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)})),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&r.select(n).classed("active",!0);var l=e.icon;return"function"==typeof l?n.appendChild(l()):n.appendChild(this.createIcon(l||a.question)),n.setAttribute("data-gravity",e.gravity||"n"),n},u.createIcon=function(e){var t,n=o(e.height)?Number(e.height):e.ascent-e.descent,r="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,e.width,n].join(" ")),t.setAttribute("class","icon");var i=document.createElementNS(r,"path");i.setAttribute("d",e.path),e.transform?i.setAttribute("transform",e.transform):void 0!==e.ascent&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(i)}e.svg&&(t=l.parseFromString(e.svg,"application/xml").childNodes[0]);return t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},u.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach((function(e){var o=e.getAttribute("data-val")||!0,a=e.getAttribute("data-attr"),l="true"===e.getAttribute("data-toggle"),s=r.select(e);if(l)a===n&&s.classed("active",!s.classed("active"));else{var u=null===a?a:i.nestedProperty(t,a).get();s.classed("active",u===o)}}))},u.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},u.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(a.newplotlylogo)),e.appendChild(t),e},u.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},u.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)},e.exports=function(e,t){var n=e._fullLayout,o=new s({graphInfo:e,container:n._modebardiv.node(),buttons:t});return n._privateplot&&r.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}},1777:function(e,t,n){var r,o=n(1778),i=n(1779),a=n(1780),l=n(1782),s=n(1783),u=n(1784),c=!1,d=i();function f(e,t,n){var o=r.segments(e),i=r.segments(t),a=n(r.combine(o,i));return r.polygon(a)}r={buildLog:function(e){return!0===e?c=o():!1===e&&(c=!1),!1!==c&&c.list},epsilon:function(e){return d.epsilon(e)},segments:function(e){var t=a(!0,d,c);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:a(!1,d,c).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,c),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,c),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,c),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,c),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,c),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:l(e.segments,d,c),inverted:e.inverted}},polygonFromGeoJSON:function(e){return u.toPolygon(r,e)},polygonToGeoJSON:function(e){return u.fromPolygon(r,d,e)},union:function(e,t){return f(e,t,r.selectUnion)},intersect:function(e,t){return f(e,t,r.selectIntersect)},difference:function(e,t){return f(e,t,r.selectDifference)},differenceRev:function(e,t){return f(e,t,r.selectDifferenceRev)},xor:function(e,t){return f(e,t,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),e.exports=r},1778:function(e,t){e.exports=function(){var e,t=0,n=!1;function r(t,n){return e.list.push({type:t,data:n?JSON.parse(JSON.stringify(n)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return r("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return r("div_seg",{seg:e,pt:t}),r("chop",{seg:e,pt:t})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,t){return r("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,t,n){return r("temp_status",{seg:e,above:t,below:n})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,t,n){return r("status",{seg:e,above:t,below:n})},vert:function(t){return t===n?e:(n=t,r("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,t){return r("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return r("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return r("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,t){return r("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return r("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return r("chain_con",{index1:e,index2:t})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,t){return r("chain_join",{index1:e,index2:t})},done:function(){return r("done")}}}},1779:function(e,t){e.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,r){var o=n[0],i=n[1],a=r[0],l=r[1],s=t[0];return(a-o)*(t[1]-i)-(l-i)*(s-o)>=-e},pointBetween:function(t,n,r){var o=t[1]-n[1],i=r[0]-n[0],a=t[0]-n[0],l=r[1]-n[1],s=a*i+o*l;return!(s<e)&&!(s-(i*i+l*l)>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(e,n){return t.pointsSameX(e,n)&&t.pointsSameY(e,n)},pointsCompare:function(e,n){return t.pointsSameX(e,n)?t.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1},pointsCollinear:function(t,n,r){var o=t[0]-n[0],i=t[1]-n[1],a=n[0]-r[0],l=n[1]-r[1];return Math.abs(o*l-a*i)<e},linesIntersect:function(t,n,r,o){var i=n[0]-t[0],a=n[1]-t[1],l=o[0]-r[0],s=o[1]-r[1],u=i*s-a*l;if(Math.abs(u)<e)return!1;var c=t[0]-r[0],d=t[1]-r[1],f=(l*d-s*c)/u,h=(i*d-a*c)/u,p={alongA:0,alongB:0,pt:[t[0]+f*i,t[1]+f*a]};return p.alongA=f<=-e?-2:f<e?-1:f-1<=-e?0:f-1<e?1:2,p.alongB=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p},pointInsideRegion:function(t,n){for(var r=t[0],o=t[1],i=n[n.length-1][0],a=n[n.length-1][1],l=!1,s=0;s<n.length;s++){var u=n[s][0],c=n[s][1];c-o>e!=a-o>e&&(i-u)*(o-c)/(a-c)+u-r>e&&(l=!l),i=u,a=c}return l}};return t}},1780:function(e,t,n){var r=n(1781);e.exports=function(e,t,n){function o(e,t,r){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var i=r.create();function a(e,n){i.insertBefore(e,(function(r){return function(e,n,r,o,i,a){var l=t.pointsCompare(n,i);return 0!==l?l:t.pointsSame(r,a)?0:e!==o?e?1:-1:t.pointAboveOrOnLine(r,o?i:a,o?a:i)?1:-1}(e.isStart,e.pt,n,r.isStart,r.pt,r.other.pt)<0}))}function l(e,t){var n=function(e,t){var n=r.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return a(n,e.end),n}(e,t);return function(e,t,n){var o=r.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=o,a(o,e.pt)}(n,e,t),n}function s(e,t){var r=o(t,e.seg.end,e.seg);return function(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,a(e.other,e.pt)}(e,t),l(r,e.primary)}function u(o,a){var l=r.create();function u(e){return l.findTransition((function(n){var r,o,i,a,l,s;return(r=e,o=n.ev,i=r.seg.start,a=r.seg.end,l=o.seg.start,s=o.seg.end,t.pointsCollinear(i,l,s)?t.pointsCollinear(a,l,s)||t.pointAboveOrOnLine(a,l,s)?1:-1:t.pointAboveOrOnLine(i,l,s)?1:-1)>0}))}function c(e,r){var o=e.seg,i=r.seg,a=o.start,l=o.end,u=i.start,c=i.end;n&&n.checkIntersection(o,i);var d=t.linesIntersect(a,l,u,c);if(!1===d){if(!t.pointsCollinear(a,l,u))return!1;if(t.pointsSame(a,c)||t.pointsSame(l,u))return!1;var f=t.pointsSame(a,u),h=t.pointsSame(l,c);if(f&&h)return r;var p=!f&&t.pointBetween(a,u,c),g=!h&&t.pointBetween(l,u,c);if(f)return g?s(r,l):s(e,c),r;p&&(h||(g?s(r,l):s(e,c)),s(r,a))}else 0===d.alongA&&(-1===d.alongB?s(e,u):0===d.alongB?s(e,d.pt):1===d.alongB&&s(e,c)),0===d.alongB&&(-1===d.alongA?s(r,a):0===d.alongA?s(r,d.pt):1===d.alongA&&s(r,l));return!1}for(var d=[];!i.isEmpty();){var f=i.getHead();if(n&&n.vert(f.pt[0]),f.isStart){n&&n.segmentNew(f.seg,f.primary);var h=u(f),p=h.before?h.before.ev:null,g=h.after?h.after.ev:null;function m(){if(p){var e=c(f,p);if(e)return e}return!!g&&c(f,g)}n&&n.tempStatus(f.seg,!!p&&p.seg,!!g&&g.seg);var v,_=m();if(_){var y;if(e)(y=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below)&&(_.seg.myFill.above=!_.seg.myFill.above);else _.seg.otherFill=f.seg.myFill;n&&n.segmentUpdate(_.seg),f.other.remove(),f.remove()}if(i.getHead()!==f){n&&n.rewind(f.seg);continue}if(e)y=null===f.seg.myFill.below||f.seg.myFill.above!==f.seg.myFill.below,f.seg.myFill.below=g?g.seg.myFill.above:o,f.seg.myFill.above=y?!f.seg.myFill.below:f.seg.myFill.below;else if(null===f.seg.otherFill)v=g?f.primary===g.primary?g.seg.otherFill.above:g.seg.myFill.above:f.primary?a:o,f.seg.otherFill={above:v,below:v};n&&n.status(f.seg,!!p&&p.seg,!!g&&g.seg),f.other.status=h.insert(r.node({ev:f}))}else{var x=f.status;if(null===x)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(x.prev)&&l.exists(x.next)&&c(x.prev.ev,x.next.ev),n&&n.statusRemove(x.ev.seg),x.remove(),!f.primary){var b=f.seg.myFill;f.seg.myFill=f.seg.otherFill,f.seg.otherFill=b}d.push(f.seg)}i.getHead().remove()}return n&&n.done(),d}return e?{addRegion:function(e){for(var r,o,i,a=e[e.length-1],s=0;s<e.length;s++){r=a,a=e[s];var u=t.pointsCompare(r,a);0!==u&&l((o=u<0?r:a,i=u<0?a:r,{id:n?n.segmentId():-1,start:o,end:i,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return u(e,!1)}}:{calculate:function(e,t,n,r){return e.forEach((function(e){l(o(e.start,e.end,e),!0)})),n.forEach((function(e){l(o(e.start,e.end,e),!1)})),u(t,r)}}}},1781:function(e,t){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var r=e.root,o=e.root.next;null!==o;){if(n(o))return t.prev=o.prev,t.next=o,o.prev.next=t,void(o.prev=t);r=o,o=o.next}r.next=t,t.prev=r,t.next=null},findTransition:function(t){for(var n=e.root,r=e.root.next;null!==r&&!t(r);)n=r,r=r.next;return{before:n===e.root?null:n,after:r,insert:function(e){return e.prev=n,e.next=r,n.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},1782:function(e,t){e.exports=function(e,t,n){var r=[],o=[];return e.forEach((function(e){var i=e.start,a=e.end;if(t.pointsSame(i,a))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(e);for(var l={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},u=l,c=0;c<r.length;c++){var d=(m=r[c])[0],f=(m[1],m[m.length-1]);m[m.length-2];if(t.pointsSame(d,i)){if(S(c,!0,!0))break}else if(t.pointsSame(d,a)){if(S(c,!0,!1))break}else if(t.pointsSame(f,i)){if(S(c,!1,!0))break}else if(t.pointsSame(f,a)&&S(c,!1,!1))break}if(u===l)return r.push([i,a]),void(n&&n.chainNew(i,a));if(u===s){n&&n.chainMatch(l.index);var h=l.index,p=l.matches_pt1?a:i,g=l.matches_head,m=r[h],v=g?m[0]:m[m.length-1],_=g?m[1]:m[m.length-2],y=g?m[m.length-1]:m[0],x=g?m[m.length-2]:m[1];return t.pointsCollinear(_,v,p)&&(g?(n&&n.chainRemoveHead(l.index,p),m.shift()):(n&&n.chainRemoveTail(l.index,p),m.pop()),v=_),t.pointsSame(y,p)?(r.splice(h,1),t.pointsCollinear(x,y,v)&&(g?(n&&n.chainRemoveTail(l.index,v),m.pop()):(n&&n.chainRemoveHead(l.index,v),m.shift())),n&&n.chainClose(l.index),void o.push(m)):void(g?(n&&n.chainAddHead(l.index,p),m.unshift(p)):(n&&n.chainAddTail(l.index,p),m.push(p)))}var b=l.index,w=s.index;n&&n.chainConnect(b,w);var M=r[b].length<r[w].length;l.matches_head?s.matches_head?M?(A(b),C(b,w)):(A(w),C(w,b)):C(w,b):s.matches_head?C(b,w):M?(A(b),C(w,b)):(A(w),C(b,w))}function S(e,t,n){return u.index=e,u.matches_head=t,u.matches_pt1=n,u===l?(u=s,!1):(u=null,!0)}function A(e){n&&n.chainReverse(e),r[e].reverse()}function C(e,o){var i=r[e],a=r[o],l=i[i.length-1],s=i[i.length-2],u=a[0],c=a[1];t.pointsCollinear(s,l,u)&&(n&&n.chainRemoveTail(e,l),i.pop(),l=s),t.pointsCollinear(l,u,c)&&(n&&n.chainRemoveHead(o,u),a.shift()),n&&n.chainJoin(e,o),r[e]=i.concat(a),r.splice(o,1)}})),o}},1783:function(e,t){function n(e,t,n){var r=[];return e.forEach((function(e){var o=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[o]&&r.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[o],below:2===t[o]},otherFill:null})})),n&&n.selected(r),r}var r={union:function(e,t){return n(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return n(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return n(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return n(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return n(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};e.exports=r},1784:function(e,t){var n={toPolygon:function(e,t){function n(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}for(var r=n(t[0]),o=1;o<t.length;o++)r=e.selectDifference(e.combine(r,n(t[o])));return r}if("Polygon"===t.type)return e.polygon(n(t.coordinates));if("MultiPolygon"===t.type){for(var r=e.segments({inverted:!1,regions:[]}),o=0;o<t.coordinates.length;o++)r=e.selectUnion(e.combine(r,n(t.coordinates[o])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,n){function r(e,n){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],n)}function o(e){return{region:e,children:[]}}n=e.polygon(e.segments(n));var i=o(null);function a(e,t){for(var n=0;n<e.children.length;n++){if(r(t,(l=e.children[n]).region))return void a(l,t)}var i=o(t);for(n=0;n<e.children.length;n++){var l;r((l=e.children[n]).region,t)&&(i.children.push(l),e.children.splice(n,1),n--)}e.children.push(i)}for(var l=0;l<n.regions.length;l++){var s=n.regions[l];s.length<3||a(i,s)}function u(e,t){for(var n=0,r=e[e.length-1][0],o=e[e.length-1][1],i=[],a=0;a<e.length;a++){var l=e[a][0],s=e[a][1];i.push([l,s]),n+=s*r-l*o,r=l,o=s}return n<0!==t&&i.reverse(),i.push([i[0][0],i[0][1]]),i}var c=[];function d(e){var t=[u(e.region,!1)];c.push(t);for(var n=0;n<e.children.length;n++)t.push(f(e.children[n]))}function f(e){for(var t=0;t<e.children.length;t++)d(e.children[t]);return u(e.region,!0)}for(l=0;l<i.children.length;l++)d(i.children[l]);return c.length<=0?{type:"Polygon",coordinates:[]}:1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}};e.exports=n},664:function(e,t,n){"use strict";var r=n(1777),o=n(15),i=n(81).dashStyle,a=n(52),l=n(646),s=n(226).makeEventData,u=n(160),c=u.freeMode,d=u.rectMode,f=u.drawMode,h=u.openMode,p=u.selectMode,g=n(303),m=n(120).handleEllipse,v=n(304),_=n(3),y=n(773),x=n(166),b=n(83).getFromId,w=n(1293),M=n(900).redrawReglTraces,S=n(60),A=S.MINSELECT,C=y.filter,I=y.tester,k=n(89).clearSelect,R=n(167),B=R.p2r,P=R.axValue,L=R.getTransform;function F(e,t,n,r,o,i,a){var l,s,u,c,d,f,p,m,v,_=t._hoverdata,y=t._fullLayout.clickmode.indexOf("event")>-1,x=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(_)){D(e,t,i);var b=function(e,t){var n,r,o=e[0],i=-1,a=[];for(r=0;r<t.length;r++)if(n=t[r],o.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===o.hoverOnBox)break;void 0!==o.pointNumber?i=o.pointNumber:void 0!==o.binNumber&&(i=o.binNumber,a=o.pointNumbers);break}return{pointNumber:i,pointNumbers:a,searchInfo:n}}(_,l=G(t,n,r,o));if(b.pointNumbers.length>0?function(e,t){var n,r,o,i=[];for(o=0;o<e.length;o++)(n=e[o]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&i.push(n);if(1===i.length&&i[0]===t.searchInfo&&(r=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(o=0;o<t.pointNumbers.length;o++)if(r.selectedpoints.indexOf(t.pointNumbers[o])<0)return!1;return!0}return!1}(l,b):function(e){var t,n,r,o=0;for(r=0;r<e.length;r++)if(t=e[r],(n=t.cd[0].trace).selectedpoints){if(n.selectedpoints.length>1)return!1;if((o+=n.selectedpoints.length)>1)return!1}return 1===o}(l)&&(f=z(b))){for(a&&a.remove(),v=0;v<l.length;v++)(s=l[v])._module.selectPoints(s,!1);H(t,l),E(i),y&&t.emit("plotly_deselect",null)}else{for(p=e.shiftKey&&(void 0!==f?f:z(b)),u=function(e,t,n){return{pointNumber:e,searchInfo:t,subtract:n}}(b.pointNumber,b.searchInfo,p),c=T(i.selectionDefs.concat([u])),v=0;v<l.length;v++)if(d=U(l[v]._module.selectPoints(l[v],c),l[v]),x.length)for(var w=0;w<d.length;w++)x.push(d[w]);else x=d;if(H(t,l,m={points:x}),u&&i&&i.selectionDefs.push(u),a){var M=i.mergedPolygons,S=h(i.dragmode);g(Z(M,S),a,i)}y&&t.emit("plotly_selected",m)}}}function N(e){return"pointNumber"in e&&"searchInfo"in e}function O(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,n,r,o){var i=e.searchInfo.cd[0].trace._expandedIndex;return o.cd[0].trace._expandedIndex===i&&r===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function T(e){for(var t=[],n=N(e[0])?0:e[0][0][0],r=n,o=N(e[0])?0:e[0][0][1],i=o,a=0;a<e.length;a++)if(N(e[a]))t.push(O(e[a]));else{var l=y.tester(e[a]);l.subtract=e[a].subtract,t.push(l),n=Math.min(n,l.xmin),r=Math.max(r,l.xmax),o=Math.min(o,l.ymin),i=Math.max(i,l.ymax)}return{xmin:n,xmax:r,ymin:o,ymax:i,pts:[],contains:function(e,n,r,o){for(var i=!1,a=0;a<t.length;a++)t[a].contains(e,n,r,o)&&(i=!1===t[a].subtract);return i},isRect:!1,degenerate:!1}}function D(e,t,n){t._fullLayout._drawing=!1;var r=t._fullLayout,o=n.plotinfo,i=n.dragmode,a=r._lastSelectedSubplot&&r._lastSelectedSubplot===o.id,l=(e.shiftKey||e.altKey)&&!(f(i)&&h(i));a&&l&&o.selection&&o.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=o.selection.selectionDefs,n.mergedPolygons=o.selection.mergedPolygons):l&&o.selection||E(n),a||(k(t),r._lastSelectedSubplot=o.id)}function E(e){var t=e.dragmode,n=e.plotinfo,r=e.gd;if(r._fullLayout._activeShapeIndex>=0&&r._fullLayout._deactivateShape(r),f(t)){var i=r._fullLayout._zoomlayer.selectAll(".select-outline-"+n.id);if(i&&r._fullLayout._drawing){var a=v(i,e);a&&o.call("_guiRelayout",r,{shapes:a}),r._fullLayout._drawing=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function G(e,t,n,r){var o,i,a,l=[],s=t.map((function(e){return e._id})),u=n.map((function(e){return e._id}));for(a=0;a<e.calcdata.length;a++)if(!0===(i=(o=e.calcdata[a])[0].trace).visible&&i._module&&i._module.selectPoints)if(!r||i.subplot!==r&&i.geo!==r)if("splom"===i.type&&i._xaxes[s[0]]&&i._yaxes[u[0]]){var c=f(i._module,o,t[0],n[0]);c.scene=e._fullLayout._splomScenes[i.uid],l.push(c)}else if("sankey"===i.type){var d=f(i._module,o,t[0],n[0]);l.push(d)}else{if(-1===s.indexOf(i.xaxis))continue;if(-1===u.indexOf(i.yaxis))continue;l.push(f(i._module,o,b(e,i.xaxis),b(e,i.yaxis)))}else l.push(f(i._module,o,t[0],n[0]));return l;function f(e,t,n,r){return{_module:e,cd:t,xaxis:n,yaxis:r}}}function z(e){var t=e.searchInfo.cd[0].trace,n=e.pointNumber,r=e.pointNumbers,o=r.length>0?r[0]:n;return!!t.selectedpoints&&t.selectedpoints.indexOf(o)>-1}function H(e,t,n){var r,i,a,l;for(r=0;r<t.length;r++){var s=t[r].cd[0].trace._fullInput,u=e._fullLayout._tracePreGUI[s.uid]||{};void 0===u.selectedpoints&&(u.selectedpoints=s._input.selectedpoints||null)}if(n){var c=n.points||[];for(r=0;r<t.length;r++)(l=t[r].cd[0].trace)._input.selectedpoints=l._fullInput.selectedpoints=[],l._fullInput!==l&&(l.selectedpoints=[]);for(r=0;r<c.length;r++){var d=c[r],f=d.data,h=d.fullData;d.pointIndices?([].push.apply(f.selectedpoints,d.pointIndices),l._fullInput!==l&&[].push.apply(h.selectedpoints,d.pointIndices)):(f.selectedpoints.push(d.pointIndex),l._fullInput!==l&&h.selectedpoints.push(d.pointIndex))}}else for(r=0;r<t.length;r++)delete(l=t[r].cd[0].trace).selectedpoints,delete l._input.selectedpoints,l._fullInput!==l&&delete l._fullInput.selectedpoints;var p=!1;for(r=0;r<t.length;r++){l=(a=(i=t[r]).cd)[0].trace,o.traceIs(l,"regl")&&(p=!0);var g=i._module,m=g.styleOnSelect||g.style;m&&(m(e,a,a[0].node3),a[0].nodeRangePlot3&&m(e,a,a[0].nodeRangePlot3))}p&&(w(e),M(e))}function U(e,t){if(Array.isArray(e))for(var n=t.cd,r=t.cd[0].trace,o=0;o<e.length;o++)e[o]=s(e[o],r,n);return e}function Z(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var o=0;o<e[r].length;o++){n[r][o]=[],n[r][o][0]=o?"L":"M";for(var i=0;i<e[r][o].length;i++)n[r][o].push(e[r][o][i])}t||n[r].push(["Z",n[r][0][1],n[r][0][2]])}return n}e.exports={prepSelect:function(e,t,n,o,s){var u,v,y,b,w,M,k,R=c(s),N=d(s),O=h(s),z=f(s),j=p(s),J="drawcircle"===s,V="drawline"===s||J,X=o.gd,q=X._fullLayout,K=q._zoomlayer,Y=o.element.getBoundingClientRect(),W=o.plotinfo,Q=L(W),$=t-Y.left,ee=n-Y.top,te=$,ne=ee,re="M"+$+","+ee,oe=o.xaxes[0]._length,ie=o.yaxes[0]._length,ae=o.xaxes.concat(o.yaxes),le=e.altKey&&!(f(s)&&O);D(e,X,o),R&&(u=C([[$,ee]],S.BENDPX));var se=K.selectAll("path.select-outline-"+W.id).data(z?[0]:[1,2]),ue=q.newshape;se.enter().append("path").attr("class",(function(e){return"select-outline select-outline-"+e+" select-outline-"+W.id})).style(z?{opacity:ue.opacity/2,fill:O?void 0:ue.fillcolor,stroke:ue.line.color,"stroke-dasharray":i(ue.line.dash,ue.line.width),"stroke-width":ue.line.width+"px"}:{}).attr("fill-rule",ue.fillrule).classed("cursor-move",!!z).attr("transform",Q).attr("d",re+"Z");var ce,de=K.append("path").attr("class","zoombox-corners").style({fill:a.background,stroke:a.defaultLine,"stroke-width":1}).attr("transform",Q).attr("d","M0,0Z"),fe=q._uid+S.SELECTID,he=[],pe=G(X,o.xaxes,o.yaxes,o.subplot);function ge(e,t){return e-t}ce=W.fillRangeItems?W.fillRangeItems:N?function(e,t){var n=e.range={};for(w=0;w<ae.length;w++){var r=ae[w],o=r._id.charAt(0);n[r._id]=[B(r,t[o+"min"]),B(r,t[o+"max"])].sort(ge)}}:function(e,t,n){var r=e.lassoPoints={};for(w=0;w<ae.length;w++){var o=ae[w];r[o._id]=n.filtered.map(P(o))}},o.moveFn=function(e,t){te=Math.max(0,Math.min(oe,e+$)),ne=Math.max(0,Math.min(ie,t+ee));var n=Math.abs(te-$),i=Math.abs(ne-ee);if(N){var a,l,s;if(j){var c=q.selectdirection;switch(a="any"===c?i<Math.min(.6*n,A)?"h":n<Math.min(.6*i,A)?"v":"d":c){case"h":l=J?ie/2:0,s=ie;break;case"v":l=J?oe/2:0,s=oe}}if(z)switch(q.newshape.drawdirection){case"vertical":a="h",l=J?ie/2:0,s=ie;break;case"horizontal":a="v",l=J?oe/2:0,s=oe;break;case"ortho":n<i?(a="h",l=ee,s=ne):(a="v",l=$,s=te);break;default:a="d"}"h"===a?((b=V?m(J,[te,l],[te,s]):[[$,l],[$,s],[te,s],[te,l]]).xmin=V?te:Math.min($,te),b.xmax=V?te:Math.max($,te),b.ymin=Math.min(l,s),b.ymax=Math.max(l,s),de.attr("d","M"+b.xmin+","+(ee-A)+"h-4v"+2*A+"h4ZM"+(b.xmax-1)+","+(ee-A)+"h4v"+2*A+"h-4Z")):"v"===a?((b=V?m(J,[l,ne],[s,ne]):[[l,ee],[l,ne],[s,ne],[s,ee]]).xmin=Math.min(l,s),b.xmax=Math.max(l,s),b.ymin=V?ne:Math.min(ee,ne),b.ymax=V?ne:Math.max(ee,ne),de.attr("d","M"+($-A)+","+b.ymin+"v-4h"+2*A+"v4ZM"+($-A)+","+(b.ymax-1)+"v4h"+2*A+"v-4Z")):"d"===a&&((b=V?m(J,[$,ee],[te,ne]):[[$,ee],[$,ne],[te,ne],[te,ee]]).xmin=Math.min($,te),b.xmax=Math.max($,te),b.ymin=Math.min(ee,ne),b.ymax=Math.max(ee,ne),de.attr("d","M0,0Z"))}else R&&(u.addPt([te,ne]),b=u.filtered);o.selectionDefs&&o.selectionDefs.length?(y=function(e,t,n){if(n)return r.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions;return r.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(o.mergedPolygons,b,le),b.subtract=le,v=T(o.selectionDefs.concat([b]))):(y=[b],v=I(b)),g(Z(y,O),se,o),j&&x.throttle(fe,S.SELECTDELAY,(function(){var e;he=[];var t,n=[];for(w=0;w<pe.length;w++)if(t=(M=pe[w])._module.selectPoints(M,v),n.push(t),e=U(t,M),he.length)for(var r=0;r<e.length;r++)he.push(e[r]);else he=e;H(X,pe,k={points:he}),ce(k,b,u),o.gd.emit("plotly_selecting",k)}))},o.clickFn=function(e,t){if(de.remove(),X._fullLayout._activeShapeIndex>=0)X._fullLayout._deactivateShape(X);else if(!z){var n=q.clickmode;x.done(fe).then((function(){if(x.clear(fe),2===e){for(se.remove(),w=0;w<pe.length;w++)(M=pe[w])._module.selectPoints(M,!1);H(X,pe),E(o),X.emit("plotly_deselect",null)}else n.indexOf("select")>-1&&F(t,X,o.xaxes,o.yaxes,o.subplot,o,se),"event"===n&&X.emit("plotly_selected",void 0);l.click(X,t)})).catch(_.error)}},o.doneFn=function(){de.remove(),x.done(fe).then((function(){x.clear(fe),o.gd.emit("plotly_selected",k),b&&o.selectionDefs&&(b.subtract=le,o.selectionDefs.push(b),o.mergedPolygons.length=0,[].push.apply(o.mergedPolygons,y)),o.doneFnCompleted&&o.doneFnCompleted(he)})).catch(_.error),z&&E(o)}},clearSelect:k,clearSelectionsCache:E,selectOnClick:F}},773:function(e,t,n){"use strict";var r=n(302).dot,o=n(25).BADNUM,i=e.exports={};i.tester=function(e){var t,n=e.slice(),r=n[0][0],i=r,a=n[0][1],l=a;for(n.push(n[0]),t=1;t<n.length;t++)r=Math.min(r,n[t][0]),i=Math.max(i,n[t][0]),a=Math.min(a,n[t][1]),l=Math.max(l,n[t][1]);var s,u=!1;5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(u=!0,s=function(e){return e[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(u=!0,s=function(e){return e[1]===n[0][1]}));var c=!0,d=n[0];for(t=1;t<n.length;t++)if(d[0]!==n[t][0]||d[1]!==n[t][1]){c=!1;break}return{xmin:r,xmax:i,ymin:a,ymax:l,pts:n,contains:u?function(e,t){var n=e[0],u=e[1];return!(n===o||n<r||n>i||u===o||u<a||u>l)&&(!t||!s(e))}:function(e,t){var s=e[0],u=e[1];if(s===o||s<r||s>i||u===o||u<a||u>l)return!1;var c,d,f,h,p,g=n.length,m=n[0][0],v=n[0][1],_=0;for(c=1;c<g;c++)if(d=m,f=v,m=n[c][0],v=n[c][1],!(s<(h=Math.min(d,m))||s>Math.max(d,m)||u>Math.max(f,v)))if(u<Math.min(f,v))s!==h&&_++;else{if(u===(p=m===d?u:f+(s-d)*(v-f)/(m-d)))return 1!==c||!t;u<=p&&s!==h&&_++}return _%2==1},isRect:u,degenerate:c}},i.isSegmentBent=function(e,t,n,o){var i,a,l,s=e[t],u=[e[n][0]-s[0],e[n][1]-s[1]],c=r(u,u),d=Math.sqrt(c),f=[-u[1]/d,u[0]/d];for(i=t+1;i<n;i++)if(a=[e[i][0]-s[0],e[i][1]-s[1]],(l=r(a,u))<0||l>c||Math.abs(r(a,f))>o)return!0;return!1},i.filter=function(e,t){var n=[e[0]],r=0,o=0;function a(a){e.push(a);var l=n.length,s=r;n.splice(o+1);for(var u=s+1;u<e.length;u++)(u===e.length-1||i.isSegmentBent(e,s,u+1,t))&&(n.push(e[u]),n.length<l-2&&(r=u,o=n.length-1),s=u)}e.length>1&&a(e.pop());return{addPt:a,raw:e,filtered:n}}},900:function(e,t,n){"use strict";var r=n(24),o=n(15),i=n(82),a=n(3),l=n(1293),s=n(52),u=n(81),c=n(227),d=n(1774),f=n(80),h=n(85),p=n(1294),g=p.enforce,m=p.clean,v=n(225).doAutoRange;function _(e,t,n){for(var r=0;r<n.length;r++){var o=n[r][0],i=n[r][1];if(!(o[0]>=e[1]||o[1]<=e[0])&&(i[0]<t[1]&&i[1]>t[0]))return!0}return!1}function y(e){var n,o,l,c,p,g,m=e._fullLayout,v=m._size,y=v.p,b=f.list(e,"",!0);if(m._paperdiv.style({width:e._context.responsive&&m.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":m.width+"px",height:e._context.responsive&&m.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":m.height+"px"}).selectAll(".main-svg").call(u.setSize,m.width,m.height),e._context.setBackground(e,m.paper_bgcolor),t.drawMainTitle(e),d.manage(e),!m._has("cartesian"))return i.previousPromises(e);function M(e,t,n){var r=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===n?t._offset-y-r:t._offset+t._length+y+r:v.t+v.h*(1-(e.position||0))+r%1:t?"right"===n?t._offset+t._length+y+r:t._offset-y-r:v.l+v.w*(e.position||0)+r%1}for(n=0;n<b.length;n++){var S=(c=b[n])._anchorAxis;c._linepositions={},c._lw=u.crispRound(e,c.linewidth,1),c._mainLinePosition=M(c,S,c.side),c._mainMirrorPosition=c.mirror&&S?M(c,S,h.OPPOSITE_SIDE[c.side]):null}var A=[],C=[],I=[],k=1===s.opacity(m.paper_bgcolor)&&1===s.opacity(m.plot_bgcolor)&&m.paper_bgcolor===m.plot_bgcolor;for(o in m._plots)if((l=m._plots[o]).mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var R=l.xaxis.domain,B=l.yaxis.domain,P=l.plotgroup;if(_(R,B,I)){var L=P.node(),F=l.bg=a.ensureSingle(P,"rect","bg");L.insertBefore(F.node(),L.childNodes[0]),C.push(o)}else P.select("rect.bg").remove(),I.push([R,B]),k||(A.push(o),C.push(o))}var N,O,T,D,E,G,z,H,U,Z,j,J,V,X=m._bgLayer.selectAll(".bg").data(A);for(X.enter().append("rect").classed("bg",!0),X.exit().remove(),X.each((function(e){m._plots[e].bg=r.select(this)})),n=0;n<C.length;n++)l=m._plots[C[n]],p=l.xaxis,g=l.yaxis,l.bg&&l.bg.call(u.setRect,p._offset-y,g._offset-y,p._length+2*y,g._length+2*y).call(s.fill,m.plot_bgcolor).style("stroke-width",0);if(!m._hasOnlyLargeSploms)for(o in m._plots){l=m._plots[o],p=l.xaxis,g=l.yaxis;var q,K,Y=l.clipId="clip"+m._uid+o+"plot",W=a.ensureSingleById(m._clips,"clipPath",Y,(function(e){e.classed("plotclip",!0).append("rect")}));l.clipRect=W.select("rect").attr({width:p._length,height:g._length}),u.setTranslate(l.plot,p._offset,g._offset),l._hasClipOnAxisFalse?(q=null,K=Y):(q=Y,K=null),u.setClipUrl(l.plot,q,e),l.layerClipId=K}function Q(e){return"M"+N+","+e+"H"+O}function $(e){return"M"+p._offset+","+e+"h"+p._length}function ee(e){return"M"+e+","+H+"V"+z}function te(e){return"M"+e+","+g._offset+"v"+g._length}function ne(e,t,n){if(!e.showline||o!==e._mainSubplot)return"";if(!e._anchorAxis)return n(e._mainLinePosition);var r=t(e._mainLinePosition);return e.mirror&&(r+=t(e._mainMirrorPosition)),r}for(o in m._plots){l=m._plots[o],p=l.xaxis,g=l.yaxis;var re="M0,0";x(p,o)&&(E=w(p,"left",g,b),N=p._offset-(E?y+E:0),G=w(p,"right",g,b),O=p._offset+p._length+(G?y+G:0),T=M(p,g,"bottom"),D=M(p,g,"top"),!(V=!p._anchorAxis||o!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[o]=[T,D]),re=ne(p,Q,$),V&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(re+=Q(T)+Q(D)),l.xlines.style("stroke-width",p._lw+"px").call(s.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",re);var oe="M0,0";x(g,o)&&(j=w(g,"bottom",p,b),z=g._offset+g._length+(j?y:0),J=w(g,"top",p,b),H=g._offset-(J?y:0),U=M(g,p,"left"),Z=M(g,p,"right"),!(V=!g._anchorAxis||o!==g._mainSubplot)||"allticks"!==g.mirror&&"all"!==g.mirror||(g._linepositions[o]=[U,Z]),oe=ne(g,ee,te),V&&g.showline&&("all"===g.mirror||"allticks"===g.mirror)&&(oe+=ee(U)+ee(Z)),l.ylines.style("stroke-width",g._lw+"px").call(s.stroke,g.showline?g.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",oe)}return f.makeClipPaths(e),i.previousPromises(e)}function x(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function b(e,t,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var o=h.FROM_BL[t];return n.side===t?r.domain[o]===e.domain[o]:n.mirror&&r.domain[1-o]===e.domain[1-o]}function w(e,t,n,r){if(b(e,t,n))return n._lw;for(var o=0;o<r.length;o++){var i=r[o];if(i._mainAxis===n._mainAxis&&b(e,t,i))return i._lw}return 0}function M(e,t){var n=e.title,r=e._size,o=0;switch("start"===t?o=n.pad.l:"end"===t&&(o=-n.pad.r),n.xref){case"paper":return r.l+r.w*n.x+o;case"container":default:return e.width*n.x+o}}function S(e,t){var n=e.title,r=e._size,o=0;if("0em"!==t&&t?t===h.CAP_SHIFT+"em"&&(o=n.pad.t):o=-n.pad.b,"auto"===n.y)return r.t/2;switch(n.yref){case"paper":return r.t+r.h-r.h*n.y+o;case"container":default:return e.height-e.height*n.y+o}}t.layoutStyles=function(e){return a.syncOrAsync([i.doAutoMargin,y],e)},t.drawMainTitle=function(e){var t=e._fullLayout,n=function(e){var t=e.title,n="middle";a.isRightAnchor(t)?n="end":a.isLeftAnchor(t)&&(n="start");return n}(t),r=function(e){var t=e.title,n="0em";a.isTopAnchor(t)?n=h.CAP_SHIFT+"em":a.isMiddleAnchor(t)&&(n=h.MID_SHIFT+"em");return n}(t);c.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:M(t,n),y:S(t,r),"text-anchor":n,dy:r}})},t.doTraceStyle=function(e){var n,r=e.calcdata,a=[];for(n=0;n<r.length;n++){var s=r[n],u=s[0]||{},c=u.trace||{},d=c._module||{},f=d.arraysToCalcdata;f&&f(s,c);var h=d.editStyle;h&&a.push({fn:h,cd0:u})}if(a.length){for(n=0;n<a.length;n++){var p=a[n];p.fn(e,p.cd0)}l(e),t.redrawReglTraces(e)}return i.style(e),o.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doColorBars=function(e){return o.getComponentMethod("colorbar","draw")(e),i.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,o.call("plot",e,"",t)},t.doLegend=function(e){return o.getComponentMethod("legend","draw")(e),i.previousPromises(e)},t.doTicksRelayout=function(e){return f.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(o.subplotsRegistry.splom.updateGrid(e),l(e),t.redrawReglTraces(e)),t.drawMainTitle(e),i.previousPromises(e)},t.doModeBar=function(e){var t=e._fullLayout;d.manage(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(e)}return i.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++){var o=t[n[r]];o._scene.setViewport(o)}},t.drawData=function(e){var n=e._fullLayout;l(e);for(var r=n._basePlotModules,a=0;a<r.length;a++)r[a].plot(e);return t.redrawReglTraces(e),i.style(e),o.getComponentMethod("shapes","draw")(e),o.getComponentMethod("annotations","draw")(e),o.getComponentMethod("images","draw")(e),n._replotting=!1,i.previousPromises(e)},t.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var n,r,o=e._fullData,i=[],l=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),n=0;n<o.length;n++){var s=o[n];!0===s.visible&&0!==s._length&&("splom"===s.type?t._splomScenes[s.uid].draw():"scattergl"===s.type?a.pushUnique(i,s.xaxis+s.yaxis):"scatterpolargl"===s.type&&a.pushUnique(l,s.subplot))}for(n=0;n<i.length;n++)(r=t._plots[i[n]])._scene&&r._scene.draw();for(n=0;n<l.length;n++)(r=t[l[n]]._subplot)._scene&&r._scene.draw()}},t.doAutoRangeAndConstraints=function(e){for(var t,n,r=e._fullLayout,o=f.list(e,"",!0),i=r._axisMatchGroups||[],l={},s=0;s<o.length;s++)t=o[s],m(e,t),v(e,t),l[t._id]=1;g(e);e:for(var u=0;u<i.length;u++){var c,d=i[u],h=null;for(c in d)if(l[(t=f.getFromId(e,c))._id]){if(!1===t.autorange)continue e;n=a.simpleMap(t.range,t.r2l),h?h[0]<h[1]?(h[0]=Math.min(h[0],n[0]),h[1]=Math.max(h[1],n[1])):(h[0]=Math.max(h[0],n[0]),h[1]=Math.min(h[1],n[1])):h=n}for(c in d)(t=f.getFromId(e,c)).range=a.simpleMap(h,t.l2r),t._input.range=t.range.slice(),t.setScale()}},t.finalDraw=function(e){o.getComponentMethod("rangeslider","draw")(e),o.getComponentMethod("rangeselector","draw")(e)},t.drawMarginPushers=function(e){o.getComponentMethod("legend","draw")(e),o.getComponentMethod("rangeselector","draw")(e),o.getComponentMethod("sliders","draw")(e),o.getComponentMethod("updatemenus","draw")(e),o.getComponentMethod("colorbar","draw")(e)}}}]);