(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1084:function(e,t,i){"use strict";var o=i(3),n=function(e){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*e*e)};t.makeKDE=function(e,t,i){var o=i.length,a=n,r=e.bandwidth,s=1/(o*r);return function(e){for(var t=0,n=0;n<o;n++)t+=a((e-i[n])/r);return s*t}},t.getPositionOnKdePath=function(e,t,i){var n,a;"h"===t.orientation?(n="y",a="x"):(n="x",a="y");var r=o.findPointOnPath(e.path,i,a,{pathLength:e.pathLength}),s=e.posCenterPx,l=r[n];return[l,"both"===t.side?2*s-l:s]},t.getKdeValue=function(e,i,o){var n=e.pts.map(t.extractVal);return t.makeKDE(e,i,n)(o)/e.posDensityScale},t.extractVal=function(e){return e.v}},1112:function(e,t,i){"use strict";var o=i(12),n=i(80),a=i(3),r=i(25).BADNUM,s=a._;e.exports=function(e,t){var i,l,y,x,b,g,w=e._fullLayout,T=n.getFromId(e,t.xaxis||"x"),k=n.getFromId(e,t.yaxis||"y"),S=[],M="violin"===t.type?"_numViolins":"_numBoxes";"h"===t.orientation?(y=T,x="x",b=k,g="y"):(y=k,x="y",b=T,g="x");var q,j,P,A,_,L,D=function(e,t,i,n){var r,s=t+"0"in e,l="d"+t in e;if(t in e||s&&l)return i.makeCalcdata(e,t);r=s?e[t+"0"]:"name"in e&&("category"===i.type||o(e.name)&&-1!==["linear","log"].indexOf(i.type)||a.isDateTime(e.name)&&"date"===i.type)?e.name:n;for(var d="multicategory"===i.type?i.r2c_just_indices(r):i.d2c(r,0,e[t+"calendar"]),c=e._length,p=new Array(c),h=0;h<c;h++)p[h]=d;return p}(t,g,b,w[M]),I=a.distinctVals(D),O=I.vals,H=I.minDiff/2,C="all"===(t.boxpoints||t.points)?a.identity:function(e){return e.v<q.lf||e.v>q.uf};if(t._hasPreCompStats){var V=t[x],z=function(e){return y.d2c((t[e]||[])[i])},F=1/0,Q=-1/0;for(i=0;i<t._length;i++){var B=D[i];if(o(B)){if((q={}).pos=q[g]=B,q.q1=z("q1"),q.med=z("median"),q.q3=z("q3"),j=[],V&&a.isArrayOrTypedArray(V[i]))for(l=0;l<V[i].length;l++)(L=y.d2c(V[i][l]))!==r&&(d(_={v:L,i:[i,l]},t,[i,l]),j.push(_));if(q.pts=j.sort(c),A=(P=q[x]=j.map(p)).length,q.med!==r&&q.q1!==r&&q.q3!==r&&q.med>=q.q1&&q.q3>=q.med){var K=z("lowerfence");q.lf=K!==r&&K<=q.q1?K:h(q,P,A);var E=z("upperfence");q.uf=E!==r&&E>=q.q3?E:u(q,P,A);var G=z("mean");q.mean=G!==r?G:A?a.mean(P,A):(q.q1+q.q3)/2;var R=z("sd");q.sd=G!==r&&R>=0?R:A?a.stdev(P,A,q.mean):q.q3-q.q1,q.lo=f(q),q.uo=m(q);var N=z("notchspan");N=N!==r&&N>0?N:v(q,A),q.ln=q.med-N,q.un=q.med+N;var U=q.lf,Z=q.uf;t.boxpoints&&P.length&&(U=Math.min(U,P[0]),Z=Math.max(Z,P[A-1])),t.notched&&(U=Math.min(U,q.ln),Z=Math.max(Z,q.un)),q.min=U,q.max=Z}else{var W;a.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+q.q1,"median = "+q.med,"q3 = "+q.q3].join("\n")),W=q.med!==r?q.med:q.q1!==r?q.q3!==r?(q.q1+q.q3)/2:q.q1:q.q3!==r?q.q3:0,q.med=W,q.q1=q.q3=W,q.lf=q.uf=W,q.mean=q.sd=W,q.ln=q.un=W,q.min=q.max=W}F=Math.min(F,q.min),Q=Math.max(Q,q.max),q.pts2=j.filter(C),S.push(q)}}t._extremes[y._id]=n.findExtremes(y,[F,Q],{padded:!0})}else{var J=y.makeCalcdata(t,x),X=function(e,t){for(var i=e.length,o=new Array(i+1),n=0;n<i;n++)o[n]=e[n]-t;return o[i]=e[i-1]+t,o}(O,H),Y=O.length,$=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=[];return t}(Y);for(i=0;i<t._length;i++)if(L=J[i],o(L)){var ee=a.findBin(D[i],X);ee>=0&&ee<Y&&(d(_={v:L,i:i},t,i),$[ee].push(_))}var te=1/0,ie=-1/0,oe=t.quartilemethod,ne="exclusive"===oe,ae="inclusive"===oe;for(i=0;i<Y;i++)if($[i].length>0){var re,se;if((q={}).pos=q[g]=O[i],j=q.pts=$[i].sort(c),A=(P=q[x]=j.map(p)).length,q.min=P[0],q.max=P[A-1],q.mean=a.mean(P,A),q.sd=a.stdev(P,A,q.mean),q.med=a.interp(P,.5),A%2&&(ne||ae))ne?(re=P.slice(0,A/2),se=P.slice(A/2+1)):ae&&(re=P.slice(0,A/2+1),se=P.slice(A/2)),q.q1=a.interp(re,.5),q.q3=a.interp(se,.5);else q.q1=a.interp(P,.25),q.q3=a.interp(P,.75);q.lf=h(q,P,A),q.uf=u(q,P,A),q.lo=f(q),q.uo=m(q);var le=v(q,A);q.ln=q.med-le,q.un=q.med+le,te=Math.min(te,q.ln),ie=Math.max(ie,q.un),q.pts2=j.filter(C),S.push(q)}t._extremes[y._id]=n.findExtremes(y,t.notched?J.concat([te,ie]):J,{padded:!0})}return function(e,t){if(a.isArrayOrTypedArray(t.selectedpoints))for(var i=0;i<e.length;i++){for(var o=e[i].pts||[],n={},r=0;r<o.length;r++)n[o[r].i]=r;a.tagSelected(o,t,n)}}(S,t),S.length>0?(S[0].t={num:w[M],dPos:H,posLetter:g,valLetter:x,labels:{med:s(e,"median:"),min:s(e,"min:"),q1:s(e,"q1:"),q3:s(e,"q3:"),max:s(e,"max:"),mean:"sd"===t.boxmean?s(e,"mean ± σ:"):s(e,"mean:"),lf:s(e,"lower fence:"),uf:s(e,"upper fence:")}},w[M]++,S):[{t:{empty:!0}}]};var l={text:"tx",hovertext:"htx"};function d(e,t,i){for(var o in l)a.isArrayOrTypedArray(t[o])&&(Array.isArray(i)?a.isArrayOrTypedArray(t[o][i[0]])&&(e[l[o]]=t[o][i[0]][i[1]]):e[l[o]]=t[o][i])}function c(e,t){return e.v-t.v}function p(e){return e.v}function h(e,t,i){return 0===i?e.q1:Math.min(e.q1,t[Math.min(a.findBin(2.5*e.q1-1.5*e.q3,t,!0)+1,i-1)])}function u(e,t,i){return 0===i?e.q3:Math.max(e.q3,t[Math.max(a.findBin(2.5*e.q3-1.5*e.q1,t),0)])}function f(e){return 4*e.q1-3*e.q3}function m(e){return 4*e.q3-3*e.q1}function v(e,t){return 0===t?0:1.57*(e.q3-e.q1)/Math.sqrt(t)}},1113:function(e,t,i){"use strict";var o=i(80),n=i(3),a=i(646),r=i(52),s=n.fillText;function l(e,t,i,s){var l,d,c,p,h,u,f,m,v,y,x,b,g,w,T=e.cd,k=e.xa,S=e.ya,M=T[0].trace,q=T[0].t,j="violin"===M.type,P=[],A=q.bdPos,_=q.wHover,L=function(e){return c.c2l(e.pos)+q.bPos-c.c2l(u)};j&&"both"!==M.side?("positive"===M.side&&(v=function(e){var t=L(e);return a.inbox(t,t+_,y)},b=A,g=0),"negative"===M.side&&(v=function(e){var t=L(e);return a.inbox(t-_,t,y)},b=0,g=A)):(v=function(e){var t=L(e);return a.inbox(t-_,t+_,y)},b=g=A),w=j?function(e){return a.inbox(e.span[0]-h,e.span[1]-h,y)}:function(e){return a.inbox(e.min-h,e.max-h,y)},"h"===M.orientation?(h=t,u=i,f=w,m=v,l="y",c=S,d="x",p=k):(h=i,u=t,f=v,m=w,l="x",c=k,d="y",p=S);var D=Math.min(1,A/Math.abs(c.r2c(c.range[1])-c.r2c(c.range[0])));function I(e){return(f(e)+m(e))/2}y=e.maxHoverDistance-D,x=e.maxSpikeDistance-D;var O=a.getDistanceFunction(s,f,m,I);if(a.getClosest(T,O,e),!1===e.index)return[];var H=T[e.index],C=M.line.color,V=(M.marker||{}).color;r.opacity(C)&&M.line.width?e.color=C:r.opacity(V)&&M.boxpoints?e.color=V:e.color=M.fillcolor,e[l+"0"]=c.c2p(H.pos+q.bPos-g,!0),e[l+"1"]=c.c2p(H.pos+q.bPos+b,!0),e[l+"LabelVal"]=H.pos;var z=l+"Spike";e.spikeDistance=I(H)*x/y,e[z]=c.c2p(H.pos,!0);var F={},Q=["med","q1","q3","min","max"];(M.boxmean||(M.meanline||{}).visible)&&Q.push("mean"),(M.boxpoints||M.points)&&Q.push("lf","uf");for(var B=0;B<Q.length;B++){var K=Q[B];if(K in H&&!(H[K]in F)){F[H[K]]=!0;var E=H[K],G=p.c2p(E,!0),R=n.extendFlat({},e);R.attr=K,R[d+"0"]=R[d+"1"]=G,R[d+"LabelVal"]=E,R[d+"Label"]=(q.labels?q.labels[K]+" ":"")+o.hoverLabelText(p,E),R.hoverOnBox=!0,"mean"===K&&"sd"in H&&"sd"===M.boxmean&&(R[d+"err"]=H.sd),e.name="",e.spikeDistance=void 0,e[z]=void 0,R.hovertemplate=!1,P.push(R)}}return P}function d(e,t,i){for(var o,r,l,d=e.cd,c=e.xa,p=e.ya,h=d[0].trace,u=c.c2p(t),f=p.c2p(i),m=a.quadrature((function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(c.c2p(e.x)-u)-t,1-3/t)}),(function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(p.c2p(e.y)-f)-t,1-3/t)})),v=!1,y=0;y<d.length;y++){r=d[y];for(var x=0;x<(r.pts||[]).length;x++){var b=m(l=r.pts[x]);b<=e.distance&&(e.distance=b,v=[y,x])}}if(!v)return!1;l=(r=d[v[0]]).pts[v[1]];var g,w=c.c2p(l.x,!0),T=p.c2p(l.y,!0),k=l.mrc||1;return o=n.extendFlat({},e,{index:l.i,color:(h.marker||{}).color,name:h.name,x0:w-k,x1:w+k,y0:T-k,y1:T+k,spikeDistance:e.distance,hovertemplate:h.hovertemplate}),"h"===h.orientation?(g=p,o.xLabelVal=l.x,o.yLabelVal=r.pos):(g=c,o.xLabelVal=r.pos,o.yLabelVal=l.y),o[g._id.charAt(0)+"Spike"]=g.c2p(r.pos,!0),s(l,h,o),o}e.exports={hoverPoints:function(e,t,i,o){var n,a=e.cd[0].trace.hoveron,r=[];return-1!==a.indexOf("boxes")&&(r=r.concat(l(e,t,i,o))),-1!==a.indexOf("points")&&(n=d(e,t,i)),"closest"===o?n?[n]:r:n?(r.push(n),r):r},hoverOnBoxes:l,hoverOnPoints:d}},1114:function(e,t,i){"use strict";e.exports=function(e,t){var i,o,n=e.cd,a=e.xaxis,r=e.yaxis,s=[];if(!1===t)for(i=0;i<n.length;i++)for(o=0;o<(n[i].pts||[]).length;o++)n[i].pts[o].selected=0;else for(i=0;i<n.length;i++)for(o=0;o<(n[i].pts||[]).length;o++){var l=n[i].pts[o],d=a.c2p(l.x),c=r.c2p(l.y);t.contains([d,c],null,l.i,e)?(s.push({pointNumber:l.i,x:a.c2d(l.x),y:r.c2d(l.y)}),l.selected=1):l.selected=0}return s}},1261:function(e,t,i){"use strict";var o=i(893),n=i(32).extendFlat;e.exports={y:o.y,x:o.x,x0:o.x0,y0:o.y0,name:n({},o.name,{description:["Sets the trace name.","The trace name appear as the legend item and on hover.","For violin traces, the name will also be used for the position","coordinate, if `x` and `x0` (`y` and `y0` if horizontal) are","missing and the position axis is categorical.","Note that the trace name is also used as a default value","for attribute `scalegroup` (please see its description for details)."].join(" ")}),orientation:n({},o.orientation,{description:["Sets the orientation of the violin(s).","If *v* (*h*), the distribution is visualized along","the vertical (horizontal)."].join(" ")}),bandwidth:{valType:"number",min:0,role:"info",editType:"calc",description:["Sets the bandwidth used to compute the kernel density estimate.","By default, the bandwidth is determined by Silverman's rule of thumb."].join(" ")},scalegroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["If there are multiple violins that should be sized according to","to some metric (see `scalemode`), link them by providing a non-empty group id here","shared by every trace in the same group.","If a violin's `width` is undefined, `scalegroup` will default to the trace's name.","In this case, violins with the same names will be linked together"].join(" ")},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",role:"info",editType:"calc",description:["Sets the metric by which the width of each violin is determined.","*width* means each violin has the same (max) width","*count* means the violins are scaled by the number of sample points making","up each violin."].join("")},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",role:"info",editType:"calc",description:["Sets the method by which the span in data space where the density function will be computed.","*soft* means the span goes from the sample's minimum value minus two bandwidths","to the sample's maximum value plus two bandwidths.","*hard* means the span goes from the sample's minimum to its maximum value.","For custom span settings, use mode *manual* and fill in the `span` attribute."].join(" ")},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],role:"info",editType:"calc",description:["Sets the span in data space for which the density function will be computed.","Has an effect only when `spanmode` is set to *manual*."].join(" ")},line:{color:{valType:"color",role:"style",editType:"style",description:"Sets the color of line bounding the violin(s)."},width:{valType:"number",role:"style",min:0,dflt:2,editType:"style",description:"Sets the width (in px) of line bounding the violin(s)."},editType:"plot"},fillcolor:o.fillcolor,points:n({},o.boxpoints,{description:["If *outliers*, only the sample points lying outside the whiskers","are shown","If *suspectedoutliers*, the outlier points are shown and","points either less than 4*Q1-3*Q3 or greater than 4*Q3-3*Q1","are highlighted (see `outliercolor`)","If *all*, all sample points are shown","If *false*, only the violins are shown with no sample points.","Defaults to *suspectedoutliers* when `marker.outliercolor` or","`marker.line.outliercolor` is set,","otherwise defaults to *outliers*."].join(" ")}),jitter:n({},o.jitter,{description:["Sets the amount of jitter in the sample points drawn.","If *0*, the sample points align along the distribution axis.","If *1*, the sample points are drawn in a random jitter of width","equal to the width of the violins."].join(" ")}),pointpos:n({},o.pointpos,{description:["Sets the position of the sample points in relation to the violins.","If *0*, the sample points are places over the center of the violins.","Positive (negative) values correspond to positions to the","right (left) for vertical violins and above (below) for horizontal violins."].join(" ")}),width:n({},o.width,{description:["Sets the width of the violin in data coordinates.","If *0* (default value) the width is automatically selected based on the positions","of other violin traces in the same subplot."].join(" ")}),marker:o.marker,text:o.text,hovertext:o.hovertext,hovertemplate:o.hovertemplate,box:{visible:{valType:"boolean",dflt:!1,role:"info",editType:"plot",description:["Determines if an miniature box plot is drawn inside the violins. "].join(" ")},width:{valType:"number",min:0,max:1,dflt:.25,role:"info",editType:"plot",description:["Sets the width of the inner box plots relative to","the violins' width.","For example, with 1, the inner box plots are as wide as the violins."].join(" ")},fillcolor:{valType:"color",role:"style",editType:"style",description:"Sets the inner box plot fill color."},line:{color:{valType:"color",role:"style",editType:"style",description:"Sets the inner box plot bounding line color."},width:{valType:"number",min:0,role:"style",editType:"style",description:"Sets the inner box plot bounding line width."},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,role:"info",editType:"plot",description:["Determines if a line corresponding to the sample's mean is shown","inside the violins.","If `box.visible` is turned on, the mean line is drawn inside the inner box.","Otherwise, the mean line is drawn from one side of the violin to other."].join(" ")},color:{valType:"color",role:"style",editType:"style",description:"Sets the mean line color."},width:{valType:"number",min:0,role:"style",editType:"style",description:"Sets the mean line width."},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",role:"info",editType:"calc",description:["Determines on which side of the position value the density function making up","one half of a violin is plotted.","Useful when comparing two violin traces under *overlay* mode, where one trace","has `side` set to *positive* and the other to *negative*."].join(" ")},offsetgroup:o.offsetgroup,alignmentgroup:o.alignmentgroup,selected:o.selected,unselected:o.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],role:"info",editType:"style",description:["Do the hover effects highlight individual violins","or sample points or the kernel density estimate or any combination of them?"].join(" ")}}},1262:function(e,t,i){"use strict";var o=i(810),n=i(3).extendFlat;e.exports={violinmode:n({},o.boxmode,{description:["Determines how violins at the same location coordinate","are displayed on the graph.","If *group*, the violins are plotted next to one another","centered around the shared location.","If *overlay*, the violins are plotted over one another,","you might need to set *opacity* to see them multiple violins.","Has no effect on traces that have *width* set."].join(" ")}),violingap:n({},o.boxgap,{description:["Sets the gap (in plot fraction) between violins of","adjacent location coordinates.","Has no effect on traces that have *width* set."].join(" ")}),violingroupgap:n({},o.boxgroupgap,{description:["Sets the gap (in plot fraction) between violins of","the same location coordinate.","Has no effect on traces that have *width* set."].join(" ")})}},1487:function(e,t,i){"use strict";e.exports={attributes:i(1261),layoutAttributes:i(1262),supplyDefaults:i(1488),crossTraceDefaults:i(921).crossTraceDefaults,supplyLayoutDefaults:i(1489),calc:i(1490),crossTraceCalc:i(1491),plot:i(1492),style:i(1493),styleOnSelect:i(663).styleOnSelect,hoverPoints:i(1494),selectPoints:i(1114),moduleType:"trace",name:"violin",basePlotModule:i(649),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{description:["In vertical (horizontal) violin plots,","statistics are computed using `y` (`x`) values.","By supplying an `x` (`y`) array, one violin per distinct x (y) value","is drawn","If no `x` (`y`) {array} is provided, a single violin is drawn.","That violin position is then positioned with","with `name` or with `x0` (`y0`) if provided."].join(" ")}}},1488:function(e,t,i){"use strict";var o=i(3),n=i(52),a=i(921),r=i(1261);e.exports=function(e,t,i,s){function l(i,n){return o.coerce(e,t,r,i,n)}function d(i,n){return o.coerce2(e,t,r,i,n)}if(a.handleSampleDefaults(e,t,l,s),!1!==t.visible){l("bandwidth"),l("side"),l("width")||(l("scalegroup",t.name),l("scalemode"));var c,p=l("span");Array.isArray(p)&&(c="manual"),l("spanmode",c);var h=l("line.color",(e.marker||{}).color||i),u=l("line.width"),f=l("fillcolor",n.addOpacity(t.line.color,.5));a.handlePointsDefaults(e,t,l,{prefix:""});var m=d("box.width"),v=d("box.fillcolor",f),y=d("box.line.color",h),x=d("box.line.width",u);l("box.visible",Boolean(m||v||y||x))||(t.box={visible:!1});var b=d("meanline.color",h),g=d("meanline.width",u);l("meanline.visible",Boolean(b||g))||(t.meanline={visible:!1})}}},1489:function(e,t,i){"use strict";var o=i(3),n=i(1262),a=i(934);e.exports=function(e,t,i){a._supply(e,t,i,(function(i,a){return o.coerce(e,t,n,i,a)}),"violin")}},1490:function(e,t,i){"use strict";var o=i(3),n=i(80),a=i(1112),r=i(1084),s=i(25).BADNUM;function l(e,t,i){var n=t.max-t.min;if(!n)return e.bandwidth?e.bandwidth:0;if(e.bandwidth)return Math.max(e.bandwidth,n/1e4);var a=i.length,r=o.stdev(i,a-1,t.mean);return Math.max(function(e,t,i){return 1.059*Math.min(t,i/1.349)*Math.pow(e,-.2)}(a,r,t.q3-t.q1),n/100)}function d(e,t,i,o){var a,r=e.spanmode,l=e.span||[],d=[t.min,t.max],c=[t.min-2*o,t.max+2*o];function p(o){var n=l[o],a="multicategory"===i.type?i.r2c(n):i.d2c(n,0,e[t.valLetter+"calendar"]);return a===s?c[o]:a}var h={type:"linear",range:a="soft"===r?c:"hard"===r?d:[p(0),p(1)]};return n.setConvert(h),h.cleanRange(),a}e.exports=function(e,t){var i=a(e,t);if(i[0].t.empty)return i;for(var s=e._fullLayout,c=n.getFromId(e,t["h"===t.orientation?"xaxis":"yaxis"]),p=1/0,h=-1/0,u=0,f=0,m=0;m<i.length;m++){var v=i[m],y=v.pts.map(r.extractVal),x=v.bandwidth=l(t,v,y),b=v.span=d(t,v,c,x);if(v.min===v.max&&0===x)b=v.span=[v.min,v.max],v.density=[{v:1,t:b[0]}],v.bandwidth=x,u=Math.max(u,1);else{var g=b[1]-b[0],w=Math.ceil(g/(x/3)),T=g/w;if(!isFinite(T)||!isFinite(w))return o.error("Something went wrong with computing the violin span"),i[0].t.empty=!0,i;var k=r.makeKDE(v,t,y);v.density=new Array(w);for(var S=0,M=b[0];M<b[1]+T/2;S++,M+=T){var q=k(M);v.density[S]={v:q,t:M},u=Math.max(u,q)}}f=Math.max(f,y.length),p=Math.min(p,b[0]),h=Math.max(h,b[1])}var j=n.findExtremes(c,[p,h],{padded:!0});if(t._extremes[c._id]=j,t.width)i[0].t.maxKDE=u;else{var P=s._violinScaleGroupStats,A=t.scalegroup,_=P[A];_?(_.maxKDE=Math.max(_.maxKDE,u),_.maxCount=Math.max(_.maxCount,f)):P[A]={maxKDE:u,maxCount:f}}return i[0].t.labels.kde=o._(e,"kde:"),i}},1491:function(e,t,i){"use strict";var o=i(935).setPositionOffset,n=["v","h"];e.exports=function(e,t){for(var i=e.calcdata,a=t.xaxis,r=t.yaxis,s=0;s<n.length;s++){for(var l=n[s],d="h"===l?r:a,c=[],p=0;p<i.length;p++){var h=i[p],u=h[0].t,f=h[0].trace;!0!==f.visible||"violin"!==f.type||u.empty||f.orientation!==l||f.xaxis!==a._id||f.yaxis!==r._id||c.push(p)}o("violin",e,c,d)}}},1492:function(e,t,i){"use strict";var o=i(24),n=i(3),a=i(81),r=i(936),s=i(717),l=i(1084);e.exports=function(e,t,i,d){var c=e._fullLayout,p=t.xaxis,h=t.yaxis;function u(e){var t=s(e,{xaxis:p,yaxis:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(t[0],1)}n.makeTraceGroups(d,i,"trace violins").each((function(e){var i=o.select(this),a=e[0],s=a.t,d=a.trace;if(!0!==d.visible||s.empty)i.remove();else{var f=s.bPos,m=s.bdPos,v=t[s.valLetter+"axis"],y=t[s.posLetter+"axis"],x="both"===d.side,b=x||"positive"===d.side,g=x||"negative"===d.side,w=i.selectAll("path.violin").data(n.identity);w.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","violin"),w.exit().remove(),w.each((function(e){var t,i,n,a,r,l,p,h,w=o.select(this),T=e.density,k=T.length,S=y.c2l(e.pos+f,!0),M=y.l2p(S);if(d.width)t=s.maxKDE/m;else{var q=c._violinScaleGroupStats[d.scalegroup];t="count"===d.scalemode?q.maxKDE/m*(q.maxCount/e.pts.length):q.maxKDE/m}if(b){for(p=new Array(k),r=0;r<k;r++)(h=p[r]={})[s.posLetter]=S+T[r].v/t,h[s.valLetter]=v.c2l(T[r].t,!0);i=u(p)}if(g){for(p=new Array(k),l=0,r=k-1;l<k;l++,r--)(h=p[l]={})[s.posLetter]=S-T[r].v/t,h[s.valLetter]=v.c2l(T[r].t,!0);n=u(p)}if(x)a=i+"L"+n.substr(1)+"Z";else{var j=[M,v.c2p(T[0].t)],P=[M,v.c2p(T[k-1].t)];"h"===d.orientation&&(j.reverse(),P.reverse()),a=b?"M"+j+"L"+i.substr(1)+"L"+P:"M"+P+"L"+n.substr(1)+"L"+j}w.attr("d",a),e.posCenterPx=M,e.posDensityScale=t*m,e.path=w.node(),e.pathLength=e.path.getTotalLength()/(x?2:1)}));var T,k,S,M=d.box,q=M.width,j=(M.line||{}).width;x?(T=m*q,k=0):b?(T=[0,m*q/2],k=j*{x:1,y:-1}[s.posLetter]):(T=[m*q/2,0],k=j*{x:-1,y:1}[s.posLetter]),r.plotBoxAndWhiskers(i,{pos:y,val:v},d,{bPos:f,bdPos:T,bPosPxOffset:k}),r.plotBoxMean(i,{pos:y,val:v},d,{bPos:f,bdPos:T,bPosPxOffset:k}),!d.box.visible&&d.meanline.visible&&(S=n.identity);var P=i.selectAll("path.meanline").data(S||[]);P.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect","non-scaling-stroke"),P.exit().remove(),P.each((function(e){var t=v.c2p(e.mean,!0),i=l.getPositionOnKdePath(e,d,t);o.select(this).attr("d","h"===d.orientation?"M"+t+","+i[0]+"V"+i[1]:"M"+i[0]+","+t+"H"+i[1])})),r.plotPoints(i,{x:p,y:h},d,s)}}))}},1493:function(e,t,i){"use strict";var o=i(24),n=i(52),a=i(663).stylePoints;e.exports=function(e){var t=o.select(e).selectAll("g.trace.violins");t.style("opacity",(function(e){return e[0].trace.opacity})),t.each((function(t){var i=t[0].trace,r=o.select(this),s=i.box||{},l=s.line||{},d=i.meanline||{},c=d.width;r.selectAll("path.violin").style("stroke-width",i.line.width+"px").call(n.stroke,i.line.color).call(n.fill,i.fillcolor),r.selectAll("path.box").style("stroke-width",l.width+"px").call(n.stroke,l.color).call(n.fill,s.fillcolor);var p={"stroke-width":c+"px","stroke-dasharray":2*c+"px,"+c+"px"};r.selectAll("path.mean").style(p).call(n.stroke,d.color),r.selectAll("path.meanline").style(p).call(n.stroke,d.color),a(r,i,e)}))}},1494:function(e,t,i){"use strict";var o=i(3),n=i(80),a=i(1113),r=i(1084);e.exports=function(e,t,i,s,l){var d,c,p=e.cd,h=p[0].trace,u=h.hoveron,f=-1!==u.indexOf("violins"),m=-1!==u.indexOf("kde"),v=[];if(f||m){var y=a.hoverOnBoxes(e,t,i,s);if(m&&y.length>0){var x,b,g,w,T,k=e.xa,S=e.ya;"h"===h.orientation?(T=t,x="y",g=S,b="x",w=k):(T=i,x="x",g=k,b="y",w=S);var M=p[e.index];if(T>=M.span[0]&&T<=M.span[1]){var q=o.extendFlat({},e),j=w.c2p(T,!0),P=r.getKdeValue(M,h,T),A=r.getPositionOnKdePath(M,h,j),_=g._offset,L=g._length;q[x+"0"]=A[0],q[x+"1"]=A[1],q[b+"0"]=q[b+"1"]=j,q[b+"Label"]=b+": "+n.hoverLabelText(w,T)+", "+p[0].t.labels.kde+" "+P.toFixed(3),q.spikeDistance=y[0].spikeDistance;var D=x+"Spike";q[D]=y[0][D],y[0].spikeDistance=void 0,y[0][D]=void 0,q.hovertemplate=!1,v.push(q),(c={stroke:e.color})[x+"1"]=o.constrain(_+A[0],_,_+L),c[x+"2"]=o.constrain(_+A[1],_,_+L),c[b+"1"]=c[b+"2"]=w._offset+j}}f&&(v=v.concat(y))}-1!==u.indexOf("points")&&(d=a.hoverOnPoints(e,t,i));var I=l.selectAll(".violinline-"+h.uid).data(c?[0]:[]);return I.enter().append("line").classed("violinline-"+h.uid,!0).attr("stroke-width",1.5),I.exit().remove(),I.attr(c),"closest"===s?d?[d]:v:d?(v.push(d),v):v}},270:function(e,t,i){"use strict";e.exports=i(1487)},650:function(e,t,i){"use strict";var o=i(218),n=i(154).hovertemplateAttrs,a=i(154).texttemplateAttrs,r=i(112),s=i(46),l=i(679),d=i(32).extendFlat,c=s({editType:"calc",arrayOk:!0,colorEditType:"style",description:""}),p=d({},o.marker.line.width,{dflt:0}),h=d({width:p,editType:"calc"},r("marker.line")),u=d({line:h,editType:"calc"},r("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,role:"style",editType:"style",description:"Sets the opacity of the bars."}});e.exports={x:o.x,x0:o.x0,dx:o.dx,y:o.y,y0:o.y0,dy:o.dy,text:o.text,texttemplate:a({editType:"plot"},{keys:l.eventDataKeys}),hovertext:o.hovertext,hovertemplate:n({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc",description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed), unless there is another bar stacked on","this one, then the text gets pushed inside.","*auto* tries to position `text` inside the bar, but if","the bar is too small and no bar is stacked on this one","the text is moved outside."].join(" ")},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",role:"info",editType:"plot",description:["Determines if texts are kept at center or start/end points in `textposition` *inside* mode."].join(" ")},textangle:{valType:"angle",dflt:"auto",role:"info",editType:"plot",description:["Sets the angle of the tick labels with respect to the bar.","For example, a `tickangle` of -90 draws the tick labels","vertically. With *auto* the texts may automatically be","rotated to fit with the maximum size in bars."].join(" ")},textfont:d({},c,{description:"Sets the font used for `text`."}),insidetextfont:d({},c,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:d({},c,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],role:"info",dflt:"both",editType:"calc",description:["Constrain the size of text inside or outside a bar to be no","larger than the bar itself."].join(" ")},cliponaxis:d({},o.cliponaxis,{description:["Determines whether the text nodes","are clipped about the subplot axes.","To show the text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")}),orientation:{valType:"enumerated",role:"info",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,role:"info",editType:"calc",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")},offset:{valType:"number",dflt:null,arrayOk:!0,role:"info",editType:"calc",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,role:"info",editType:"calc",description:["Sets the bar width (in position axis units)."].join(" ")},marker:u,offsetgroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","offsetgroup where bars of the same position coordinate will line up."].join(" ")},alignmentgroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","alignmentgroup. This controls whether bars compute their positional","range dependently or independently."].join(" ")},selected:{marker:{opacity:o.selected.marker.opacity,color:o.selected.marker.color,editType:"style"},textfont:o.selected.textfont,editType:"style"},unselected:{marker:{opacity:o.unselected.marker.opacity,color:o.unselected.marker.color,editType:"style"},textfont:o.unselected.textfont,editType:"style"},r:o.r,t:o.t,_deprecated:{bardir:{valType:"enumerated",role:"info",editType:"calc",values:["v","h"],description:"Renamed to `orientation`."}}}},663:function(e,t,i){"use strict";var o=i(24),n=i(81),a=i(15);function r(e,t,i){n.pointStyle(e.selectAll("path.point"),t,i)}function s(e,t,i){n.textPointStyle(e.selectAll("text"),t,i)}e.exports={style:function(e){var t=o.select(e).selectAll("g.trace.scatter");t.style("opacity",(function(e){return e[0].trace.opacity})),t.selectAll("g.points").each((function(t){r(o.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.text").each((function(t){s(o.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.trace path.js-line").call(n.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(n.fillGroupStyle),a.getComponentMethod("errorbars","style")(t)},stylePoints:r,styleText:s,styleOnSelect:function(e,t,i){var o=t[0].trace;o.selectedpoints?(n.selectedPointStyle(i.selectAll("path.point"),o),n.selectedTextStyle(i.selectAll("text"),o)):(r(i,o,e),s(i,o,e))}}},668:function(e,t,i){"use strict";var o=i(3),n=i(52),a=i(15),r=i(670),s=i(713),l=i(83).getAxisGroup,d=i(650),c=o.coerceFont;function p(e,t,i,o){var n=t.orientation,a=t[{v:"x",h:"y"}[n]+"axis"],r=l(i,a)+n,s=i._alignmentOpts||{},d=o("alignmentgroup"),c=s[r];c||(c=s[r]={});var p=c[d];p?p.traces.push(t):p=c[d]={traces:[t],alignmentIndex:Object.keys(c).length,offsetGroups:{}};var h=o("offsetgroup"),u=p.offsetGroups,f=u[h];h&&(f||(f=u[h]={offsetIndex:Object.keys(u).length}),t._offsetIndex=f.offsetIndex)}function h(e,t,i,n,a,r){var s=!(!1===(r=r||{}).moduleHasSelected),l=!(!1===r.moduleHasUnselected),d=!(!1===r.moduleHasConstrain),p=!(!1===r.moduleHasCliponaxis),h=!(!1===r.moduleHasTextangle),u=!(!1===r.moduleHasInsideanchor),f=!!r.hasPathbar,m=Array.isArray(a)||"auto"===a,v=m||"inside"===a,y=m||"outside"===a;if(v||y){var x=c(n,"textfont",i.font),b=o.extendFlat({},x),g=!(e.textfont&&e.textfont.color);if(g&&delete b.color,c(n,"insidetextfont",b),f){var w=o.extendFlat({},x);g&&delete w.color,c(n,"pathbar.textfont",w)}y&&c(n,"outsidetextfont",x),s&&n("selected.textfont.color"),l&&n("unselected.textfont.color"),d&&n("constraintext"),p&&n("cliponaxis"),h&&n("textangle"),n("texttemplate")}v&&u&&n("insidetextanchor")}e.exports={supplyDefaults:function(e,t,i,l){function c(i,n){return o.coerce(e,t,d,i,n)}if(r(e,t,l,c)){c("orientation",t.x&&!t.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var p=c("textposition");h(e,t,l,c,p,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(e,t,c,i,l);var u=(t.marker.line||{}).color,f=a.getComponentMethod("errorbars","supplyDefaults");f(e,t,u||n.defaultLine,{axis:"y"}),f(e,t,u||n.defaultLine,{axis:"x",inherit:"y"}),o.coerceSelectionMarkerOpacity(t,c)}else t.visible=!1},crossTraceDefaults:function(e,t){var i;function n(e){return o.coerce(i._input,i,d,e)}if("group"===t.barmode)for(var a=0;a<e.length;a++)"bar"===(i=e[a]).type&&(i._input,p(0,i,t,n))},handleGroupingDefaults:p,handleText:h}},670:function(e,t,i){"use strict";var o=i(3),n=i(15);e.exports=function(e,t,i,a){var r,s=a("x"),l=a("y");if(n.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],i),s){var d=o.minRowLength(s);l?r=Math.min(d,o.minRowLength(l)):(r=d,a("y0"),a("dy"))}else{if(!l)return 0;r=o.minRowLength(l),a("x0"),a("dx")}return t._length=r,r}},679:function(e,t,i){"use strict";e.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},713:function(e,t,i){"use strict";var o=i(52),n=i(84).hasColorscale,a=i(155);e.exports=function(e,t,i,r,s){i("marker.color",r),n(e,"marker")&&a(e,t,s,i,{prefix:"marker.",cLetter:"c"}),i("marker.line.color",o.defaultLine),n(e,"marker.line")&&a(e,t,s,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width"),i("marker.opacity"),i("selected.marker.color"),i("unselected.marker.color")}},717:function(e,t,i){"use strict";var o=i(25),n=o.BADNUM,a=o.LOG_CLIP,r=a+.5,s=a-.5,l=i(3),d=l.segmentsIntersect,c=l.constrain,p=i(224);e.exports=function(e,t){var i,o,a,h,u,f,m,v,y,x,b,g,w,T,k,S,M,q,j=t.xaxis,P=t.yaxis,A="log"===j.type,_="log"===P.type,L=j._length,D=P._length,I=t.connectGaps,O=t.baseTolerance,H=t.shape,C="linear"===H,V=t.fill&&"none"!==t.fill,z=[],F=p.minTolerance,Q=e.length,B=new Array(Q),K=0;function E(i){var o=e[i];if(!o)return!1;var a=t.linearized?j.l2p(o.x):j.c2p(o.x),l=t.linearized?P.l2p(o.y):P.c2p(o.y);if(a===n){if(A&&(a=j.c2p(o.x,!0)),a===n)return!1;_&&l===n&&(a*=Math.abs(j._m*D*(j._m>0?r:s)/(P._m*L*(P._m>0?r:s)))),a*=1e3}if(l===n){if(_&&(l=P.c2p(o.y,!0)),l===n)return!1;l*=1e3}return[a,l]}function G(e,t,i,o){var n=i-e,a=o-t,r=.5-e,s=.5-t,l=n*n+a*a,d=n*r+a*s;if(d>0&&d<l){var c=r*a-s*n;if(c*c<l)return!0}}function R(e,t){var i=e[0]/L,o=e[1]/D,n=Math.max(0,-i,i-1,-o,o-1);return n&&void 0!==M&&G(i,o,M,q)&&(n=0),n&&t&&G(i,o,t[0]/L,t[1]/D)&&(n=0),(1+p.toleranceGrowth*n)*O}function N(e,t){var i=e[0]-t[0],o=e[1]-t[1];return Math.sqrt(i*i+o*o)}var U,Z,W,J,X,Y,$,ee=p.maxScreensAway,te=-L*ee,ie=L*(1+ee),oe=-D*ee,ne=D*(1+ee),ae=[[te,oe,ie,oe],[ie,oe,ie,ne],[ie,ne,te,ne],[te,ne,te,oe]];function re(e){if(e[0]<te||e[0]>ie||e[1]<oe||e[1]>ne)return[c(e[0],te,ie),c(e[1],oe,ne)]}function se(e,t){return e[0]===t[0]&&(e[0]===te||e[0]===ie)||(e[1]===t[1]&&(e[1]===oe||e[1]===ne)||void 0)}function le(e,t,i){return function(o,n){var a=re(o),r=re(n),s=[];if(a&&r&&se(a,r))return s;a&&s.push(a),r&&s.push(r);var d=2*l.constrain((o[e]+n[e])/2,t,i)-((a||o)[e]+(r||n)[e]);d&&((a&&r?d>0==a[e]>r[e]?a:r:a||r)[e]+=d);return s}}function de(e){var t=e[0],i=e[1],o=t===B[K-1][0],n=i===B[K-1][1];if(!o||!n)if(K>1){var a=t===B[K-2][0],r=i===B[K-2][1];o&&(t===te||t===ie)&&a?r?K--:B[K-1]=e:n&&(i===oe||i===ne)&&r?a?K--:B[K-1]=e:B[K++]=e}else B[K++]=e}function ce(e){B[K-1][0]!==e[0]&&B[K-1][1]!==e[1]&&de([W,J]),de(e),X=null,W=J=0}function pe(e){if(M=e[0]/L,q=e[1]/D,U=e[0]<te?te:e[0]>ie?ie:0,Z=e[1]<oe?oe:e[1]>ne?ne:0,U||Z){if(K)if(X){var t=$(X,e);t.length>1&&(ce(t[0]),B[K++]=t[1])}else Y=$(B[K-1],e)[0],B[K++]=Y;else B[K++]=[U||e[0],Z||e[1]];var i=B[K-1];U&&Z&&(i[0]!==U||i[1]!==Z)?(X&&(W!==U&&J!==Z?de(W&&J?(o=X,a=(n=e)[0]-o[0],r=(n[1]-o[1])/a,(o[1]*n[0]-n[1]*o[0])/a>0?[r>0?te:ie,ne]:[r>0?ie:te,oe]):[W||U,J||Z]):W&&J&&de([W,J])),de([U,Z])):W-U&&J-Z&&de([U||W,Z||J]),X=e,W=U,J=Z}else X&&ce($(X,e)[0]),B[K++]=e;var o,n,a,r}for("linear"===H||"spline"===H?$=function(e,t){for(var i=[],o=0,n=0;n<4;n++){var a=ae[n],r=d(e[0],e[1],t[0],t[1],a[0],a[1],a[2],a[3]);r&&(!o||Math.abs(r.x-i[0][0])>1||Math.abs(r.y-i[0][1])>1)&&(r=[r.x,r.y],o&&N(r,e)<N(i[0],e)?i.unshift(r):i.push(r),o++)}return i}:"hv"===H||"vh"===H?$=function(e,t){var i=[],o=re(e),n=re(t);return o&&n&&se(o,n)||(o&&i.push(o),n&&i.push(n)),i}:"hvh"===H?$=le(0,te,ie):"vhv"===H&&($=le(1,oe,ne)),i=0;i<Q;i++)if(o=E(i)){for(K=0,X=null,pe(o),i++;i<Q;i++){if(!(h=E(i))){if(I)continue;break}if(C&&t.simplify){var he=E(i+1);if(x=N(h,o),V&&(0===K||K===Q-1)||!(x<R(h,he)*F)){for(v=[(h[0]-o[0])/x,(h[1]-o[1])/x],u=o,b=x,g=T=k=0,m=!1,a=h,i++;i<e.length;i++){if(f=he,he=E(i+1),!f){if(I)continue;break}if(S=(y=[f[0]-o[0],f[1]-o[1]])[0]*v[1]-y[1]*v[0],T=Math.min(T,S),(k=Math.max(k,S))-T>R(f,he))break;a=f,(w=y[0]*v[0]+y[1]*v[1])>b?(b=w,h=f,m=!1):w<g&&(g=w,u=f,m=!0)}if(m?(pe(h),a!==u&&pe(u)):(u!==o&&pe(u),a!==h&&pe(h)),pe(a),i>=e.length||!f)break;pe(f),o=f}}else pe(h)}X&&de([W||X[0],J||X[1]]),z.push(B.slice(0,K))}return z}},810:function(e,t,i){"use strict";e.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",role:"info",editType:"calc",description:["Determines how boxes at the same location coordinate","are displayed on the graph.","If *group*, the boxes are plotted next to one another","centered around the shared location.","If *overlay*, the boxes are plotted over one another,","you might need to set *opacity* to see them multiple boxes.","Has no effect on traces that have *width* set."].join(" ")},boxgap:{valType:"number",min:0,max:1,dflt:.3,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between boxes of","adjacent location coordinates.","Has no effect on traces that have *width* set."].join(" ")},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between boxes of","the same location coordinate.","Has no effect on traces that have *width* set."].join(" ")}}},893:function(e,t,i){"use strict";var o=i(218),n=i(650),a=i(113),r=i(154).hovertemplateAttrs,s=i(32).extendFlat,l=o.marker,d=l.line;e.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the y sample data or coordinates.","See overview for more info."].join(" ")},x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the x sample data or coordinates.","See overview for more info."].join(" ")},x0:{valType:"any",role:"info",editType:"calc+clearAxisTypes",description:["Sets the x coordinate for single-box traces","or the starting coordinate for multi-box traces","set using q1/median/q3.","See overview for more info."].join(" ")},y0:{valType:"any",role:"info",editType:"calc+clearAxisTypes",description:["Sets the y coordinate for single-box traces","or the starting coordinate for multi-box traces","set using q1/median/q3.","See overview for more info."].join(" ")},dx:{valType:"number",role:"info",editType:"calc",description:["Sets the x coordinate step for multi-box traces","set using q1/median/q3."].join(" ")},dy:{valType:"number",role:"info",editType:"calc",description:["Sets the y coordinate step for multi-box traces","set using q1/median/q3."].join(" ")},name:{valType:"string",role:"info",editType:"calc+clearAxisTypes",description:["Sets the trace name.","The trace name appear as the legend item and on hover.","For box traces, the name will also be used for the position","coordinate, if `x` and `x0` (`y` and `y0` if horizontal) are","missing and the position axis is categorical"].join(" ")},q1:{valType:"data_array",role:"info",editType:"calc+clearAxisTypes",description:["Sets the Quartile 1 values.","There should be as many items as the number of boxes desired."].join(" ")},median:{valType:"data_array",role:"info",editType:"calc+clearAxisTypes",description:["Sets the median values.","There should be as many items as the number of boxes desired."].join(" ")},q3:{valType:"data_array",role:"info",editType:"calc+clearAxisTypes",description:["Sets the Quartile 3 values.","There should be as many items as the number of boxes desired."].join(" ")},lowerfence:{valType:"data_array",role:"info",editType:"calc",description:["Sets the lower fence values.","There should be as many items as the number of boxes desired.","This attribute has effect only under the q1/median/q3 signature.","If `lowerfence` is not provided but a sample (in `y` or `x`) is set,","we compute the lower as the last sample point below 1.5 times the IQR."].join(" ")},upperfence:{valType:"data_array",role:"info",editType:"calc",description:["Sets the upper fence values.","There should be as many items as the number of boxes desired.","This attribute has effect only under the q1/median/q3 signature.","If `upperfence` is not provided but a sample (in `y` or `x`) is set,","we compute the lower as the last sample point above 1.5 times the IQR."].join(" ")},notched:{valType:"boolean",role:"info",editType:"calc",description:["Determines whether or not notches are drawn.","Notches displays a confidence interval around the median.","We compute the confidence interval as median +/- 1.57 * IQR / sqrt(N),","where IQR is the interquartile range and N is the sample size.","If two boxes' notches do not overlap there is 95% confidence their medians differ.","See https://sites.google.com/site/davidsstatistics/home/notched-box-plots for more info.","Defaults to *false* unless `notchwidth` or `notchspan` is set."].join(" ")},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,role:"style",editType:"calc",description:["Sets the width of the notches relative to","the box' width.","For example, with 0, the notches are as wide as the box(es)."].join(" ")},notchspan:{valType:"data_array",role:"info",editType:"calc",description:["Sets the notch span from the boxes' `median` values.","There should be as many items as the number of boxes desired.","This attribute has effect only under the q1/median/q3 signature.","If `notchspan` is not provided but a sample (in `y` or `x`) is set,","we compute it as 1.57 * IQR / sqrt(N),","where N is the sample size."].join(" ")},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],role:"style",editType:"calc",description:["If *outliers*, only the sample points lying outside the whiskers","are shown","If *suspectedoutliers*, the outlier points are shown and","points either less than 4*Q1-3*Q3 or greater than 4*Q3-3*Q1","are highlighted (see `outliercolor`)","If *all*, all sample points are shown","If *false*, only the box(es) are shown with no sample points","Defaults to *suspectedoutliers* when `marker.outliercolor` or","`marker.line.outliercolor` is set.","Defaults to *all* under the q1/median/q3 signature.","Otherwise defaults to *outliers*."].join(" ")},jitter:{valType:"number",min:0,max:1,role:"style",editType:"calc",description:["Sets the amount of jitter in the sample points drawn.","If *0*, the sample points align along the distribution axis.","If *1*, the sample points are drawn in a random jitter of width","equal to the width of the box(es)."].join(" ")},pointpos:{valType:"number",min:-2,max:2,role:"style",editType:"calc",description:["Sets the position of the sample points in relation to the box(es).","If *0*, the sample points are places over the center of the box(es).","Positive (negative) values correspond to positions to the","right (left) for vertical boxes and above (below) for horizontal boxes"].join(" ")},boxmean:{valType:"enumerated",values:[!0,"sd",!1],role:"style",editType:"calc",description:["If *true*, the mean of the box(es)' underlying distribution is","drawn as a dashed line inside the box(es).","If *sd* the standard deviation is also drawn.","Defaults to *true* when `mean` is set.","Defaults to *sd* when `sd` is set","Otherwise defaults to *false*."].join(" ")},mean:{valType:"data_array",role:"info",editType:"calc",description:["Sets the mean values.","There should be as many items as the number of boxes desired.","This attribute has effect only under the q1/median/q3 signature.","If `mean` is not provided but a sample (in `y` or `x`) is set,","we compute the mean for each box using the sample values."].join(" ")},sd:{valType:"data_array",role:"info",editType:"calc",description:["Sets the standard deviation values.","There should be as many items as the number of boxes desired.","This attribute has effect only under the q1/median/q3 signature.","If `sd` is not provided but a sample (in `y` or `x`) is set,","we compute the standard deviation for each box using the sample values."].join(" ")},orientation:{valType:"enumerated",values:["v","h"],role:"style",editType:"calc+clearAxisTypes",description:["Sets the orientation of the box(es).","If *v* (*h*), the distribution is visualized along","the vertical (horizontal)."].join(" ")},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",role:"info",editType:"calc",description:["Sets the method used to compute the sample's Q1 and Q3 quartiles.","The *linear* method uses the 25th percentile for Q1 and 75th percentile for Q3","as computed using method #10 (listed on http://www.amstat.org/publications/jse/v14n3/langford.html).","The *exclusive* method uses the median to divide the ordered dataset into two halves","if the sample is odd, it does not include the median in either half -","Q1 is then the median of the lower half and","Q3 the median of the upper half.","The *inclusive* method also uses the median to divide the ordered dataset into two halves","but if the sample is odd, it includes the median in both halves -","Q1 is then the median of the lower half and","Q3 the median of the upper half."].join(" ")},width:{valType:"number",min:0,role:"info",dflt:0,editType:"calc",description:["Sets the width of the box in data coordinate","If *0* (default value) the width is automatically selected based on the positions","of other box traces in the same subplot."].join(" ")},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",role:"style",editType:"style",description:"Sets the color of the outlier sample points."},symbol:s({},l.symbol,{arrayOk:!1,editType:"plot"}),opacity:s({},l.opacity,{arrayOk:!1,dflt:1,editType:"style"}),size:s({},l.size,{arrayOk:!1,editType:"calc"}),color:s({},l.color,{arrayOk:!1,editType:"style"}),line:{color:s({},d.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:s({},d.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",role:"style",editType:"style",description:["Sets the border line color of the outlier sample points.","Defaults to marker.color"].join(" ")},outlierwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"style",description:["Sets the border line width (in px) of the outlier sample points."].join(" ")},editType:"style"},editType:"plot"},line:{color:{valType:"color",role:"style",editType:"style",description:"Sets the color of line bounding the box(es)."},width:{valType:"number",role:"style",min:0,dflt:2,editType:"style",description:"Sets the width (in px) of line bounding the box(es)."},editType:"plot"},fillcolor:o.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,role:"style",editType:"calc",description:["Sets the width of the whiskers relative to","the box' width.","For example, with 1, the whiskers are as wide as the box(es)."].join(" ")},offsetgroup:n.offsetgroup,alignmentgroup:n.alignmentgroup,selected:{marker:o.selected.marker,editType:"style"},unselected:{marker:o.unselected.marker,editType:"style"},text:s({},o.text,{description:["Sets the text elements associated with each sample value.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),hovertext:s({},o.hovertext,{description:"Same as `text`."}),hovertemplate:r({description:["N.B. This only has an effect when hovering on points."].join(" ")}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",role:"info",editType:"style",description:["Do the hover effects highlight individual boxes ","or sample points or both?"].join(" ")}}},921:function(e,t,i){"use strict";var o=i(3),n=i(15),a=i(52),r=i(668).handleGroupingDefaults,s=i(237),l=i(893);function d(e,t,i,a){function r(e){var t=0;return e&&e.length&&(t+=1,o.isArrayOrTypedArray(e[0])&&e[0].length&&(t+=1)),t}function d(t){return o.validate(e[t],l[t])}var c,p=i("y"),h=i("x");if("box"===t.type){var u=i("q1"),f=i("median"),m=i("q3");t._hasPreCompStats=u&&u.length&&f&&f.length&&m&&m.length,c=Math.min(o.minRowLength(u),o.minRowLength(f),o.minRowLength(m))}var v,y,x=r(p),b=r(h),g=x&&o.minRowLength(p),w=b&&o.minRowLength(h);if(t._hasPreCompStats)switch(String(b)+String(x)){case"00":var T=d("x0")||d("dx");v=(d("y0")||d("dy"))&&!T?"h":"v",y=c;break;case"10":v="v",y=Math.min(c,w);break;case"20":v="h",y=Math.min(c,h.length);break;case"01":v="h",y=Math.min(c,g);break;case"02":v="v",y=Math.min(c,p.length);break;case"12":v="v",y=Math.min(c,w,p.length);break;case"21":v="h",y=Math.min(c,h.length,g);break;case"11":y=0;break;case"22":var k,S=!1;for(k=0;k<h.length;k++)if("category"===s(h[k])){S=!0;break}if(S)v="v",y=Math.min(c,w,p.length);else{for(k=0;k<p.length;k++)if("category"===s(p[k])){S=!0;break}S?(v="h",y=Math.min(c,h.length,g)):(v="v",y=Math.min(c,w,p.length))}}else x>0?(v="v",y=b>0?Math.min(w,g):Math.min(g)):b>0?(v="h",y=Math.min(w)):y=0;if(y){t._length=y;var M=i("orientation",v);t._hasPreCompStats?"v"===M&&0===b?(i("x0",0),i("dx",1)):"h"===M&&0===x&&(i("y0",0),i("dy",1)):"v"===M&&0===b?i("x0"):"h"===M&&0===x&&i("y0"),n.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],a)}else t.visible=!1}function c(e,t,i,n){var a=n.prefix,r=o.coerce2(e,t,l,"marker.outliercolor"),s=i("marker.line.outliercolor"),d="outliers";t._hasPreCompStats?d="all":(r||s)&&(d="suspectedoutliers");var c=i(a+"points",d);c?(i("jitter","all"===c?.3:0),i("pointpos","all"===c?-1.5:0),i("marker.symbol"),i("marker.opacity"),i("marker.size"),i("marker.color",t.line.color),i("marker.line.color"),i("marker.line.width"),"suspectedoutliers"===c&&(i("marker.line.outliercolor",t.marker.color),i("marker.line.outlierwidth")),i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size"),i("text"),i("hovertext")):delete t.marker;var p=i("hoveron");"all"!==p&&-1===p.indexOf("points")||i("hovertemplate"),o.coerceSelectionMarkerOpacity(t,i)}e.exports={supplyDefaults:function(e,t,i,n){function r(i,n){return o.coerce(e,t,l,i,n)}if(d(e,t,r,n),!1!==t.visible){var s=t._hasPreCompStats;s&&(r("lowerfence"),r("upperfence")),r("line.color",(e.marker||{}).color||i),r("line.width"),r("fillcolor",a.addOpacity(t.line.color,.5));var p=!1;if(s){var h=r("mean"),u=r("sd");h&&h.length&&(p=!0,u&&u.length&&(p="sd"))}r("boxmean",p),r("whiskerwidth"),r("width"),r("quartilemethod");var f=!1;if(s){var m=r("notchspan");m&&m.length&&(f=!0)}else o.validate(e.notchwidth,l.notchwidth)&&(f=!0);r("notched",f)&&r("notchwidth"),c(e,t,r,{prefix:"box"})}},crossTraceDefaults:function(e,t){var i,n;function a(e){return o.coerce(n._input,n,l,e)}for(var s=0;s<e.length;s++){var d=(n=e[s]).type;"box"!==d&&"violin"!==d||(i=n._input,"group"===t[d+"mode"]&&r(i,n,t,a))}},handleSampleDefaults:d,handlePointsDefaults:c}},934:function(e,t,i){"use strict";var o=i(15),n=i(3),a=i(810);function r(e,t,i,n,a){for(var r=a+"Layout",s=!1,l=0;l<i.length;l++){var d=i[l];if(o.traceIs(d,r)){s=!0;break}}s&&(n(a+"mode"),n(a+"gap"),n(a+"groupgap"))}e.exports={supplyLayoutDefaults:function(e,t,i){r(0,0,i,(function(i,o){return n.coerce(e,t,a,i,o)}),"box")},_supply:r}},935:function(e,t,i){"use strict";var o=i(80),n=i(3),a=i(83).getAxisGroup,r=["v","h"];function s(e,t,i,r){var s,l,d,c=t.calcdata,p=t._fullLayout,h=r._id,u=h.charAt(0),f=[],m=0;for(s=0;s<i.length;s++)for(d=c[i[s]],l=0;l<d.length;l++)f.push(r.c2l(d[l].pos,!0)),m+=(d[l].pts2||[]).length;if(f.length){var v=n.distinctVals(f),y=v.minDiff/2;o.minDtick(r,v.minDiff,v.vals[0],!0);var x=p["violin"===e?"_numViolins":"_numBoxes"],b="group"===p[e+"mode"]&&x>1,g=1-p[e+"gap"],w=1-p[e+"groupgap"];for(s=0;s<i.length;s++){var T,k,S,M,q,j,P=(d=c[i[s]])[0].trace,A=d[0].t,_=P.width,L=P.side;if(_)T=k=M=_/2,S=0;else if(T=y,b){var D=a(p,r._id)+P.orientation,I=(p._alignmentOpts[D]||{})[P.alignmentgroup]||{},O=Object.keys(I.offsetGroups||{}).length,H=O||x;k=T*g*w/H,S=2*T*(((O?P._offsetIndex:A.num)+.5)/H-.5)*g,M=T*g/H}else k=T*g*w,S=0,M=T;A.dPos=T,A.bPos=S,A.bdPos=k,A.wHover=M;var C,V,z,F,Q,B,K=S+k,E=Boolean(_);if("positive"===L?(q=T*(_?1:.5),C=K,j=C=S):"negative"===L?(q=C=S,j=T*(_?1:.5),V=K):(q=j=T,C=V=K),(P.boxpoints||P.points)&&m>0){var G=P.pointpos,R=P.jitter,N=P.marker.size/2,U=0;G+R>=0&&((U=K*(G+R))>q?(E=!0,Q=N,z=U):U>C&&(Q=N,z=q)),U<=q&&(z=q);var Z=0;G-R<=0&&((Z=-K*(G-R))>j?(E=!0,B=N,F=Z):Z>V&&(B=N,F=j)),Z<=j&&(F=j)}else z=q,F=j;var W=new Array(d.length);for(l=0;l<d.length;l++)W[l]=d[l].pos;P._extremes[h]=o.findExtremes(r,W,{padded:E,vpadminus:F,vpadplus:z,vpadLinearized:!0,ppadminus:{x:B,y:Q}[u],ppadplus:{x:Q,y:B}[u]})}}}e.exports={crossTraceCalc:function(e,t){for(var i=e.calcdata,o=t.xaxis,n=t.yaxis,a=0;a<r.length;a++){for(var l=r[a],d="h"===l?n:o,c=[],p=0;p<i.length;p++){var h=i[p],u=h[0].t,f=h[0].trace;!0!==f.visible||"box"!==f.type&&"candlestick"!==f.type||u.empty||(f.orientation||"v")!==l||f.xaxis!==o._id||f.yaxis!==n._id||c.push(p)}s("box",e,c,d)}},setPositionOffset:s}},936:function(e,t,i){"use strict";var o=i(24),n=i(3),a=i(81);function r(e,t,i,a){var r,s,l="h"===i.orientation,d=t.val,c=t.pos,p=!!c.rangebreaks,h=a.bPos,u=a.wdPos||0,f=a.bPosPxOffset||0,m=i.whiskerwidth||0,v=i.notched||!1,y=v?1-2*i.notchwidth:1;Array.isArray(a.bdPos)?(r=a.bdPos[0],s=a.bdPos[1]):(r=a.bdPos,s=a.bdPos);var x=e.selectAll("path.box").data("violin"!==i.type||i.box.visible?n.identity:[]);x.enter().append("path").style("vector-effect","non-scaling-stroke").attr("class","box"),x.exit().remove(),x.each((function(e){if(e.empty)return"M0,0Z";var t=c.c2l(e.pos+h,!0),a=c.l2p(t-r)+f,x=c.l2p(t+s)+f,b=p?(a+x)/2:c.l2p(t)+f,g=i.whiskerwidth,w=p?a*g+(1-g)*b:c.l2p(t-u)+f,T=p?x*g+(1-g)*b:c.l2p(t+u)+f,k=c.l2p(t-r*y)+f,S=c.l2p(t+s*y)+f,M=d.c2p(e.q1,!0),q=d.c2p(e.q3,!0),j=n.constrain(d.c2p(e.med,!0),Math.min(M,q)+1,Math.max(M,q)-1),P=void 0===e.lf||!1===i.boxpoints,A=d.c2p(P?e.min:e.lf,!0),_=d.c2p(P?e.max:e.uf,!0),L=d.c2p(e.ln,!0),D=d.c2p(e.un,!0);l?o.select(this).attr("d","M"+j+","+k+"V"+S+"M"+M+","+a+"V"+x+(v?"H"+L+"L"+j+","+S+"L"+D+","+x:"")+"H"+q+"V"+a+(v?"H"+D+"L"+j+","+k+"L"+L+","+a:"")+"ZM"+M+","+b+"H"+A+"M"+q+","+b+"H"+_+(0===m?"":"M"+A+","+w+"V"+T+"M"+_+","+w+"V"+T)):o.select(this).attr("d","M"+k+","+j+"H"+S+"M"+a+","+M+"H"+x+(v?"V"+L+"L"+S+","+j+"L"+x+","+D:"")+"V"+q+"H"+a+(v?"V"+D+"L"+k+","+j+"L"+a+","+L:"")+"ZM"+b+","+M+"V"+A+"M"+b+","+q+"V"+_+(0===m?"":"M"+w+","+A+"H"+T+"M"+w+","+_+"H"+T))}))}function s(e,t,i,o){var r=t.x,s=t.y,l=o.bdPos,d=o.bPos,c=i.boxpoints||i.points;n.seedPseudoRandom();var p=e.selectAll("g.points").data(c?function(e){return e.forEach((function(e){e.t=o,e.trace=i})),e}:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var h=p.selectAll("path").data((function(e){var t,o,a=e.pts2,r=Math.max((e.max-e.min)/10,e.q3-e.q1),s=1e-9*r,p=.01*r,h=[],u=0;if(i.jitter){if(0===r)for(u=1,h=new Array(a.length),t=0;t<a.length;t++)h[t]=1;else for(t=0;t<a.length;t++){var f=Math.max(0,t-5),m=a[f].v,v=Math.min(a.length-1,t+5),y=a[v].v;"all"!==c&&(a[t].v<e.lf?y=Math.min(y,e.lf):m=Math.max(m,e.uf));var x=Math.sqrt(p*(v-f)/(y-m+s))||0;x=n.constrain(Math.abs(x),0,1),h.push(x),u=Math.max(x,u)}o=2*i.jitter/(u||1)}for(t=0;t<a.length;t++){var b=a[t],g=b.v,w=i.jitter?o*h[t]*(n.pseudoRandom()-.5):0,T=e.pos+d+l*(i.pointpos+w);"h"===i.orientation?(b.y=T,b.x=g):(b.x=T,b.y=g),"suspectedoutliers"===c&&g<e.uo&&g>e.lo&&(b.so=!0)}return a}));h.enter().append("path").classed("point",!0),h.exit().remove(),h.call(a.translatePoints,r,s)}function l(e,t,i,a){var r,s,l=t.val,d=t.pos,c=!!d.rangebreaks,p=a.bPos,h=a.bPosPxOffset||0,u=i.boxmean||(i.meanline||{}).visible;Array.isArray(a.bdPos)?(r=a.bdPos[0],s=a.bdPos[1]):(r=a.bdPos,s=a.bdPos);var f=e.selectAll("path.mean").data("box"===i.type&&i.boxmean||"violin"===i.type&&i.box.visible&&i.meanline.visible?n.identity:[]);f.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),f.exit().remove(),f.each((function(e){var t=d.c2l(e.pos+p,!0),n=d.l2p(t-r)+h,a=d.l2p(t+s)+h,f=c?(n+a)/2:d.l2p(t)+h,m=l.c2p(e.mean,!0),v=l.c2p(e.mean-e.sd,!0),y=l.c2p(e.mean+e.sd,!0);"h"===i.orientation?o.select(this).attr("d","M"+m+","+n+"V"+a+("sd"===u?"m0,0L"+v+","+f+"L"+m+","+n+"L"+y+","+f+"Z":"")):o.select(this).attr("d","M"+n+","+m+"H"+a+("sd"===u?"m0,0L"+f+","+v+"L"+n+","+m+"L"+f+","+y+"Z":""))}))}e.exports={plot:function(e,t,i,a){var d=t.xaxis,c=t.yaxis;n.makeTraceGroups(a,i,"trace boxes").each((function(e){var t,i,n=o.select(this),a=e[0],p=a.t,h=a.trace;(p.wdPos=p.bdPos*h.whiskerwidth,!0!==h.visible||p.empty)?n.remove():("h"===h.orientation?(t=c,i=d):(t=d,i=c),r(n,{pos:t,val:i},h,p),s(n,{x:d,y:c},h,p),l(n,{pos:t,val:i},h,p))}))},plotBoxAndWhiskers:r,plotPoints:s,plotBoxMean:l}}}]);