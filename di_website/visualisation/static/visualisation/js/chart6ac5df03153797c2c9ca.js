(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{366:function(e,t,r){"use strict";e.exports=r(777)},628:function(e,t,r){"use strict";var a=r(6);e.exports=function(e,t){for(var r=0;r<e.length;r++)e[r].i=r;a.mergeArray(t.text,e,"tx"),a.mergeArray(t.texttemplate,e,"txt"),a.mergeArray(t.hovertext,e,"htx"),a.mergeArray(t.customdata,e,"data"),a.mergeArray(t.textposition,e,"tp"),t.textfont&&(a.mergeArrayCastPositive(t.textfont.size,e,"ts"),a.mergeArray(t.textfont.color,e,"tc"),a.mergeArray(t.textfont.family,e,"tf"));var n=t.marker;if(n){a.mergeArrayCastPositive(n.size,e,"ms"),a.mergeArrayCastPositive(n.opacity,e,"mo"),a.mergeArray(n.symbol,e,"mx"),a.mergeArray(n.color,e,"mc");var i=n.line;n.line&&(a.mergeArray(i.color,e,"mlc"),a.mergeArrayCastPositive(i.width,e,"mlw"));var o=n.gradient;o&&"none"!==o.type&&(a.mergeArray(o.type,e,"mgt"),a.mergeArray(o.color,e,"mgc"))}}},630:function(e,t,r){"use strict";var a=r(6);e.exports=function(e,t){a.isArrayOrTypedArray(t.selectedpoints)&&a.tagSelected(e,t)}},632:function(e,t,r){"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},635:function(e,t,r){"use strict";var a=r(79).hasColorscale,n=r(209),i=r(205);e.exports=function(e,t){i.hasLines(t)&&a(t,"line")&&n(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(t)&&(a(t,"marker")&&n(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&n(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},639:function(e,t,r){"use strict";var a=r(24),n=r(106),i=r(23);function o(e,t,r){n.pointStyle(e.selectAll("path.point"),t,r)}function l(e,t,r){n.textPointStyle(e.selectAll("text"),t,r)}e.exports={style:function(e){var t=a.select(e).selectAll("g.trace.scatter");t.style("opacity",(function(e){return e[0].trace.opacity})),t.selectAll("g.points").each((function(t){o(a.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.text").each((function(t){l(a.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.trace path.js-line").call(n.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(n.fillGroupStyle),i.getComponentMethod("errorbars","style")(t)},stylePoints:o,styleText:l,styleOnSelect:function(e,t,r){var a=t[0].trace;a.selectedpoints?(n.selectedPointStyle(r.selectAll("path.point"),a),n.selectedTextStyle(r.selectAll("text"),a)):(o(r,a,e),l(r,a,e))}}},641:function(e,t,r){"use strict";var a=r(12),n=r(6),i=r(105),o=r(25).BADNUM,l=r(205),s=r(635),c=r(628),f=r(630);function u(e,t,r,a,n,o,s){var c=t._length,f=e._fullLayout,u=r._id,p=a._id,h=f._firstScatter[x(t)]===t.uid,y=(v(t,f,r,a)||{}).orientation,d=t.fill;r._minDtick=0,a._minDtick=0;var m={padded:!0},g={padded:!0};s&&(m.ppad=g.ppad=s);var k=c<2||n[0]!==n[c-1]||o[0]!==o[c-1];k&&("tozerox"===d||"tonextx"===d&&(h||"h"===y))?m.tozero=!0:(t.error_y||{}).visible||"tonexty"!==d&&"tozeroy"!==d&&(l.hasMarkers(t)||l.hasText(t))||(m.padded=!1,m.ppad=0),k&&("tozeroy"===d||"tonexty"===d&&(h||"v"===y))?g.tozero=!0:"tonextx"!==d&&"tozerox"!==d||(g.padded=!1),u&&(t._extremes[u]=i.findExtremes(r,n,m)),p&&(t._extremes[p]=i.findExtremes(a,o,g))}function p(e,t){if(l.hasMarkers(e)){var r,a=e.marker,o=1.6*(e.marker.sizeref||1);if(r="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/o),3)}:function(e){return Math.max((e||0)/o,3)},n.isArrayOrTypedArray(a.size)){var s={type:"linear"};i.setConvert(s);for(var c=s.makeCalcdata(e.marker,"size"),f=new Array(t),u=0;u<t;u++)f[u]=r(c[u]);return f}return r(a.size)}}function h(e,t){var r=x(t),a=e._firstScatter;a[r]||(a[r]=t.uid)}function x(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function v(e,t,r,a){var n=e.stackgroup;if(n){var i=t._scatterStackOpts[r._id+a._id][n],o="v"===i.orientation?a:r;return"linear"===o.type||"log"===o.type?i:void 0}}e.exports={calc:function(e,t){var r,l,x,y,d,m,g=e._fullLayout,k=i.getFromId(e,t.xaxis||"x"),_=i.getFromId(e,t.yaxis||"y"),A=k.makeCalcdata(t,"x"),M=_.makeCalcdata(t,"y"),b=t._length,L=new Array(b),S=t.ids,w=v(t,g,k,_),C=!1;h(g,t);var T,z="x",O="y";for(w?(n.pushUnique(w.traceIndices,t._expandedIndex),(r="v"===w.orientation)?(O="s",T="x"):(z="s",T="y"),d="interpolate"===w.stackgaps):u(e,t,k,_,A,M,p(t,b)),l=0;l<b;l++){var P=L[l]={},F=a(A[l]),I=a(M[l]);F&&I?(P[z]=A[l],P[O]=M[l]):w&&(r?F:I)?(P[T]=r?A[l]:M[l],P.gap=!0,d?(P.s=o,C=!0):P.s=0):P[z]=P[O]=o,S&&(P.id=String(S[l]))}if(c(L,t),s(e,t),f(L,t),w){for(l=0;l<L.length;)L[l][T]===o?L.splice(l,1):l++;if(n.sort(L,(function(e,t){return e[T]-t[T]||e.i-t.i})),C){for(l=0;l<L.length-1&&L[l].gap;)l++;for((m=L[l].s)||(m=L[l].s=0),x=0;x<l;x++)L[x].s=m;for(y=L.length-1;y>l&&L[y].gap;)y--;for(m=L[y].s,x=L.length-1;x>y;x--)L[x].s=m;for(;l<y;)if(L[++l].gap){for(x=l+1;L[x].gap;)x++;for(var D=L[l-1][T],R=L[l-1].s,j=(L[x].s-R)/(L[x][T]-D);l<x;)L[l].s=R+(L[l][T]-D)*j,l++}}}return L},calcMarkerSize:p,calcAxisExpansion:u,setFirstScatter:h,getStackOpts:v}},643:function(e,t,r){"use strict";var a=r(57),n=r(79).hasColorscale,i=r(151),o=r(205);e.exports=function(e,t,r,l,s,c){var f=o.isBubble(e),u=(e.line||{}).color;(c=c||{},u&&(r=u),s("marker.symbol"),s("marker.opacity",f?.7:1),s("marker.size"),s("marker.color",r),n(e,"marker")&&i(e,t,l,s,{prefix:"marker.",cLetter:"c"}),c.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),c.noLine||(s("marker.line.color",u&&!Array.isArray(u)&&t.marker.color!==u?u:f?a.background:a.defaultLine),n(e,"marker.line")&&i(e,t,l,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",f?1:0)),f&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),c.gradient)&&("none"!==s("marker.gradient.type")&&s("marker.gradient.color"))}},646:function(e,t,r){"use strict";var a=r(6),n=r(23);e.exports=function(e,t,r,i){var o,l=i("x"),s=i("y");if(n.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],r),l){var c=a.minRowLength(l);s?o=Math.min(c,a.minRowLength(s)):(o=c,i("y0"),i("dy"))}else{if(!s)return 0;o=a.minRowLength(s),i("x0"),i("dx")}return t._length=o,o}},647:function(e,t,r){"use strict";var a=r(6).isArrayOrTypedArray,n=r(79).hasColorscale,i=r(151);e.exports=function(e,t,r,o,l,s){var c=(e.marker||{}).color;(l("line.color",r),n(e,"line"))?i(e,t,o,l,{prefix:"line.",cLetter:"c"}):l("line.color",!a(c)&&c||r);l("line.width"),(s||{}).noDash||l("line.dash")}},648:function(e,t,r){"use strict";var a=r(6);e.exports=function(e,t,r,n,i){i=i||{},n("textposition"),a.coerceFont(n,"textfont",r.font),i.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}},650:function(e,t,r){"use strict";var a=r(57),n=r(205);e.exports=function(e,t){var r,i;if("lines"===e.mode)return(r=e.line.color)&&a.opacity(r)?r:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var o=t.mcc||(e.marker||{}).color,l=t.mlcc||((e.marker||{}).line||{}).color;return(i=o&&a.opacity(o)?o:l&&a.opacity(l)&&(t.mlw||((e.marker||{}).line||{}).width)?l:"")?a.opacity(i)<.3?a.addOpacity(i,.3):i:(r=(e.line||{}).color)&&a.opacity(r)&&n.hasLines(e)&&e.line.width?r:e.fillcolor}},654:function(e,t,r){"use strict";var a=r(57),n=r(6).isArrayOrTypedArray;e.exports=function(e,t,r,i){var o=!1;if(t.marker){var l=t.marker.color,s=(t.marker.line||{}).color;l&&!n(l)?o=l:s&&!n(s)&&(o=s)}i("fillcolor",a.addOpacity((t.line||{}).color||o||r,.5))}},680:function(e,t,r){"use strict";e.exports=function(e,t,r){"spline"===r("line.shape")&&r("line.smoothing")}},681:function(e,t,r){"use strict";var a=r(6),n=r(622),i=r(23),o=r(650),l=r(57),s=a.fillText;e.exports=function(e,t,r,c){var f=e.cd,u=f[0].trace,p=e.xa,h=e.ya,x=p.c2p(t),v=h.c2p(r),y=[x,v],d=u.hoveron||"",m=-1!==u.mode.indexOf("markers")?3:.5;if(-1!==d.indexOf("points")){var g=function(e){var t=Math.max(m,e.mrc||0),r=p.c2p(e.x)-x,a=h.c2p(e.y)-v;return Math.max(Math.sqrt(r*r+a*a)-t,1-m/t)},k=n.getDistanceFunction(c,(function(e){var t=Math.max(3,e.mrc||0),r=1-1/t,a=Math.abs(p.c2p(e.x)-x);return a<t?r*a/t:a-t+r}),(function(e){var t=Math.max(3,e.mrc||0),r=1-1/t,a=Math.abs(h.c2p(e.y)-v);return a<t?r*a/t:a-t+r}),g);if(n.getClosest(f,k,e),!1!==e.index){var _=f[e.index],A=p.c2p(_.x,!0),M=h.c2p(_.y,!0),b=_.mrc||1;e.index=_.i;var L=f[0].t.orientation,S=L&&(_.sNorm||_.s),w="h"===L?S:_.x,C="v"===L?S:_.y;return a.extendFlat(e,{color:o(u,_),x0:A-b,x1:A+b,xLabelVal:w,y0:M-b,y1:M+b,yLabelVal:C,spikeDistance:g(_),hovertemplate:u.hovertemplate}),s(_,u,e),i.getComponentMethod("errorbars","hoverInfo")(_,u,e),[e]}}if(-1!==d.indexOf("fills")&&u._polygons){var T,z,O,P,F,I,D,R,j,E=u._polygons,G=[],B=!1,N=1/0,U=-1/0,Z=1/0,q=-1/0;for(T=0;T<E.length;T++)(O=E[T]).contains(y)&&(B=!B,G.push(O),Z=Math.min(Z,O.ymin),q=Math.max(q,O.ymax));if(B){var J=((Z=Math.max(Z,0))+(q=Math.min(q,h._length)))/2;for(T=0;T<G.length;T++)for(P=G[T].pts,z=1;z<P.length;z++)(R=P[z-1][1])>J!=(j=P[z][1])>=J&&(I=P[z-1][0],D=P[z][0],j-R&&(F=I+(D-I)*(J-R)/(j-R),N=Math.min(N,F),U=Math.max(U,F)));N=Math.max(N,0),U=Math.min(U,p._length);var V=l.defaultLine;return l.opacity(u.fillcolor)?V=u.fillcolor:l.opacity((u.line||{}).color)&&(V=u.line.color),a.extendFlat(e,{distance:e.maxHoverDistance,x0:N,x1:U,y0:J,y1:J,color:V,hovertemplate:!1}),delete e.index,u.text&&!Array.isArray(u.text)?e.text=String(u.text):e.text=u.name,[e]}}}},687:function(e,t,r){"use strict";var a={tonextx:1,tonexty:1,tonext:1};e.exports=function(e,t,r){var n,i,o,l,s,c={},f=!1,u=-1,p=0,h=-1;for(i=0;i<r.length;i++)(o=(n=r[i][0].trace).stackgroup||"")?o in c?s=c[o]:(s=c[o]=p,p++):n.fill in a&&h>=0?s=h:(s=h=p,p++),s<u&&(f=!0),n._groupIndex=u=s;var x=r.slice();f&&x.sort((function(e,t){var r=e[0].trace,a=t[0].trace;return r._groupIndex-a._groupIndex||r.index-a.index}));var v={};for(i=0;i<x.length;i++)o=(n=x[i][0].trace).stackgroup||"",!0===n.visible?(n._nexttrace=null,n.fill in a&&(l=v[o],n._prevtrace=l||null,l&&(l._nexttrace=n)),n._ownfill=n.fill&&("tozero"===n.fill.substr(0,6)||"toself"===n.fill||"to"===n.fill.substr(0,2)&&!n._prevtrace),v[o]=n):n._prevtrace=n._nexttrace=n._ownfill=null;return x}},695:function(e,t,r){"use strict";var a=r(24),n=r(23),i=r(6),o=i.ensureSingle,l=i.identity,s=r(106),c=r(205),f=r(696),u=r(687),p=r(752).tester;function h(e,t,r,u,h,x,v){var y;!function(e,t,r,n,o){var l=r.xaxis,s=r.yaxis,f=a.extent(i.simpleMap(l.range,l.r2c)),u=a.extent(i.simpleMap(s.range,s.r2c)),p=n[0].trace;if(!c.hasMarkers(p))return;var h=p.marker.maxdisplayed;if(0===h)return;var x=n.filter((function(e){return e.x>=f[0]&&e.x<=f[1]&&e.y>=u[0]&&e.y<=u[1]})),v=Math.ceil(x.length/h),y=0;o.forEach((function(e,r){var a=e[0].trace;c.hasMarkers(a)&&a.marker.maxdisplayed>0&&r<t&&y++}));var d=Math.round(y*v/3+Math.floor(y/3)*v/7.1);n.forEach((function(e){delete e.vis})),x.forEach((function(e,t){0===Math.round((t+d)%v)&&(e.vis=!0)}))}(0,t,r,u,h);var d=!!v&&v.duration>0;function m(e){return d?e.transition():e}var g=r.xaxis,k=r.yaxis,_=u[0].trace,A=_.line,M=a.select(x),b=o(M,"g","errorbars"),L=o(M,"g","lines"),S=o(M,"g","points"),w=o(M,"g","text");if(n.getComponentMethod("errorbars","plot")(e,b,r,v),!0===_.visible){var C,T;m(M).style("opacity",_.opacity);var z=_.fill.charAt(_.fill.length-1);"x"!==z&&"y"!==z&&(z=""),u[0][r.isRangePlot?"nodeRangePlot3":"node3"]=M;var O,P,F="",I=[],D=_._prevtrace;D&&(F=D._prevRevpath||"",T=D._nextFill,I=D._polygons);var R,j,E,G,B,N,U,Z="",q="",J=[],V=i.noop;if(C=_._ownFill,c.hasLines(_)||"none"!==_.fill){for(T&&T.datum(u),-1!==["hv","vh","hvh","vhv"].indexOf(A.shape)?(R=s.steps(A.shape),j=s.steps(A.shape.split("").reverse().join(""))):R=j="spline"===A.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?s.smoothclosed(e.slice(1),A.smoothing):s.smoothopen(e,A.smoothing)}:function(e){return"M"+e.join("L")},E=function(e){return j(e.reverse())},J=f(u,{xaxis:g,yaxis:k,connectGaps:_.connectgaps,baseTolerance:Math.max(A.width||1,3)/4,shape:A.shape,simplify:A.simplify,fill:_.fill}),U=_._polygons=new Array(J.length),y=0;y<J.length;y++)_._polygons[y]=p(J[y]);J.length&&(G=J[0][0],N=(B=J[J.length-1])[B.length-1]),V=function(e){return function(t){if(O=R(t),P=E(t),Z?z?(Z+="L"+O.substr(1),q=P+"L"+q.substr(1)):(Z+="Z"+O,q=P+"Z"+q):(Z=O,q=P),c.hasLines(_)&&t.length>1){var r=a.select(this);if(r.datum(u),e)m(r.style("opacity",0).attr("d",O).call(s.lineGroupStyle)).style("opacity",1);else{var n=m(r);n.attr("d",O),s.singleLineStyle(u,n)}}}}}var H=L.selectAll(".js-line").data(J);m(H.exit()).style("opacity",0).remove(),H.each(V(!1)),H.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(s.lineGroupStyle).each(V(!0)),s.setClipUrl(H,r.layerClipId,e),J.length?(C?(C.datum(u),G&&N&&(z?("y"===z?G[1]=N[1]=k.c2p(0,!0):"x"===z&&(G[0]=N[0]=g.c2p(0,!0)),m(C).attr("d","M"+N+"L"+G+"L"+Z.substr(1)).call(s.singleFillStyle)):m(C).attr("d",Z+"Z").call(s.singleFillStyle))):T&&("tonext"===_.fill.substr(0,6)&&Z&&F?("tonext"===_.fill?m(T).attr("d",Z+"Z"+F+"Z").call(s.singleFillStyle):m(T).attr("d",Z+"L"+F.substr(1)+"Z").call(s.singleFillStyle),_._polygons=_._polygons.concat(I)):(Y(T),_._polygons=null)),_._prevRevpath=q,_._prevPolygons=U):(C?Y(C):T&&Y(T),_._polygons=_._prevRevpath=_._prevPolygons=null),S.datum(u),w.datum(u),function(t,n,i){var o,f=i[0].trace,u=c.hasMarkers(f),p=c.hasText(f),h=ee(f),x=te,v=te;if(u||p){var y=l,_=f.stackgroup,A=_&&"infer zero"===e._fullLayout._scatterStackOpts[g._id+k._id][_].stackgaps;f.marker.maxdisplayed||f._needsCull?y=A?W:Q:_&&!A&&(y=X),u&&(x=y),p&&(v=y)}var M,b=(o=t.selectAll("path.point").data(x,h)).enter().append("path").classed("point",!0);d&&b.call(s.pointStyle,f,e).call(s.translatePoints,g,k).style("opacity",0).transition().style("opacity",1),o.order(),u&&(M=s.makePointStyleFns(f)),o.each((function(t){var n=a.select(this),i=m(n);s.translatePoint(t,i,g,k)?(s.singlePointStyle(t,i,f,M,e),r.layerClipId&&s.hideOutsideRangePoint(t,i,g,k,f.xcalendar,f.ycalendar),f.customdata&&n.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):i.remove()})),d?o.exit().transition().style("opacity",0).remove():o.exit().remove(),(o=n.selectAll("g").data(v,h)).enter().append("g").classed("textpoint",!0).append("text"),o.order(),o.each((function(e){var t=a.select(this),n=m(t.select("text"));s.translatePoint(e,n,g,k)?r.layerClipId&&s.hideOutsideRangePoint(e,t,g,k,f.xcalendar,f.ycalendar):t.remove()})),o.selectAll("text").call(s.textPointStyle,f,e).each((function(e){var t=g.c2p(e.x),r=k.c2p(e.y);a.select(this).selectAll("tspan.line").each((function(){m(a.select(this)).attr({x:t,y:r})}))})),o.exit().remove()}(S,w,u);var K=!1===_.cliponaxis?null:r.layerClipId;s.setClipUrl(S,K,e),s.setClipUrl(w,K,e)}function Y(e){m(e).attr("d","M0,0Z")}function Q(e){return e.filter((function(e){return!e.gap&&e.vis}))}function W(e){return e.filter((function(e){return e.vis}))}function X(e){return e.filter((function(e){return!e.gap}))}function $(e){return e.id}function ee(e){if(e.ids)return $}function te(){return!1}}e.exports=function(e,t,r,n,i,c){var f,p,x=!i,v=!!i&&i.duration>0,y=u(e,t,r);((f=n.selectAll("g.trace").data(y,(function(e){return e[0].trace.uid}))).enter().append("g").attr("class",(function(e){return"trace scatter trace"+e[0].trace.uid})).style("stroke-miterlimit",2),f.order(),function(e,t,r){t.each((function(t){var n=o(a.select(this),"g","fills");s.setClipUrl(n,r.layerClipId,e);var i=t[0].trace,c=[];i._ownfill&&c.push("_ownFill"),i._nexttrace&&c.push("_nextFill");var f=n.selectAll("g").data(c,l);f.enter().append("g"),f.exit().each((function(e){i[e]=null})).remove(),f.order().each((function(e){i[e]=o(a.select(this),"path","js-fill")}))}))}(e,f,t),v)?(c&&(p=c()),a.transition().duration(i.duration).ease(i.easing).each("end",(function(){p&&p()})).each("interrupt",(function(){p&&p()})).each((function(){n.selectAll("g.trace").each((function(r,a){h(e,a,t,r,y,this,i)}))}))):f.each((function(r,a){h(e,a,t,r,y,this,i)}));x&&f.exit().remove(),n.selectAll("path:not([d])").remove()}},696:function(e,t,r){"use strict";var a=r(25),n=a.BADNUM,i=a.LOG_CLIP,o=i+.5,l=i-.5,s=r(6),c=s.segmentsIntersect,f=s.constrain,u=r(212);e.exports=function(e,t){var r,a,i,p,h,x,v,y,d,m,g,k,_,A,M,b,L,S,w=t.xaxis,C=t.yaxis,T="log"===w.type,z="log"===C.type,O=w._length,P=C._length,F=t.connectGaps,I=t.baseTolerance,D=t.shape,R="linear"===D,j=t.fill&&"none"!==t.fill,E=[],G=u.minTolerance,B=e.length,N=new Array(B),U=0;function Z(r){var a=e[r];if(!a)return!1;var i=t.linearized?w.l2p(a.x):w.c2p(a.x),s=t.linearized?C.l2p(a.y):C.c2p(a.y);if(i===n){if(T&&(i=w.c2p(a.x,!0)),i===n)return!1;z&&s===n&&(i*=Math.abs(w._m*P*(w._m>0?o:l)/(C._m*O*(C._m>0?o:l)))),i*=1e3}if(s===n){if(z&&(s=C.c2p(a.y,!0)),s===n)return!1;s*=1e3}return[i,s]}function q(e,t,r,a){var n=r-e,i=a-t,o=.5-e,l=.5-t,s=n*n+i*i,c=n*o+i*l;if(c>0&&c<s){var f=o*i-l*n;if(f*f<s)return!0}}function J(e,t){var r=e[0]/O,a=e[1]/P,n=Math.max(0,-r,r-1,-a,a-1);return n&&void 0!==L&&q(r,a,L,S)&&(n=0),n&&t&&q(r,a,t[0]/O,t[1]/P)&&(n=0),(1+u.toleranceGrowth*n)*I}function V(e,t){var r=e[0]-t[0],a=e[1]-t[1];return Math.sqrt(r*r+a*a)}var H,K,Y,Q,W,X,$,ee=u.maxScreensAway,te=-O*ee,re=O*(1+ee),ae=-P*ee,ne=P*(1+ee),ie=[[te,ae,re,ae],[re,ae,re,ne],[re,ne,te,ne],[te,ne,te,ae]];function oe(e){if(e[0]<te||e[0]>re||e[1]<ae||e[1]>ne)return[f(e[0],te,re),f(e[1],ae,ne)]}function le(e,t){return e[0]===t[0]&&(e[0]===te||e[0]===re)||(e[1]===t[1]&&(e[1]===ae||e[1]===ne)||void 0)}function se(e,t,r){return function(a,n){var i=oe(a),o=oe(n),l=[];if(i&&o&&le(i,o))return l;i&&l.push(i),o&&l.push(o);var c=2*s.constrain((a[e]+n[e])/2,t,r)-((i||a)[e]+(o||n)[e]);c&&((i&&o?c>0==i[e]>o[e]?i:o:i||o)[e]+=c);return l}}function ce(e){var t=e[0],r=e[1],a=t===N[U-1][0],n=r===N[U-1][1];if(!a||!n)if(U>1){var i=t===N[U-2][0],o=r===N[U-2][1];a&&(t===te||t===re)&&i?o?U--:N[U-1]=e:n&&(r===ae||r===ne)&&o?i?U--:N[U-1]=e:N[U++]=e}else N[U++]=e}function fe(e){N[U-1][0]!==e[0]&&N[U-1][1]!==e[1]&&ce([Y,Q]),ce(e),W=null,Y=Q=0}function ue(e){if(L=e[0]/O,S=e[1]/P,H=e[0]<te?te:e[0]>re?re:0,K=e[1]<ae?ae:e[1]>ne?ne:0,H||K){if(U)if(W){var t=$(W,e);t.length>1&&(fe(t[0]),N[U++]=t[1])}else X=$(N[U-1],e)[0],N[U++]=X;else N[U++]=[H||e[0],K||e[1]];var r=N[U-1];H&&K&&(r[0]!==H||r[1]!==K)?(W&&(Y!==H&&Q!==K?ce(Y&&Q?(a=W,i=(n=e)[0]-a[0],o=(n[1]-a[1])/i,(a[1]*n[0]-n[1]*a[0])/i>0?[o>0?te:re,ne]:[o>0?re:te,ae]):[Y||H,Q||K]):Y&&Q&&ce([Y,Q])),ce([H,K])):Y-H&&Q-K&&ce([H||Y,K||Q]),W=e,Y=H,Q=K}else W&&fe($(W,e)[0]),N[U++]=e;var a,n,i,o}for("linear"===D||"spline"===D?$=function(e,t){for(var r=[],a=0,n=0;n<4;n++){var i=ie[n],o=c(e[0],e[1],t[0],t[1],i[0],i[1],i[2],i[3]);o&&(!a||Math.abs(o.x-r[0][0])>1||Math.abs(o.y-r[0][1])>1)&&(o=[o.x,o.y],a&&V(o,e)<V(r[0],e)?r.unshift(o):r.push(o),a++)}return r}:"hv"===D||"vh"===D?$=function(e,t){var r=[],a=oe(e),n=oe(t);return a&&n&&le(a,n)||(a&&r.push(a),n&&r.push(n)),r}:"hvh"===D?$=se(0,te,re):"vhv"===D&&($=se(1,ae,ne)),r=0;r<B;r++)if(a=Z(r)){for(U=0,W=null,ue(a),r++;r<B;r++){if(!(p=Z(r))){if(F)continue;break}if(R&&t.simplify){var pe=Z(r+1);if(m=V(p,a),j&&(0===U||U===B-1)||!(m<J(p,pe)*G)){for(y=[(p[0]-a[0])/m,(p[1]-a[1])/m],h=a,g=m,k=A=M=0,v=!1,i=p,r++;r<e.length;r++){if(x=pe,pe=Z(r+1),!x){if(F)continue;break}if(b=(d=[x[0]-a[0],x[1]-a[1]])[0]*y[1]-d[1]*y[0],A=Math.min(A,b),(M=Math.max(M,b))-A>J(x,pe))break;i=x,(_=d[0]*y[0]+d[1]*y[1])>g?(g=_,p=x,v=!1):_<k&&(k=_,h=x,v=!0)}if(v?(ue(p),i!==h&&ue(h)):(h!==a&&ue(h),i!==p&&ue(p)),ue(i),r>=e.length||!x)break;ue(x),a=x}}else ue(p)}W&&ce([Y||W[0],Q||W[1]]),E.push(N.slice(0,U))}return E}},697:function(e,t,r){"use strict";var a=r(205);e.exports=function(e,t){var r,n,i,o,l=e.cd,s=e.xaxis,c=e.yaxis,f=[],u=l[0].trace;if(!a.hasMarkers(u)&&!a.hasText(u))return[];if(!1===t)for(r=0;r<l.length;r++)l[r].selected=0;else for(r=0;r<l.length;r++)n=l[r],i=s.c2p(n.x),o=c.c2p(n.y),null!==n.i&&t.contains([i,o],!1,r,e)?(f.push({pointNumber:n.i,x:s.c2d(n.x),y:c.c2d(n.y)}),n.selected=1):n.selected=0;return f}},735:function(e,t,r){"use strict";e.exports=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("scatter"===r.type){var a=r.fill;if("none"!==a&&"toself"!==a&&(r.opacity=void 0,"tonexty"===a||"tonextx"===a))for(var n=t-1;n>=0;n--){var i=e[n];if("scatter"===i.type&&i.xaxis===r.xaxis&&i.yaxis===r.yaxis){i.opacity=void 0;break}}}}}},736:function(e,t,r){"use strict";var a=r(105);e.exports=function(e,t,r){var n={},i={_fullLayout:r},o=a.getFromTrace(i,t,"x"),l=a.getFromTrace(i,t,"y");return n.xLabel=a.tickText(o,e.x,!0).text,n.yLabel=a.tickText(l,e.y,!0).text,n}},777:function(e,t,r){"use strict";var a=r(205);e.exports={hasLines:a.hasLines,hasMarkers:a.hasMarkers,hasText:a.hasText,isBubble:a.isBubble,attributes:r(206),supplyDefaults:r(778),crossTraceDefaults:r(735),calc:r(641).calc,crossTraceCalc:r(780),arraysToCalcdata:r(628),plot:r(695),colorbar:r(632),formatLabels:r(736),style:r(639).style,styleOnSelect:r(639).styleOnSelect,hoverPoints:r(681),selectPoints:r(697),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r(625),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}},778:function(e,t,r){"use strict";var a=r(6),n=r(23),i=r(206),o=r(212),l=r(205),s=r(646),c=r(779),f=r(643),u=r(647),p=r(680),h=r(648),x=r(654);e.exports=function(e,t,r,v){function y(r,n){return a.coerce(e,t,i,r,n)}var d=s(e,t,v,y);if(d||(t.visible=!1),t.visible){var m=c(e,t,v,y),g=!m&&d<o.PTS_LINESONLY?"lines+markers":"lines";y("text"),y("hovertext"),y("mode",g),l.hasLines(t)&&(u(e,t,r,v,y),p(e,t,y),y("connectgaps"),y("line.simplify")),l.hasMarkers(t)&&f(e,t,r,v,y,{gradient:!0}),l.hasText(t)&&(y("texttemplate"),h(e,t,v,y));var k=[];(l.hasMarkers(t)||l.hasText(t))&&(y("cliponaxis"),y("marker.maxdisplayed"),k.push("points")),y("fill",m?m.fillDflt:"none"),"none"!==t.fill&&(x(e,t,r,y),l.hasLines(t)||p(e,t,y));var _=(t.line||{}).color,A=(t.marker||{}).color;"tonext"!==t.fill&&"toself"!==t.fill||k.push("fills"),y("hoveron",k.join("+")||"points"),"fills"!==t.hoveron&&y("hovertemplate");var M=n.getComponentMethod("errorbars","supplyDefaults");M(e,t,_||A||r,{axis:"y"}),M(e,t,_||A||r,{axis:"x",inherit:"y"}),a.coerceSelectionMarkerOpacity(t,y)}}},779:function(e,t,r){"use strict";var a=["orientation","groupnorm","stackgaps"];e.exports=function(e,t,r,n){var i=r._scatterStackOpts,o=n("stackgroup");if(o){var l=t.xaxis+t.yaxis,s=i[l];s||(s=i[l]={});var c=s[o],f=!1;c?c.traces.push(t):(c=s[o]={traceIndices:[],traces:[t]},f=!0);for(var u={orientation:t.x&&!t.y?"h":"v"},p=0;p<a.length;p++){var h=a[p],x=h+"Found";if(!c[x]){var v=void 0!==e[h],y="orientation"===h;if((v||f)&&(c[h]=n(h,u[h]),y&&(c.fillDflt="h"===c[h]?"tonextx":"tonexty"),v&&(c[x]=!0,!f&&(delete c.traces[0][h],y))))for(var d=0;d<c.traces.length-1;d++){var m=c.traces[d];m._input.fill!==m.fill&&(m.fill=c.fillDflt)}}}return c}}},780:function(e,t,r){"use strict";var a=r(641);function n(e,t,r,a,n,i,o){n[a]=!0;var l={i:null,gap:!0,s:0};if(l[o]=r,e.splice(t,0,l),t&&r===e[t-1][o]){var s=e[t-1];l.s=s.s,l.i=s.i,l.gap=s.gap}else i&&(l.s=function(e,t,r,a){var n=e[t-1],i=e[t+1];return i?n?n.s+(i.s-n.s)*(r-n[a])/(i[a]-n[a]):i.s:n.s}(e,t,r,o));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}e.exports=function(e,t){var r=t.xaxis,i=t.yaxis,o=r._id+i._id,l=e._fullLayout._scatterStackOpts[o];if(l){var s,c,f,u,p,h,x,v,y,d,m,g,k,_,A,M=e.calcdata;for(var b in l){var L=(d=l[b]).traceIndices;if(L.length){for(m="interpolate"===d.stackgaps,g=d.groupnorm,"v"===d.orientation?(k="x",_="y"):(k="y",_="x"),A=new Array(L.length),s=0;s<A.length;s++)A[s]=!1;h=M[L[0]];var S=new Array(h.length);for(s=0;s<h.length;s++)S[s]=h[s][k];for(s=1;s<L.length;s++){for(p=M[L[s]],c=f=0;c<p.length;c++){for(x=p[c][k];x>S[f]&&f<S.length;f++)n(p,c,S[f],s,A,m,k),c++;if(x!==S[f]){for(u=0;u<s;u++)n(M[L[u]],f,x,u,A,m,k);S.splice(f,0,x)}f++}for(;f<S.length;f++)n(p,c,S[f],s,A,m,k),c++}var w=S.length;for(c=0;c<h.length;c++){for(v=h[c][_]=h[c].s,s=1;s<L.length;s++)(p=M[L[s]])[0].trace._rawLength=p[0].trace._length,p[0].trace._length=w,v+=p[c].s,p[c][_]=v;if(g)for(y=("fraction"===g?v:v/100)||1,s=0;s<L.length;s++){var C=M[L[s]][c];C[_]/=y,C.sNorm=C.s/y}}for(s=0;s<L.length;s++){var T=(p=M[L[s]])[0].trace,z=a.calcMarkerSize(T,T._rawLength),O=Array.isArray(z);if(z&&A[s]||O){var P=z;for(z=new Array(w),c=0;c<w;c++)z[c]=p[c].gap?0:O?P[p[c].i]:P}var F=new Array(w),I=new Array(w);for(c=0;c<w;c++)F[c]=p[c].x,I[c]=p[c].y;a.calcAxisExpansion(e,T,r,i,F,I,z),p[0].t.orientation=d.orientation}}}}}}}]);