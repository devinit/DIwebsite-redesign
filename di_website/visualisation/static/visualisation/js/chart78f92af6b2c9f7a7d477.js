(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1029:function(e,t,n){"use strict";(function(t){var r,i=n(1760);r="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:i,e.exports=r}).call(this,n(210))},1046:function(e,t,n){"use strict";var r=n(23),i=n(6),o=n(58),a=n(1047),l=n(117),s=n(1656);e.exports=function(e,t,n){for(var c=e.legend||{},d=0,h=!1,u="normal",f=0;f<n.length;f++){var v=n[f];v.visible&&((v.showlegend||v._dfltShowLegend&&!(v._module&&v._module.attributes&&v._module.attributes.showlegend&&!1===v._module.attributes.showlegend.dflt))&&(d++,v.showlegend&&(h=!0,(r.traceIs(v,"pie-like")||!0===v._input.showlegend)&&d++)),(r.traceIs(v,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(v.fill))&&(u=s.isGrouped({traceorder:u})?"grouped+reversed":"reversed"),void 0!==v.legendgroup&&""!==v.legendgroup&&(u=s.isReversed({traceorder:u})?"reversed+grouped":"grouped"))}var p=i.coerce(e,t,l,"showlegend",h&&d>1);if(!1!==p||c.uirevision){var g=o.newContainer(t,"legend");if(_("uirevision",t.uirevision),!1!==p){_("bgcolor",t.paper_bgcolor),_("bordercolor"),_("borderwidth"),i.coerceFont(_,"font",t.font);var m,x,y,b=_("orientation");"h"===b?(m=0,r.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(x=1.1,y="bottom"):(x=-.1,y="top")):(m=1.02,x=1,y="auto"),_("traceorder",u),s.isGrouped(t.legend)&&_("tracegroupgap"),_("itemsizing"),_("itemclick"),_("itemdoubleclick"),_("x",m),_("xanchor"),_("y",x),_("yanchor",y),_("valign"),i.noneOrAll(c,g,["x","y"]),_("title.text")&&(_("title.side","h"===b?"left":"top"),i.coerceFont(_,"title.font",t.font))}}function _(e,t){return i.coerce(c,g,a,e,t)}}},1047:function(e,t,n){"use strict";var r=n(46),i=n(112);e.exports={bgcolor:{valType:"color",role:"style",editType:"legend",description:["Sets the legend background color.","Defaults to `layout.paper_bgcolor`."].join(" ")},bordercolor:{valType:"color",dflt:i.defaultLine,role:"style",editType:"legend",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:r({editType:"legend",description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",role:"style",editType:"legend",description:["Determines if the legend items symbols scale with their corresponding *trace* attributes","or remain *constant* independent of the symbol size on the graph."].join(" ")},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",role:"info",editType:"legend",description:["Determines the behavior on legend item click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disable legend item click interactions."].join(" ")},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",role:"info",editType:"legend",description:["Determines the behavior on legend item double-click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disable legend item double-click interactions."].join(" ")},x:{valType:"number",min:-2,max:3,role:"style",editType:"legend",description:["Sets the x position (in normalized coordinates) of the legend.","Defaults to *1.02* for vertical legends and","defaults to *0* for horizontal legends."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend.","Value *auto* anchors legends to the right for `x` values greater than or equal to 2/3,","anchors legends to the left for `x` values less than or equal to 1/3 and","anchors legends with respect to their center otherwise."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",editType:"legend",description:["Sets the y position (in normalized coordinates) of the legend.","Defaults to *1* for vertical legends,","defaults to *-0.1* for horizontal legends on graphs w/o range sliders and","defaults to *1.1* for horizontal legends on graph with one or multiple range sliders."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],role:"info",editType:"legend",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend.","Value *auto* anchors legends at their bottom for `y` values less than or equal to 1/3,","anchors legends to at their top for `y` values greater than or equal to 2/3 and","anchors legends with respect to their middle otherwise."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of legend-driven changes in trace and pie label","visibility. Defaults to `layout.uirevision`."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",editType:"legend",description:["Sets the vertical alignment of the symbols with respect to their associated text."].join(" ")},title:{text:{valType:"string",dflt:"",role:"info",editType:"legend",description:["Sets the title of the legend."].join(" ")},font:r({editType:"legend",description:["Sets this legend's title font."].join(" ")}),side:{valType:"enumerated",values:["top","left","top left"],role:"style",editType:"legend",description:["Determines the location of legend's title","with respect to the legend items.","Defaulted to *top* with `orientation` is *h*.","Defaulted to *left* with `orientation` is *v*.","The *top left* options could be used to expand","legend area in both x and y sides."].join(" ")},editType:"legend"},editType:"legend"}},1048:function(e,t,n){"use strict";var r=n(24),i=n(6),o=n(107),a=n(23),l=n(894),s=n(649),c=n(106),d=n(57),h=n(108),u=n(1773),f=n(1774),v=n(81),p=v.LINE_SPACING,g=v.FROM_TL,m=v.FROM_BR,x=n(1775),y=n(1049),b=n(1656);function _(e,t,n,r,i){var o=n.data()[0][0].trace,s={event:i,node:n.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};if(o._group&&(s.group=o._group),a.traceIs(o,"pie-like")&&(s.label=n.datum()[0].label),!1!==l.triggerHandler(e,"plotly_legendclick",s))if(1===r)t._clickTimeout=setTimeout((function(){u(n,e,r)}),e._context.doubleClickDelay);else if(2===r){t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==l.triggerHandler(e,"plotly_legenddoubleclick",s)&&u(n,e,r)}}function w(e,t,n){var r,o=e.data()[0][0],l=o.trace,s=a.traceIs(l,"pie-like"),d=l.index,u=n._main&&t._context.edits.legendText&&!s,v=n._maxNameLength;n.entries?r=o.text:(r=s?o.label:l.name,l._meta&&(r=i.templateString(r,l._meta)));var p=i.ensureSingle(e,"text","legendtext");p.attr("text-anchor","start").classed("user-select-none",!0).call(c.font,n.font).text(u?L(r,v):r),h.positionText(p,f.textGap,0),u?p.call(h.makeEditable,{gd:t,text:r}).call(M,e,t,n).on("edit",(function(r){this.text(L(r,v)).call(M,e,t,n);var l=o.trace._fullInput||{},s={};if(a.hasTransform(l,"groupby")){var c=a.getTransformIndices(l,"groupby"),h=c[c.length-1],u=i.keyedContainer(l,"transforms["+h+"].styles","target","value.name");u.set(o.trace._group,r),s=u.constructUpdate()}else s.name=r;return a.call("_guiRestyle",t,s,d)})):M(p,e,t,n)}function L(e,t){var n=Math.max(4,t);if(e&&e.trim().length>=n/2)return e;for(var r=n-(e=e||"").length;r>0;r--)e+=" ";return e}function k(e,t){var n,o=t._context.doubleClickDelay,a=1,l=i.ensureSingle(e,"rect","legendtoggle",(function(e){e.style("cursor","pointer").attr("pointer-events","all").call(d.fill,"rgba(0,0,0,0)")}));l.on("mousedown",(function(){(n=(new Date).getTime())-t._legendMouseDownTime<o?a+=1:(a=1,t._legendMouseDownTime=n)})),l.on("mouseup",(function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>o&&(a=Math.max(a-1,1)),_(t,n,e,a,r.event)}}))}function M(e,t,n,r){r._main||e.attr("data-notex",!0),h.convertToTspans(e,n,(function(){!function(e,t,n){var r=e.data()[0][0];if(n._main&&r&&!r.trace.showlegend)return void e.remove();var i=e.select("g[class*=math-group]"),o=i.node();n||(n=t._fullLayout.legend);var a,l,s=n.borderwidth,d=(r?n:n.title).font.size*p;if(o){var u=c.bBox(o);a=u.height,l=u.width,r?c.setTranslate(i,0,.25*a):c.setTranslate(i,s,.75*a+s)}else{var v=e.select(r?".legendtext":".legendtitletext"),g=h.lineCount(v),m=v.node();a=d*g,l=m?c.bBox(m).width:0;var x=d*((g-1)/2-.3);r?h.positionText(v,f.textGap,-x):h.positionText(v,f.titlePad+s,d+s)}r?(r.lineHeight=d,r.height=Math.max(a,16)+3,r.width=l):(n._titleWidth=l,n._titleHeight=a)}(t,n,r)}))}function T(e){return i.isRightAnchor(e)?"right":i.isCenterAnchor(e)?"center":"left"}function A(e){return i.isBottomAnchor(e)?"bottom":i.isMiddleAnchor(e)?"middle":"top"}e.exports=function(e,t){var n,l=e._fullLayout,h="legend"+l._uid;if(t?(n=t.layer,h+="-hover"):((t=l.legend||{})._main=!0,n=l._infolayer),n){var u;if(e._legendMouseDownTime||(e._legendMouseDownTime=0),t._main){if(!e.calcdata)return;u=l.showlegend&&x(e.calcdata,t)}else{if(!t.entries)return;u=x(t.entries,t)}var v=l.hiddenlabels||[];if(t._main&&(!l.showlegend||!u.length))return n.selectAll(".legend").remove(),l._topdefs.select("#"+h).remove(),o.autoMargin(e,"legend");var p=i.ensureSingle(n,"g","legend",(function(e){t._main&&e.attr("pointer-events","all")})),L=i.ensureSingleById(l._topdefs,"clipPath",h,(function(e){e.append("rect")})),O=i.ensureSingle(p,"rect","bg",(function(e){e.attr("shape-rendering","crispEdges")}));O.call(d.stroke,t.bordercolor).call(d.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px");var H=i.ensureSingle(p,"g","scrollbox"),z=t.title;if(t._titleWidth=0,t._titleHeight=0,z.text){var S=i.ensureSingle(H,"text","legendtitletext");S.attr("text-anchor","start").classed("user-select-none",!0).call(c.font,z.font).text(z.text),M(S,H,e,t)}else H.selectAll(".legendtitletext").remove();var D=i.ensureSingle(p,"rect","scrollbar",(function(e){e.attr(f.scrollBarEnterAttrs).call(d.fill,f.scrollBarColor)})),E=H.selectAll("g.groups").data(u);E.enter().append("g").attr("class","groups"),E.exit().remove();var C=E.selectAll("g.traces").data(i.identity);C.enter().append("g").attr("class","traces"),C.exit().remove(),C.style("opacity",(function(e){var t=e[0].trace;return a.traceIs(t,"pie-like")?-1!==v.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1})).each((function(){r.select(this).call(w,e,t)})).call(y,e,t).each((function(){t._main&&r.select(this).call(k,e)})),i.syncOrAsync([o.previousPromises,function(){return function(e,t,n,i){var o=e._fullLayout;i||(i=o.legend);var a=o._size,l=b.isVertical(i),s=b.isGrouped(i),d=i.borderwidth,h=2*d,u=f.textGap,v=f.itemGap,p=2*(d+v),g=A(i),m=i.y<0||0===i.y&&"top"===g,x=i.y>1||1===i.y&&"bottom"===g;i._maxHeight=Math.max(m||x?o.height/2:a.h,30);var y=0;i._width=0,i._height=0;var _=function(e){var t=0,n=0,r=e.title.side;r&&(-1!==r.indexOf("left")&&(t=e._titleWidth),-1!==r.indexOf("top")&&(n=e._titleHeight));return[t,n]}(i);if(l)n.each((function(e){var t=e[0].height;c.setTranslate(this,d+_[0],d+_[1]+i._height+t/2+v),i._height+=t,i._width=Math.max(i._width,e[0].width)})),y=u+i._width,i._width+=v+u+h,i._height+=p,s&&(t.each((function(e,t){c.setTranslate(this,0,t*i.tracegroupgap)})),i._height+=(i._lgroupsLength-1)*i.tracegroupgap);else{var w=T(i),L=i.x<0||0===i.x&&"right"===w,k=i.x>1||1===i.x&&"left"===w,M=x||m,O=o.width/2;i._maxWidth=Math.max(L?M&&"left"===w?a.l+a.w:O:k?M&&"right"===w?a.r+a.w:O:a.w,2*u);var H=0,z=0;n.each((function(e){var t=e[0].width+u;H=Math.max(H,t),z+=t})),y=null;var S=0;if(s){var D=0,E=0,C=0;t.each((function(){var e=0,t=0;r.select(this).selectAll("g.traces").each((function(n){var r=n[0].height;c.setTranslate(this,_[0],_[1]+d+v+r/2+t),t+=r,e=Math.max(e,u+n[0].width)})),D=Math.max(D,t);var n=e+v;n+d+E>i._maxWidth&&(S=Math.max(S,E),E=0,C+=D+i.tracegroupgap,D=t),c.setTranslate(this,E,C),E+=n})),i._width=Math.max(S,E)+d,i._height=C+D+p}else{var P=n.size(),V=z+h+(P-1)*v<i._maxWidth,I=0,R=0,j=0,F=0;n.each((function(e){var t=e[0].height,n=u+e[0].width,r=(V?n:H)+v;r+d+R>i._maxWidth&&(S=Math.max(S,F),R=0,j+=I,i._height+=I,I=0),c.setTranslate(this,_[0]+d+R,_[1]+d+j+t/2+v),F=R+n+v,R+=r,I=Math.max(I,t)})),V?(i._width=R+h,i._height=I+p):(i._width=Math.max(S,F)+h,i._height+=I+p)}}i._width=Math.ceil(Math.max(i._width+_[0],i._titleWidth+2*(d+f.titlePad))),i._height=Math.ceil(Math.max(i._height+_[1],i._titleHeight+2*(d+f.itemGap))),i._effHeight=Math.min(i._height,i._maxHeight);var Z=e._context.edits,N=Z.legendText||Z.legendPosition;n.each((function(e){var t=r.select(this).select(".legendtoggle"),n=e[0].height,i=N?u:y||u+e[0].width;l||(i+=v/2),c.setRect(t,0,-n/2,i,n)}))}(e,E,C,t)},function(){if(!t._main||!function(e){var t=e._fullLayout.legend,n=T(t),r=A(t);return o.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*g[n],r:t._width*m[n],b:t._effHeight*m[r],t:t._effHeight*g[r]})}(e)){var d,u,v,x,y=l._size,b=t.borderwidth,w=y.l+y.w*t.x-g[T(t)]*t._width,k=y.t+y.h*(1-t.y)-g[A(t)]*t._effHeight;if(t._main&&l.margin.autoexpand){var M=w,z=k;w=i.constrain(w,0,l.width-t._width),k=i.constrain(k,0,l.height-t._effHeight),w!==M&&i.log("Constrain legend.x to make legend fit inside graph"),k!==z&&i.log("Constrain legend.y to make legend fit inside graph")}if(t._main&&c.setTranslate(p,w,k),D.on(".drag",null),p.on("wheel",null),!t._main||t._height<=t._maxHeight||e._context.staticPlot){var S=t._effHeight;t._main||(S=t._height),O.attr({width:t._width-b,height:S-b,x:b/2,y:b/2}),c.setTranslate(H,0,0),L.select("rect").attr({width:t._width-2*b,height:S-2*b,x:b,y:b}),c.setClipUrl(H,h,e),c.setRect(D,0,0,0,0),delete t._scrollY}else{var E,C,P,V=Math.max(f.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),I=t._effHeight-V-2*f.scrollBarMargin,R=t._height-t._effHeight,j=I/R,F=Math.min(t._scrollY||0,R);O.attr({width:t._width-2*b+f.scrollBarWidth+f.scrollBarMargin,height:t._effHeight-b,x:b/2,y:b/2}),L.select("rect").attr({width:t._width-2*b+f.scrollBarWidth+f.scrollBarMargin,height:t._effHeight-2*b,x:b,y:b+F}),c.setClipUrl(H,h,e),B(F,V,j),p.on("wheel",(function(){B(F=i.constrain(t._scrollY+r.event.deltaY/I*R,0,R),V,j),0!==F&&F!==R&&r.event.preventDefault()}));var Z=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;E="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,P=F})).on("drag",(function(){var e=r.event.sourceEvent;2===e.buttons||e.ctrlKey||(C="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,B(F=function(e,t,n){var r=(n-t)/j+e;return i.constrain(r,0,R)}(P,E,C),V,j))}));D.call(Z);var N=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;"touchstart"===e.type&&(E=e.changedTouches[0].clientY,P=F)})).on("drag",(function(){var e=r.event.sourceEvent;"touchmove"===e.type&&(C=e.changedTouches[0].clientY,B(F=function(e,t,n){var r=(t-n)/j+e;return i.constrain(r,0,R)}(P,E,C),V,j))}));H.call(N)}if(e._context.edits.legendPosition)p.classed("cursor-move",!0),s.init({element:p.node(),gd:e,prepFn:function(){var e=c.getTranslate(p);v=e.x,x=e.y},moveFn:function(e,n){var r=v+e,i=x+n;c.setTranslate(p,r,i),d=s.align(r,0,y.l,y.l+y.w,t.xanchor),u=s.align(i,0,y.t+y.h,y.t,t.yanchor)},doneFn:function(){void 0!==d&&void 0!==u&&a.call("_guiRelayout",e,{"legend.x":d,"legend.y":u})},clickFn:function(t,r){var i=n.selectAll("g.traces").filter((function(){var e=this.getBoundingClientRect();return r.clientX>=e.left&&r.clientX<=e.right&&r.clientY>=e.top&&r.clientY<=e.bottom}));i.size()>0&&_(e,p,i,t,r)}})}function B(n,r,i){t._scrollY=e._fullLayout.legend._scrollY=n,c.setTranslate(H,0,-n),c.setRect(D,t._width,f.scrollBarMargin+n*i,f.scrollBarWidth,r),L.select("rect").attr("y",b+n)}}],e)}}},1049:function(e,t,n){"use strict";var r=n(24),i=n(23),o=n(6),a=n(106),l=n(57),s=n(79).extractOpts,c=n(205),d=n(880),h=n(914).castOption;function u(e,t){return(t?"radial":"horizontal")+(e?"":"reversed")}e.exports=function(e,t,n){var f=t._fullLayout;n||(n=f.legend);var v="constant"===n.itemsizing,p=function(e,t,n,r){var i;if(e+1)i=e;else{if(!(t&&t.width>0))return 0;i=t.width}return v?r:Math.min(i,n)};function g(e,t,n){var o=e[0].trace,a=o.marker||{},s=a.line||{},c=n?o.visible&&o.type===n:i.traceIs(o,"bar"),d=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(c?[e]:[]);d.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),d.exit().remove(),d.each((function(e){var t=r.select(this),n=e[0],i=p(n.mlw,a.line,5,2);t.style("stroke-width",i+"px").call(l.fill,n.mc||a.color),i&&l.stroke(t,n.mlc||s.color)}))}function m(e,t,n){var a=e[0],l=a.trace,s=n?l.visible&&l.type===n:i.traceIs(l,n),c=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(s?[e]:[]);if(c.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),c.exit().remove(),c.size()){var u=(l.marker||{}).line,f=p(h(u.width,a.pts),u,5,2),v=o.minExtend(l,{marker:{line:{width:f}}});v.marker.line.color=u.color;var g=o.minExtend(a,{trace:v});d(c,g,v)}}e.each((function(e){var t=r.select(this),i=o.ensureSingle(t,"g","layers");i.style("opacity",e[0].trace.opacity);var a=n.valign,l=e[0].lineHeight,s=e[0].height;if("middle"!==a&&l&&s){var c={top:1,bottom:-1}[a]*(.5*(l-s+3));i.attr("transform","translate(0,"+c+")")}else i.attr("transform",null);i.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),i.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var d=i.selectAll("g.legendsymbols").data([e]);d.enter().append("g").classed("legendsymbols",!0),d.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)})).each((function(e){var n,i=e[0].trace,c=[];if(i.visible)switch(i.type){case"histogram2d":case"heatmap":c=[["M-15,-2V4H15V-2Z"]],n=!0;break;case"choropleth":case"choroplethmapbox":c=[["M-6,-6V6H6V-6Z"]],n=!0;break;case"densitymapbox":c=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],n="radial";break;case"cone":c=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],n=!1;break;case"streamtube":c=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],n=!1;break;case"surface":c=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],n=!0;break;case"mesh3d":c=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!1;break;case"volume":c=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],n=!0;break;case"isosurface":c=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],n=!1}var d=r.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(c);d.enter().append("path").classed("legend3dandfriends",!0).attr("transform","translate(20,0)").style("stroke-miterlimit",1),d.exit().remove(),d.each((function(e,c){var d,h=r.select(this),f=s(i),v=f.colorscale,p=f.reversescale;if(v){if(!n){var g=v.length;d=0===c?v[p?g-1:0][1]:1===c?v[p?0:g-1][1]:v[Math.floor((g-1)/2)][1]}}else{var m=i.vertexcolor||i.facecolor||i.color;d=o.isArrayOrTypedArray(m)?m[c]||m[0]:m}h.attr("d",e[0]),d?h.call(l.fill,d):h.call((function(e){if(e.size()){var r="legendfill-"+i.uid;a.gradient(e,t,r,u(p,"radial"===n),v,"fill")}}))}))})).each((function(e){var t=e[0].trace,n="waterfall"===t.type;if(e[0]._distinct&&n){var i=e[0].trace[e[0].dir].marker;return e[0].mc=i.color,e[0].mlw=i.line.width,e[0].mlc=i.line.color,g(e,this,"waterfall")}var o=[];t.visible&&n&&(o=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var a=r.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(o);a.enter().append("path").classed("legendwaterfall",!0).attr("transform","translate(20,0)").style("stroke-miterlimit",1),a.exit().remove(),a.each((function(e){var n=r.select(this),i=t[e[0]].marker,o=p(void 0,i.line,5,2);n.attr("d",e[1]).style("stroke-width",o+"px").call(l.fill,i.color),o&&n.call(l.stroke,i.line.color)}))})).each((function(e){g(e,this,"funnel")})).each((function(e){g(e,this)})).each((function(e){var n=e[0].trace,s=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(n.visible&&i.traceIs(n,"box-violin")?[e]:[]);s.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),s.exit().remove(),s.each((function(){var e=r.select(this);if("all"!==n.boxpoints&&"all"!==n.points||0!==l.opacity(n.fillcolor)||0!==l.opacity((n.line||{}).color)){var i=p(void 0,n.line,5,2);e.style("stroke-width",i+"px").call(l.fill,n.fillcolor),i&&l.stroke(e,n.line.color)}else{var c=o.minExtend(n,{marker:{size:v?12:o.constrain(n.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});s.call(a.pointStyle,c,t)}}))})).each((function(e){m(e,this,"funnelarea")})).each((function(e){m(e,this,"pie")})).each((function(e){var n,i,l=e[0],d=l.trace,h=d.visible&&d.fill&&"none"!==d.fill,f=c.hasLines(d),v=d.contours,g=!1,m=!1,x=s(d),y=x.colorscale,b=x.reversescale;if(v){var _=v.coloring;"lines"===_?g=!0:f="none"===_||"heatmap"===_||v.showlines,"constraint"===v.type?h="="!==v._operation:"fill"!==_&&"heatmap"!==_||(m=!0)}var w=c.hasMarkers(d)||c.hasText(d),L=h||m,k=f||g,M=w||!L?"M5,0":k?"M5,-2":"M5,-3",T=r.select(this),A=T.select(".legendfill").selectAll("path").data(h||m?[e]:[]);if(A.enter().append("path").classed("js-fill",!0),A.exit().remove(),A.attr("d",M+"h30v6h-30z").call(h?a.fillGroupStyle:function(e){if(e.size()){var n="legendfill-"+d.uid;a.gradient(e,t,n,u(b),y,"fill")}}),f||g){var O=p(void 0,d.line,10,5);i=o.minExtend(d,{line:{width:O}}),n=[o.minExtend(l,{trace:i})]}var H=T.select(".legendlines").selectAll("path").data(f||g?[n]:[]);H.enter().append("path").classed("js-line",!0),H.exit().remove(),H.attr("d",M+(g?"l30,0.0001":"h30")).call(f?a.lineGroupStyle:function(e){if(e.size()){var n="legendline-"+d.uid;a.lineGroupStyle(e),a.gradient(e,t,n,u(b),y,"stroke")}})})).each((function(e){var n,i,l=e[0],s=l.trace,d=c.hasMarkers(s),h=c.hasText(s),u=c.hasLines(s);function f(e,t,n,r){var i=o.nestedProperty(s,e).get(),a=o.isArrayOrTypedArray(i)&&t?t(i):i;if(v&&a&&void 0!==r&&(a=r),n){if(a<n[0])return n[0];if(a>n[1])return n[1]}return a}function p(e){return l._distinct&&l.index&&e[l.index]?e[l.index]:e[0]}if(d||h||u){var g={},m={};if(d){g.mc=f("marker.color",p),g.mx=f("marker.symbol",p),g.mo=f("marker.opacity",o.mean,[.2,1]),g.mlc=f("marker.line.color",p),g.mlw=f("marker.line.width",o.mean,[0,5],2),m.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var x=f("marker.size",o.mean,[2,16],12);g.ms=x,m.marker.size=x}u&&(m.line={width:f("line.width",p,[0,10],5)}),h&&(g.tx="Aa",g.tp=f("textposition",p),g.ts=10,g.tc=f("textfont.color",p),g.tf=f("textfont.family",p)),n=[o.minExtend(l,g)],(i=o.minExtend(s,m)).selectedpoints=null,i.texttemplate=null}var y=r.select(this).select("g.legendpoints"),b=y.selectAll("path.scatterpts").data(d?n:[]);b.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform","translate(20,0)"),b.exit().remove(),b.call(a.pointStyle,i,t),d&&(n[0].mrc=3);var _=y.selectAll("g.pointtext").data(h?n:[]);_.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),_.exit().remove(),_.selectAll("text").call(a.textPointStyle,i,t)})).each((function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible&&"candlestick"===t.type?[e,e]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",(function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),o=t[n?"increasing":"decreasing"],a=p(void 0,o.line,5,2);i.style("stroke-width",a+"px").call(l.fill,o.fillcolor),a&&l.stroke(i,o.line.color)}))})).each((function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible&&"ohlc"===t.type?[e,e]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",(function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),o=t[n?"increasing":"decreasing"],s=p(void 0,o.line,5,2);i.style("fill","none").call(a.dashLine,o.line.dash,s),s&&l.stroke(i,o.line.color)}))}))}},1093:function(e,t){var n={left:0,top:0};e.exports=function(e,t,r){t=t||e.currentTarget||e.srcElement,Array.isArray(r)||(r=[0,0]);var i=e.clientX||0,o=e.clientY||0,a=(l=t,l===window||l===document||l===document.body?n:l.getBoundingClientRect());var l;return r[0]=i-a.left,r[1]=o-a.top,r}},1317:function(e,t,n){"use strict";var r=n(6),i=n(57),o=n(214).isUnifiedHover;e.exports=function(e,t,n,a){function l(e){a.font[e]||(a.font[e]=t.legend?t.legend.font[e]:t.font[e])}a=a||{},t&&o(t.hovermode)&&(a.font||(a.font={}),l("size"),l("family"),l("color"),t.legend?(a.bgcolor||(a.bgcolor=i.combine(t.legend.bgcolor,t.paper_bgcolor)),a.bordercolor||(a.bordercolor=t.legend.bordercolor)):a.bgcolor||(a.bgcolor=t.paper_bgcolor)),n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),r.coerceFont(n,"hoverlabel.font",a.font),n("hoverlabel.align",a.align)}},1656:function(e,t,n){"use strict";t.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},t.isVertical=function(e){return"h"!==e.orientation},t.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},1760:function(e,t){e.exports=!0},1761:function(e,t,n){"use strict";var r=n(24),i=n(12),o=n(60),a=n(6),l=n(894),s=n(108),c=n(1772),d=n(106),h=n(57),u=n(649),f=n(105),v=n(23),p=n(214),g=n(267),m=n(1046),x=n(1048),y=g.YANGLE,b=Math.PI*y/180,_=1/Math.sin(b),w=Math.cos(b),L=Math.sin(b),k=g.HOVERARROWSIZE,M=g.HOVERTEXTPAD;function T(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}t.hover=function(e,t,n,o){e=a.getGraphDiv(e),a.throttle(e._fullLayout._uid+g.HOVERID,g.HOVERMINTIME,(function(){!function(e,t,n,o){n||(n="xy");var s=Array.isArray(n)?n:[n],d=e._fullLayout,f=d._plots||[],g=f[n],m=d._has("cartesian");if(g){var x=g.overlays.map((function(e){return e.id}));s=s.concat(x)}for(var y=s.length,b=new Array(y),w=new Array(y),L=!1,k=0;k<y;k++){var M=s[k];if(f[M])L=!0,b[k]=f[M].xaxis,w[k]=f[M].yaxis;else{if(!d[M]||!d[M]._subplot)return void a.warn("Unrecognized subplot: "+M);var A=d[M]._subplot;b[k]=A.xaxis,w[k]=A.yaxis}}var H=t.hovermode||d.hovermode;H&&!L&&(H="closest");if(-1===["x","y","closest","x unified","y unified"].indexOf(H)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return u.unhoverRaw(e,t);var C,P,V,I,R,j,F,Z,N,B,Y,G,U,W=-1===d.hoverdistance?1/0:d.hoverdistance,X=-1===d.spikedistance?1/0:d.spikedistance,K=[],q=[],Q={hLinePoint:null,vLinePoint:null},J=!1;if(Array.isArray(t))for(H="array",V=0;V<t.length;V++)(R=e.calcdata[t[V].curveNumber||0])&&(j=R[0].trace,"skip"!==R[0].trace.hoverinfo&&(q.push(R),"h"===j.orientation&&(J=!0)));else{for(I=0;I<e.calcdata.length;I++)R=e.calcdata[I],"skip"!==(j=R[0].trace).hoverinfo&&p.isTraceInSubplots(j,s)&&(q.push(R),"h"===j.orientation&&(J=!0));var $,ee;if(!t.target)$="xpx"in t?t.xpx:b[0]._length/2,ee="ypx"in t?t.ypx:w[0]._length/2;else{if(!1===l.triggerHandler(e,"plotly_beforehover",t))return;var te=t.target.getBoundingClientRect();if($=t.clientX-te.left,ee=t.clientY-te.top,$<0||$>b[0]._length||ee<0||ee>w[0]._length)return u.unhoverRaw(e,t)}if(t.pointerX=$+b[0]._offset,t.pointerY=ee+w[0]._offset,C="xval"in t?p.flat(s,t.xval):p.p2c(b,$),P="yval"in t?p.flat(s,t.yval):p.p2c(w,ee),!i(C[0])||!i(P[0]))return a.warn("Fx.hover failed",t,e),u.unhoverRaw(e,t)}var ne=1/0;function re(e,n){for(I=0;I<q.length;I++)if((R=q[I])&&R[0]&&R[0].trace&&!0===(j=R[0].trace).visible&&0!==j._length&&-1===["carpet","contourcarpet"].indexOf(j._module.name)){if("splom"===j.type?F=s[Z=0]:(F=p.getSubplot(j),Z=s.indexOf(F)),N=H,p.isUnifiedHover(N)&&(N=N.charAt(0)),G={cd:R,trace:j,xa:b[Z],ya:w[Z],maxHoverDistance:W,maxSpikeDistance:X,index:!1,distance:Math.min(ne,W),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:h.defaultLine,name:j.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},d[F]&&(G.subplot=d[F]._subplot),d._splomScenes&&d._splomScenes[j.uid]&&(G.scene=d._splomScenes[j.uid]),U=K.length,"array"===N){var r=t[I];"pointNumber"in r?(G.index=r.pointNumber,N="closest"):(N="","xval"in r&&(B=r.xval,N="x"),"yval"in r&&(Y=r.yval,N=N?"closest":"y"))}else void 0!==e&&void 0!==n?(B=e,Y=n):(B=C[Z],Y=P[Z]);if(0!==W)if(j._module&&j._module.hoverPoints){var o=j._module.hoverPoints(G,B,Y,N,d._hoverlayer);if(o)for(var l,c=0;c<o.length;c++)l=o[c],i(l.x0)&&i(l.y0)&&K.push(S(l,H))}else a.log("Unrecognized trace type in hover:",j);if("closest"===H&&K.length>U&&(K.splice(0,U),ne=K[0].distance),m&&0!==X&&0===K.length){G.distance=X,G.index=!1;var u=j._module.hoverPoints(G,B,Y,"closest",d._hoverlayer);if(u&&(u=u.filter((function(e){return e.spikeDistance<=X}))),u&&u.length){var f,v=u.filter((function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap}));if(v.length){var g=v[0];i(g.x0)&&i(g.y0)&&(f=oe(g),(!Q.vLinePoint||Q.vLinePoint.spikeDistance>f.spikeDistance)&&(Q.vLinePoint=f))}var x=u.filter((function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap}));if(x.length){var y=x[0];i(y.x0)&&i(y.y0)&&(f=oe(y),(!Q.hLinePoint||Q.hLinePoint.spikeDistance>f.spikeDistance)&&(Q.hLinePoint=f))}}}}}function ie(e,t){for(var n,r=null,i=1/0,o=0;o<e.length;o++)(n=e[o].spikeDistance)<=i&&n<=t&&(r=e[o],i=n);return r}function oe(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}re();var ae={fullLayout:d,container:d._hoverlayer,outerContainer:d._paperdiv,event:t},le=e._spikepoints,se={vLinePoint:Q.vLinePoint,hLinePoint:Q.hLinePoint};if(e._spikepoints=se,m&&0!==X&&0!==K.length){var ce=ie(K.filter((function(e){return e.ya.showspikes})),X);Q.hLinePoint=oe(ce);var de=ie(K.filter((function(e){return e.xa.showspikes})),X);Q.vLinePoint=oe(de)}if(0===K.length){var he=u.unhoverRaw(e,t);return!m||null===Q.hLinePoint&&null===Q.vLinePoint||E(le)&&D(e,Q,ae),he}m&&E(le)&&D(e,Q,ae);if(K.sort((function(e,t){return e.distance-t.distance})),p.isXYhover(N)&&0!==K[0].length&&"splom"!==K[0].trace.type){var ue=K[0],fe=ue.cd[ue.index],ve="group"===d.boxmode||"group"===d.violinmode,pe=ue.xVal,ge=ue.xa;"category"===ge.type&&(pe=ge._categoriesMap[pe]),"date"===ge.type&&(pe=ge.d2c(pe)),fe&&fe.t&&fe.t.posLetter===ge._id&&ve&&(pe+=fe.t.dPos);var me=ue.yVal;"category"===(ge=ue.ya).type&&(me=ge._categoriesMap[me]),"date"===ge.type&&(me=ge.d2c(me)),fe&&fe.t&&fe.t.posLetter===ge._id&&ve&&(me+=fe.t.dPos),re(pe,me);var xe={};K=K.filter((function(e){var t=T(e);if(!xe[t])return xe[t]=!0,xe[t]}))}var ye=e._hoverdata,be=[];for(V=0;V<K.length;V++){var _e=K[V],we=p.makeEventData(_e,_e.trace,_e.cd);if(!1!==_e.hovertemplate){var Le=!1;_e.cd[_e.index]&&_e.cd[_e.index].ht&&(Le=_e.cd[_e.index].ht),_e.hovertemplate=Le||_e.trace.hovertemplate||!1}_e.eventData=[we],be.push(we)}e._hoverdata=be;var ke="y"===H&&(q.length>1||K.length>1)||"closest"===H&&J&&K.length>1,Me=h.combine(d.plot_bgcolor||h.background,d.paper_bgcolor),Te={hovermode:H,rotateLabels:ke,bgColor:Me,container:d._hoverlayer,outerContainer:d._paperdiv,commonLabelOpts:d.hoverlabel,hoverdistance:d.hoverdistance},Ae=O(K,Te,e);p.isUnifiedHover(H)||(!function(e,t,n){var r,i,o,a,l,s,c,d=0,h=1,u=e.size(),f=new Array(u),v=0;function p(e){var t=e[0],n=e[e.length-1];if(i=t.pmin-t.pos-t.dp+t.size,o=n.pos+n.dp+n.size-t.pmax,i>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=i;r=!1}if(!(o<.01)){if(i<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=o;r=!1}if(r){var c=0;for(a=0;a<e.length;a++)(s=e[a]).pos+s.dp+s.size>t.pmax&&c++;for(a=e.length-1;a>=0&&!(c<=0);a--)(s=e[a]).pos>t.pmax-1&&(s.del=!0,c--);for(a=0;a<e.length&&!(c<=0);a++)if((s=e[a]).pos<t.pmin+1)for(s.del=!0,c--,o=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=o;for(a=e.length-1;a>=0&&!(c<=0);a--)(s=e[a]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}e.each((function(e){var r=e[t],i="x"===r._id.charAt(0),o=r.range;0===v&&o&&o[0]>o[1]!==i&&(h=-1),f[v++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(i?_:1)/2,pmin:0,pmax:i?n.width:n.height}]})),f.sort((function(e,t){return e[0].posref-t[0].posref||h*(t[0].traceIndex-e[0].traceIndex)}));for(;!r&&d<=u;){for(d++,r=!0,a=0;a<f.length-1;){var g=f[a],m=f[a+1],x=g[g.length-1],y=m[0];if((i=x.pos+x.dp+x.size-y.pos-y.dp+y.size)>.01&&x.pmin===y.pmin&&x.pmax===y.pmax){for(l=m.length-1;l>=0;l--)m[l].dp+=i;for(g.push.apply(g,m),f.splice(a+1,1),c=0,l=g.length-1;l>=0;l--)c+=g[l].dp;for(o=c/g.length,l=g.length-1;l>=0;l--)g[l].dp-=o;r=!1}else a++}f.forEach(p)}for(a=f.length-1;a>=0;a--){var b=f[a];for(l=b.length-1;l>=0;l--){var w=b[l],L=w.datum;L.offset=w.dp,L.del=w.del}}}(Ae,ke?"xa":"ya",d),z(Ae,ke));if(t.target&&t.target.tagName){var Oe=v.getComponentMethod("annotations","hasClickToShow")(e,be);c(r.select(t.target),Oe?"pointer":"")}if(!t.target||o||!function(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],o=e._hoverdata[r];if(i.curveNumber!==o.curveNumber||String(i.pointNumber)!==String(o.pointNumber)||String(i.pointNumbers)!==String(o.pointNumbers))return!0}return!1}(e,0,ye))return;ye&&e.emit("plotly_unhover",{event:t,points:ye});e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:b,yaxes:w,xvals:C,yvals:P})}(e,t,n,o)}))},t.loneHover=function(e,t){var n=!0;Array.isArray(e)||(n=!1,e=[e]);var i=e.map((function(e){return{color:e.color||h.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}})),o=r.select(t.container),a=t.outerContainer?r.select(t.outerContainer):o,l={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||h.background,container:o,outerContainer:a},s=O(i,l,t.gd),c=0,d=0;return s.sort((function(e,t){return e.y0-t.y0})).each((function(e,n){var r=e.y0-e.by/2;e.offset=r-5<c?c-r+5:0,c=r+e.by+e.offset,n===t.anchorIndex&&(d=e.offset)})).each((function(e){e.offset-=d})),z(s,l.rotateLabels),n?s:s.node()};var A=/<extra>([\s\S]*)<\/extra>/;function O(e,t,n){var i=n._fullLayout,o=t.hovermode,l=t.rotateLabels,c=t.bgColor,u=t.container,f=t.outerContainer,v=t.commonLabelOpts||{},b=t.fontFamily||g.HOVERFONT,_=t.fontSize||g.HOVERFONTSIZE,w=e[0],L=w.xa,A=w.ya,O="y"===o.charAt(0)?"yLabel":"xLabel",z=w[O],S=(String(z)||"").split(" ")[0],D=f.node().getBoundingClientRect(),E=D.top,C=D.width,P=D.height,V=void 0!==z&&w.distance<=t.hoverdistance&&("x"===o||"y"===o);if(V){var I,R,j=!0;for(I=0;I<e.length;I++)if(j&&void 0===e[I].zLabel&&(j=!1),R=e[I].hoverinfo||e[I].trace.hoverinfo){var F=Array.isArray(R)?R:R.split("+");if(-1===F.indexOf("all")&&-1===F.indexOf(o)){V=!1;break}}j&&(V=!1)}var Z=u.selectAll("g.axistext").data(V?[0]:[]);function N(e){return e.filter((function(e){return void 0!==e.zLabelVal||(e[O]||"").split(" ")[0]===S}))}if(Z.enter().append("g").classed("axistext",!0),Z.exit().remove(),Z.each((function(){var t=r.select(this),l=a.ensureSingle(t,"path","",(function(e){e.style({"stroke-width":"1px"})})),c=a.ensureSingle(t,"text","",(function(e){e.attr("data-notex",1)})),u=v.bgcolor||h.defaultLine,f=v.bordercolor||h.contrast(u),p=h.contrast(u),g={family:v.font.family||b,size:v.font.size||_,color:v.font.color||p};l.style({fill:u,stroke:f}),c.text(z).call(d.font,g).call(s.positionText,0,0).call(s.convertToTspans,n),t.attr("transform","");var m,x,y=c.node().getBoundingClientRect();if("x"===o){var T="top"===L.side?"-":"";c.attr("text-anchor","middle").call(s.positionText,0,"top"===L.side?E-y.bottom-k-M:E-y.top+k+M),m=L._offset+(w.x0+w.x1)/2,x=A._offset+("top"===L.side?0:A._length);var O=y.width/2+M;m<O?(m=O,l.attr("d","M-"+(O-k)+",0L-"+(O-2*k)+","+T+k+"H"+(M+y.width/2)+"v"+T+(2*M+y.height)+"H-"+O+"V"+T+k+"Z")):m>i.width-O?(m=i.width-O,l.attr("d","M"+(O-k)+",0L"+O+","+T+k+"v"+T+(2*M+y.height)+"H-"+O+"V"+T+k+"H"+(O-2*k)+"Z")):l.attr("d","M0,0L"+k+","+T+k+"H"+(M+y.width/2)+"v"+T+(2*M+y.height)+"H-"+(M+y.width/2)+"V"+T+k+"H-"+k+"Z")}else{var H,S,D;"right"===A.side?(H="start",S=1,D="",m=L._offset+L._length):(H="end",S=-1,D="-",m=L._offset),x=A._offset+(w.y0+w.y1)/2,c.attr("text-anchor",H),l.attr("d","M0,0L"+D+k+","+k+"V"+(M+y.height/2)+"h"+D+(2*M+y.width)+"V-"+(M+y.height/2)+"H"+D+k+"V-"+k+"Z");var C,P=y.height/2,V=E-y.top-P,I="clip"+i._uid+"commonlabel"+A._id;if(m<y.width+2*M+k){C="M-"+(k+M)+"-"+P+"h-"+(y.width-M)+"V"+P+"h"+(y.width-M)+"Z";var R=y.width-m+M;s.positionText(c,R,V),"end"===H&&c.selectAll("tspan").each((function(){var e=r.select(this),t=d.tester.append("text").text(e.text()).call(d.font,g),n=t.node().getBoundingClientRect();Math.round(n.width)<Math.round(y.width)&&e.attr("x",R-n.width),t.remove()}))}else s.positionText(c,S*(M+k),V),C=null;var j=i._topclips.selectAll("#"+I).data(C?[0]:[]);j.enter().append("clipPath").attr("id",I).append("path"),j.exit().remove(),j.select("path").attr("d",C),d.setClipUrl(c,C?I:null,n)}t.attr("transform","translate("+m+","+x+")"),e=N(e)})),p.isUnifiedHover(o)){if(u.selectAll("g.hovertext").remove(),void 0!==z&&w.distance<=t.hoverdistance&&(e=N(e)),0===e.length)return;var B={showlegend:!0,legend:{title:{text:z,font:i.hoverlabel.font},font:i.hoverlabel.font,bgcolor:i.hoverlabel.bgcolor,bordercolor:i.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:i.legend?i.legend.traceorder:void 0,orientation:"v"}},Y={};m(B,Y,n._fullData);var G=Y.legend;G.entries=[];for(var U=0;U<e.length;U++){var W=H(e[U],!0,o,i,z),X=W[0],K=W[1],q=e[U];q.name=K,q.text=""!==K?K+" : "+X:X;var Q=q.cd[q.index];Q&&(Q.mc&&(q.mc=Q.mc),Q.mcc&&(q.mc=Q.mcc),Q.mlc&&(q.mlc=Q.mlc),Q.mlcc&&(q.mlc=Q.mlcc),Q.mlw&&(q.mlw=Q.mlw),Q.mrc&&(q.mrc=Q.mrc),Q.dir&&(q.dir=Q.dir)),q._distinct=!0,G.entries.push([q])}G.entries.sort((function(e,t){return e[0].trace.index-t[0].trace.index})),G.layer=u,x(n,G);var J=a.mean(e.map((function(e){return(e.y0+e.y1)/2}))),$=a.mean(e.map((function(e){return(e.x0+e.x1)/2}))),ee=u.select("g.legend"),te=ee.node().getBoundingClientRect();$+=L._offset,J+=A._offset-te.height/2;var ne=te.width+2*M;!($+ne<=C)&&$-ne>=0?$-=ne:$+=2*M;var re=te.height+2*M,ie=J+re>=P;return re<=P&&(J<=E?J=A._offset+2*M:ie&&(J=P-re)),ee.attr("transform","translate("+$+","+J+")"),ee}var oe=u.selectAll("g.hovertext").data(e,(function(e){return T(e)}));return oe.enter().append("g").classed("hovertext",!0).each((function(){var e=r.select(this);e.append("rect").call(h.fill,h.addOpacity(c,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(d.font,b,_)})),oe.exit().remove(),oe.each((function(e){var t=r.select(this).attr("transform",""),a=e.bgcolor||e.color,u=h.combine(h.opacity(a)?a:h.defaultLine,c),f=h.combine(h.opacity(e.color)?e.color:h.defaultLine,c),v=e.borderColor||h.contrast(u),p=H(e,V,o,i,z,t),g=p[0],m=p[1],x=t.select("text.nums").call(d.font,e.fontFamily||b,e.fontSize||_,e.fontColor||v).text(g).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,n),w=t.select("text.name"),L=0,T=0;if(m&&m!==g){w.call(d.font,e.fontFamily||b,e.fontSize||_,f).text(m).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,n);var A=w.node().getBoundingClientRect();L=A.width+2*M,T=A.height+2*M}else w.remove(),t.select("rect").remove();t.select("path").style({fill:u,stroke:v});var O,S,D=x.node().getBoundingClientRect(),I=e.xa._offset+(e.x0+e.x1)/2,R=e.ya._offset+(e.y0+e.y1)/2,j=Math.abs(e.x1-e.x0),F=Math.abs(e.y1-e.y0),Z=D.width+k+M+L;if(e.ty0=E-D.top,e.bx=D.width+2*M,e.by=Math.max(D.height+2*M,T),e.anchor="start",e.txwidth=D.width,e.tx2width=L,e.offset=0,l)e.pos=I,O=R+F/2+Z<=P,S=R-F/2-Z>=0,"top"!==e.idealAlign&&O||!S?O?(R+=F/2,e.anchor="start"):e.anchor="middle":(R-=F/2,e.anchor="end");else if(e.pos=R,O=I+j/2+Z<=C,S=I-j/2-Z>=0,"left"!==e.idealAlign&&O||!S)if(O)I+=j/2,e.anchor="start";else{e.anchor="middle";var N=Z/2,B=I+N-C,Y=I-N;B>0&&(I-=B),Y<0&&(I+=-Y)}else I-=j/2,e.anchor="end";x.attr("text-anchor",e.anchor),L&&w.attr("text-anchor",e.anchor),t.attr("transform","translate("+I+","+R+")"+(l?"rotate("+y+")":""))})),oe}function H(e,t,n,r,i,o){var l="",s="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=a.templateString(e.name,e.trace._meta)),l=C(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(s+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(s+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(s+=(s?"z: ":"")+e.zLabel)):t&&e[n.charAt(0)+"Label"]===i?s=e[("x"===n.charAt(0)?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(s=e.yLabel):s=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(s+=(s?"<br>":"")+e.text),void 0!==e.extraText&&(s+=(s?"<br>":"")+e.extraText),o&&""===s&&!e.hovertemplate&&(""===l&&o.remove(),s=l);var c=r._d3locale,d=e.hovertemplate||!1,h=e.hovertemplateLabels||e,u=e.eventData[0]||{};return d&&(s=(s=a.hovertemplateString(d,h,c,u,e.trace._meta)).replace(A,(function(t,n){return l=C(n,e.nameLength),""}))),[s,l]}function z(e,t){e.each((function(e){var n=r.select(this);if(e.del)return n.remove();var i=n.select("text.nums"),o=e.anchor,a="end"===o?-1:1,l={start:1,end:-1,middle:0}[o],c=l*(k+M),h=c+l*(e.txwidth+M),u=0,f=e.offset;"middle"===o&&(c-=e.tx2width/2,h+=e.txwidth/2+M),t&&(f*=-L,u=e.offset*w),n.select("path").attr("d","middle"===o?"M-"+(e.bx/2+e.tx2width/2)+","+(f-e.by/2)+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(a*k+u)+","+(k+f)+"v"+(e.by/2-k)+"h"+a*e.bx+"v-"+e.by+"H"+(a*k+u)+"V"+(f-k)+"Z");var v=c+u,p=f+e.ty0-e.by/2+M,g=e.textAlign||"auto";"auto"!==g&&("left"===g&&"start"!==o?(i.attr("text-anchor","start"),v="middle"===o?-e.bx/2-e.tx2width/2+M:-e.bx-M):"right"===g&&"end"!==o&&(i.attr("text-anchor","end"),v="middle"===o?e.bx/2-e.tx2width/2-M:e.bx+M)),i.call(s.positionText,v,p),e.tx2width&&(n.select("text.name").call(s.positionText,h+l*M+u,f+e.ty0-e.by/2+M),n.select("rect").call(d.setRect,h+(l-1)*e.tx2width/2+u,f-e.by/2-1,e.tx2width,e.by+2))}))}function S(e,t){var n=e.index,r=e.trace||{},o=e.cd[0],l=e.cd[n]||{};function s(e){return e||i(e)&&0===e}var c=Array.isArray(n)?function(e,t){var i=a.castOption(o,n,e);return s(i)?i:a.extractOption({},r,"",t)}:function(e,t){return a.extractOption(l,r,e,t)};function d(t,n,r){var i=c(n,r);s(i)&&(e[t]=i)}if(d("hoverinfo","hi","hoverinfo"),d("bgcolor","hbg","hoverlabel.bgcolor"),d("borderColor","hbc","hoverlabel.bordercolor"),d("fontFamily","htf","hoverlabel.font.family"),d("fontSize","hts","hoverlabel.font.size"),d("fontColor","htc","hoverlabel.font.color"),d("nameLength","hnl","hoverlabel.namelength"),d("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===r.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=a.constrain(e.x0,0,e.xa._length),e.x1=a.constrain(e.x1,0,e.xa._length),e.y0=a.constrain(e.y0,0,e.ya._length),e.y1=a.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:f.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:f.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var h=f.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+h+" / -"+f.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+h,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var u=f.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+u+" / -"+f.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+u,"y"===t&&(e.distance+=1)}var v=e.hoverinfo||e.trace.hoverinfo;return v&&"all"!==v&&(-1===(v=Array.isArray(v)?v:v.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===v.indexOf("y")&&(e.yLabel=void 0),-1===v.indexOf("z")&&(e.zLabel=void 0),-1===v.indexOf("text")&&(e.text=void 0),-1===v.indexOf("name")&&(e.name=void 0)),e}function D(e,t,n){var r,i,a=n.container,l=n.fullLayout,s=l._size,c=n.event,u=!!t.hLinePoint,v=!!t.vLinePoint;if(a.selectAll(".spikeline").remove(),v||u){var p=h.combine(l.plot_bgcolor,l.paper_bgcolor);if(u){var g,m,x=t.hLinePoint;r=x&&x.xa,"cursor"===(i=x&&x.ya).spikesnap?(g=c.pointerX,m=c.pointerY):(g=r._offset+x.x,m=i._offset+x.y);var y,b,_=o.readability(x.color,p)<1.5?h.contrast(p):x.color,w=i.spikemode,L=i.spikethickness,k=i.spikecolor||_,M=f.getPxPosition(e,i);if(-1!==w.indexOf("toaxis")||-1!==w.indexOf("across")){if(-1!==w.indexOf("toaxis")&&(y=M,b=g),-1!==w.indexOf("across")){var T=i._counterDomainMin,A=i._counterDomainMax;"free"===i.anchor&&(T=Math.min(T,i.position),A=Math.max(A,i.position)),y=s.l+T*s.w,b=s.l+A*s.w}a.insert("line",":first-child").attr({x1:y,x2:b,y1:m,y2:m,"stroke-width":L,stroke:k,"stroke-dasharray":d.dashStyle(i.spikedash,L)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:y,x2:b,y1:m,y2:m,"stroke-width":L+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==w.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:M+("right"!==i.side?L:-L),cy:m,r:L,fill:k}).classed("spikeline",!0)}if(v){var O,H,z=t.vLinePoint;r=z&&z.xa,i=z&&z.ya,"cursor"===r.spikesnap?(O=c.pointerX,H=c.pointerY):(O=r._offset+z.x,H=i._offset+z.y);var S,D,E=o.readability(z.color,p)<1.5?h.contrast(p):z.color,C=r.spikemode,P=r.spikethickness,V=r.spikecolor||E,I=f.getPxPosition(e,r);if(-1!==C.indexOf("toaxis")||-1!==C.indexOf("across")){if(-1!==C.indexOf("toaxis")&&(S=I,D=H),-1!==C.indexOf("across")){var R=r._counterDomainMin,j=r._counterDomainMax;"free"===r.anchor&&(R=Math.min(R,r.position),j=Math.max(j,r.position)),S=s.t+(1-j)*s.h,D=s.t+(1-R)*s.h}a.insert("line",":first-child").attr({x1:O,x2:O,y1:S,y2:D,"stroke-width":P,stroke:V,"stroke-dasharray":d.dashStyle(r.spikedash,P)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:O,x2:O,y1:S,y2:D,"stroke-width":P+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0)}-1!==C.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:O,cy:I-("top"!==r.side?P:-P),r:P,fill:V}).classed("spikeline",!0)}}}function E(e,t){return!t||(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)}function C(e,t){return s.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},1762:function(e,t,n){"use strict";var r=n(6),i=n(225);e.exports=function(e,t,n){function o(n,o){return void 0!==t[n]?t[n]:r.coerce(e,t,i,n,o)}var a,l=o("clickmode");return t._has("cartesian")?l.indexOf("select")>-1?a="closest":(t._isHoriz=function(e,t){for(var n=t._scatterStackOpts||{},r=0;r<e.length;r++){var i=e[r],o=i.xaxis+i.yaxis,a=(n[o]||{})[i.stackgroup]||{};if("h"!==i.orientation&&"h"!==a.orientation)return!1}return!0}(n,t),a=t._isHoriz?"y":"x"):a="closest",o("hovermode",a)}},1769:function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){var o=(e-n)/(r-n),a=o+t/(r-n),l=(o+a)/2;return"left"===i||"bottom"===i?o:"center"===i||"middle"===i?l:"right"===i||"top"===i?a:o<2/3-l?o:a>4/3-l?a:l}},1770:function(e,t,n){"use strict";var r=n(6),i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(e,t,n,o){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===o?0:"middle"===o?1:"top"===o?2:r.constrain(Math.floor(3*t),0,2),i[t][e]}},1771:function(e,t,n){"use strict";var r=n(894),i=n(281),o=n(157).getGraphDiv,a=n(267),l=e.exports={};l.wrapped=function(e,t,n){(e=o(e))._fullLayout&&i.clear(e._fullLayout._uid+a.HOVERID),l.raw(e,t,n)},l.raw=function(e,t){var n=e._fullLayout,i=e._hoverdata;t||(t={}),t.target&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&i&&e.emit("plotly_unhover",{event:t,points:i}))}},1772:function(e,t,n){"use strict";var r=n(664),i="data-savedcursor";e.exports=function(e,t){var n=e.attr(i);if(t){if(!n){for(var o=(e.attr("class")||"").split(" "),a=0;a<o.length;a++){var l=o[a];0===l.indexOf("cursor-")&&e.attr(i,l.substr(7)).classed(l,!1)}e.attr(i)||e.attr(i,"!!")}r(e,t)}else n&&(e.attr(i,null),"!!"===n?r(e):r(e,n))}},1773:function(e,t,n){"use strict";var r=n(6),i=n(23),o=!0;e.exports=function(e,t,n){var a=t._fullLayout;if(!t._dragged&&!t._editing){var l,s=a.legend.itemclick,c=a.legend.itemdoubleclick;if(1===n&&"toggle"===s&&"toggleothers"===c&&o&&t.data&&t._context.showTips?(r.notifier(r._(t,"Double-click on legend to isolate one trace"),"long"),o=!1):o=!1,1===n?l=s:2===n&&(l=c),l){var d,h,u,f,v,p=a.hiddenlabels?a.hiddenlabels.slice():[],g=e.data()[0][0],m=t._fullData,x=g.trace,y=x.legendgroup,b={},_=[],w=[],L=[];if(i.traceIs(x,"pie-like")){var k=g.label,M=p.indexOf(k);"toggle"===l?-1===M?p.push(k):p.splice(M,1):"toggleothers"===l&&(p=[],t.calcdata[0].forEach((function(e){k!==e.label&&p.push(e.label)})),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===p.length&&-1===M&&(p=[])),i.call("_guiRelayout",t,"hiddenlabels",p)}else{var T,A=y&&y.length,O=[];if(A)for(d=0;d<m.length;d++)(T=m[d]).visible&&T.legendgroup===y&&O.push(d);if("toggle"===l){var H;switch(x.visible){case!0:H="legendonly";break;case!1:H=!1;break;case"legendonly":H=!0}if(A)for(d=0;d<m.length;d++)!1!==m[d].visible&&m[d].legendgroup===y&&R(m[d],H);else R(x,H)}else if("toggleothers"===l){var z,S,D,E,C=!0;for(d=0;d<m.length;d++)if(z=m[d]===x,D=!0!==m[d].showlegend,!(z||D||(S=A&&m[d].legendgroup===y)||!0!==m[d].visible||i.traceIs(m[d],"notLegendIsolatable"))){C=!1;break}for(d=0;d<m.length;d++)if(!1!==m[d].visible&&!i.traceIs(m[d],"notLegendIsolatable"))switch(x.visible){case"legendonly":R(m[d],!0);break;case!0:E=!!C||"legendonly",z=m[d]===x,D=!0!==m[d].showlegend&&!m[d].legendgroup,S=z||A&&m[d].legendgroup===y,R(m[d],!(!S&&!D)||E)}}for(d=0;d<w.length;d++)if(u=w[d]){var P=u.constructUpdate(),V=Object.keys(P);for(h=0;h<V.length;h++)f=V[h],(b[f]=b[f]||[])[L[d]]=P[f]}for(v=Object.keys(b),d=0;d<v.length;d++)for(f=v[d],h=0;h<_.length;h++)b[f].hasOwnProperty(h)||(b[f][h]=void 0);i.call("_guiRestyle",t,b,_)}}}function I(e,t,n){var r=_.indexOf(e),i=b[t];return i||(i=b[t]=[]),-1===_.indexOf(e)&&(_.push(e),r=_.length-1),i[r]=n,r}function R(e,t){var n=e._fullInput;if(i.hasTransform(n,"groupby")){var o=w[n.index];if(!o){var a=i.getTransformIndices(n,"groupby"),l=a[a.length-1];o=r.keyedContainer(n,"transforms["+l+"].styles","target","value.visible"),w[n.index]=o}var s=o.get(e._group);void 0===s&&(s=!0),!1!==s&&o.set(e._group,t),L[n.index]=I(n.index,"visible",!1!==n.visible)}else{var c=!1!==n.visible&&t;I(n.index,"visible",c)}}}},1774:function(e,t,n){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,textGap:40,itemGap:5}},1775:function(e,t,n){"use strict";var r=n(23),i=n(1656);e.exports=function(e,t){var n,o,a={},l=[],s=!1,c={},d=0,h=0,u=t._main;function f(e,n){if(""!==e&&i.isGrouped(t))-1===l.indexOf(e)?(l.push(e),s=!0,a[e]=[[n]]):a[e].push([n]);else{var r="~~i"+d;l.push(r),a[r]=[[n]],d++}}for(n=0;n<e.length;n++){var v=e[n],p=v[0],g=p.trace,m=g.legendgroup;if(!u||g.visible&&g.showlegend)if(r.traceIs(g,"pie-like"))for(c[m]||(c[m]={}),o=0;o<v.length;o++){var x=v[o].label;c[m][x]||(f(m,{label:x,color:v[o].color,i:v[o].i,trace:g,pts:v[o].pts}),c[m][x]=!0,h=Math.max(h,(x||"").length))}else f(m,p),h=Math.max(h,(g.name||"").length)}if(!l.length)return[];var y,b,_=l.length;if(s&&i.isGrouped(t))for(b=new Array(_),n=0;n<_;n++)y=a[l[n]],b[n]=i.isReversed(t)?y.reverse():y;else{for(b=[new Array(_)],n=0;n<_;n++)y=a[l[n]][0],b[0][i.isReversed(t)?_-n-1:n]=y;_=1}return t._lgroupsLength=_,t._maxNameLength=h,b}},1776:function(e,t,n){"use strict";var r=n(6),i=n(1317),o=n(225);e.exports=function(e,t){i(e,t,(function(n,i){return r.coerce(e,t,o,n,i)}))}},1777:function(e,t,n){"use strict";var r=n(6),i=n(232),o=n(1317);e.exports=function(e,t,n,a){var l=r.extendFlat({},a.hoverlabel);t.hovertemplate&&(l.namelength=-1),o(e,t,(function(n,o){return r.coerce(e,t,i,n,o)}),l)}},1778:function(e,t,n){"use strict";var r=n(6),i=n(214).isUnifiedHover,o=n(225),a=n(1762),l=n(1317);e.exports=function(e,t,n){function s(n,i){return r.coerce(e,t,o,n,i)}var c=a(e,t,n);c&&(s("hoverdistance"),s("spikedistance",i(c)?-1:void 0)),"select"===s("dragmode")&&s("selectdirection");var d=t._has("mapbox"),h=t._has("geo"),u=t._basePlotModules.length;"zoom"===t.dragmode&&((d||h)&&1===u||d&&h&&2===u)&&(t.dragmode="pan"),l(e,t,s)}},1779:function(e,t,n){"use strict";var r=n(6),i=n(23);function o(e,t,n,i){i=i||r.identity,Array.isArray(e)&&(t[0][n]=i(e))}e.exports=function(e){var t=e.calcdata,n=e._fullLayout;function a(e){return function(t){return r.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!i.traceIs(c,"pie-like")){var d=i.traceIs(c,"2dMap")?o:r.fillArray;d(c.hoverinfo,s,"hi",a(c)),c.hovertemplate&&d(c.hovertemplate,s,"ht"),c.hoverlabel&&(d(c.hoverlabel.bgcolor,s,"hbg"),d(c.hoverlabel.bordercolor,s,"hbc"),d(c.hoverlabel.font.size,s,"hts"),d(c.hoverlabel.font.color,s,"htc"),d(c.hoverlabel.font.family,s,"htf"),d(c.hoverlabel.namelength,s,"hnl"),d(c.hoverlabel.align,s,"hta"))}}}},1780:function(e,t,n){"use strict";var r=n(23),i=n(1761).hover;e.exports=function(e,t,n){var o=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);function a(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==n&&i(e,t,n,!0),e._hoverdata&&t&&t.target&&(o&&o.then?o.then(a):a(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},622:function(e,t,n){"use strict";var r=n(24),i=n(6),o=n(649),a=n(214),l=n(225),s=n(1761);e.exports={moduleType:"component",name:"fx",constants:n(267),schema:{layout:l},attributes:n(232),layoutAttributes:l,supplyLayoutGlobalDefaults:n(1776),supplyDefaults:n(1777),supplyLayoutDefaults:n(1778),calc:n(1779),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(e,t,n){return i.castOption(e,t,"hoverlabel."+n)},castHoverinfo:function(e,t,n){return i.castOption(e,n,"hoverinfo",(function(n){return i.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)}))},hover:s.hover,unhover:o.unhover,loneHover:s.loneHover,loneUnhover:function(e){var t=i.isD3Selection(e)?e:r.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:n(1780)}},649:function(e,t,n){"use strict";var r=n(1093),i=n(1029),o=n(941),a=n(6).removeElement,l=n(80),s=e.exports={};s.align=n(1769),s.getCursor=n(1770);var c=n(1771);function d(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function h(e){return r(e.changedTouches?e.changedTouches[0]:e,document.body)}s.unhover=c.wrapped,s.unhoverRaw=c.raw,s.init=function(e){var t,n,r,c,u,f,v,p,g=e.gd,m=1,x=g._context.doubleClickDelay,y=e.element;g._mouseDownTime||(g._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=_,o?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=_,y.addEventListener("touchstart",_,{passive:!1})):y.ontouchstart=_;var b=e.clampFn||function(e,t,n){return Math.abs(e)<n&&(e=0),Math.abs(t)<n&&(t=0),[e,t]};function _(o){g._dragged=!1,g._dragging=!0;var a=h(o);t=a[0],n=a[1],v=o.target,f=o,p=2===o.buttons||o.ctrlKey,void 0===o.clientX&&void 0===o.clientY&&(o.clientX=t,o.clientY=n),(r=(new Date).getTime())-g._mouseDownTime<x?m+=1:(m=1,g._mouseDownTime=r),e.prepFn&&e.prepFn(o,t,n),i&&!p?(u=d()).style.cursor=window.getComputedStyle(y).cursor:i||(u=document,c=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",L),document.addEventListener("touchend",L),!1!==e.dragmode&&(o.preventDefault(),document.addEventListener("mousemove",w),document.addEventListener("touchmove",w,{passive:!1}))}function w(r){r.preventDefault();var i=h(r),o=e.minDrag||l.MINDRAG,a=b(i[0]-t,i[1]-n,o),c=a[0],d=a[1];(c||d)&&(g._dragged=!0,s.unhover(g)),g._dragged&&e.moveFn&&!p&&(g._dragdata={element:y,dx:c,dy:d},e.moveFn(c,d))}function L(t){if(delete g._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",w),document.removeEventListener("touchmove",w)),document.removeEventListener("mouseup",L),document.removeEventListener("touchend",L),i?a(u):c&&(u.documentElement.style.cursor=c,c=null),g._dragging){if(g._dragging=!1,(new Date).getTime()-g._mouseDownTime>x&&(m=Math.max(m-1,1)),g._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(m,f),!p){var n;try{n=new MouseEvent("click",t)}catch(e){var r=h(t);(n=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,r[0],r[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}v.dispatchEvent(n)}g._dragging=!1,g._dragged=!1}else g._dragged=!1}},s.coverSlip=d},664:function(e,t,n){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach((function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)})),t&&e.classed("cursor-"+t,!0)}},769:function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function l(){l.init.call(this)}e.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var s=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,a,l;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=d(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,l=s,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function v(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)o(s,this,t);else{var c=s.length,d=g(s,c);for(n=0;n<c;++n)o(d[n],this,t)}return!0},l.prototype.addListener=function(e,t){return h(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return h(this,e,t,!0)},l.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},l.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},l.prototype.listeners=function(e){return v(this,e,!0)},l.prototype.rawListeners=function(e){return v(this,e,!1)},l.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},l.prototype.listenerCount=p,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},880:function(e,t,n){"use strict";var r=n(57),i=n(914).castOption;e.exports=function(e,t,n){var o=n.marker.line,a=i(o.color,t.pts)||r.defaultLine,l=i(o.width,t.pts)||0;e.style("stroke-width",l).call(r.fill,t.color).call(r.stroke,a)}},894:function(e,t,n){"use strict";var r=n(769).EventEmitter,i={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,i){"undefined"!=typeof jQuery&&jQuery(e).trigger(r,i),t.emit(r,i),n.emit(r,i)},e},triggerHandler:function(e,t,n){var r,i;"undefined"!=typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var o=e._ev;if(!o)return r;var a,l=o._events[t];if(!l)return r;function s(e){return e.listener?(o.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(o,[n]))):e.apply(o,[n])}for(l=Array.isArray(l)?l:[l],a=0;a<l.length-1;a++)s(l[a]);return i=s(l[a]),void 0!==r?r:i},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=i},914:function(e,t,n){"use strict";var r=n(6);t.formatPiePercent=function(e,t){var n=(100*e).toPrecision(3);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)+"%"},t.formatPieValue=function(e,t){var n=e.toPrecision(10);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var r=e[t[n]];if(r||0===r||""===r)return r}},t.castOption=function(e,n){return Array.isArray(e)?t.getFirstFilled(e,n):e||void 0}},941:function(e,t,n){"use strict";var r=n(1760);e.exports=r&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()}}]);