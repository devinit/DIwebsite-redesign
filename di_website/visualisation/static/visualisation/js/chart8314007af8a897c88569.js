(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1054:function(t,e,a){"use strict";var r=a(6),i=a(217),n=r.deg2rad,o=r.rad2deg;t.exports=function(t,e,a){switch(i(t,a),t._id){case"x":case"radialaxis":!function(t,e){var a=e._subplot;t.setGeometry=function(){var e=t._rl[0],r=t._rl[1],i=a.innerRadius,n=(a.radius-i)/(r-e),o=i/n,l=e>r?function(t){return t<=0}:function(t){return t>=0};t.c2g=function(a){var r=t.c2l(a)-e;return(l(r)?r:0)+o},t.g2c=function(a){return t.l2c(a+e-o)},t.g2p=function(t){return t*n},t.c2p=function(e){return t.g2p(t.c2g(e))}}}(t,e);break;case"angularaxis":!function(t,e){var a=t.type;if("linear"===a){var i=t.d2c,l=t.c2d;t.d2c=function(t,e){return function(t,e){return"degrees"===e?n(t):t}(i(t),e)},t.c2d=function(t,e){return l(function(t,e){return"degrees"===e?o(t):t}(t,e))}}t.makeCalcdata=function(e,i){var n,o,l=e[i],s=e._length,c=function(a){return t.d2c(a,e.thetaunit)};if(l){if(r.isTypedArray(l)&&"linear"===a){if(s===l.length)return l;if(l.subarray)return l.subarray(0,s)}for(n=new Array(s),o=0;o<s;o++)n[o]=c(l[o])}else{var u=i+"0",d="d"+i,p=u in e?c(e[u]):0,f=e[d]?c(e[d]):(t.period||2*Math.PI)/s;for(n=new Array(s),o=0;o<s;o++)n[o]=p+o*f}return n},t.setGeometry=function(){var i,l,s,c,u=e.sector,d=u.map(n),p={clockwise:-1,counterclockwise:1}[t.direction],f=n(t.rotation),h=function(t){return p*t+f},g=function(t){return(t-f)/p};switch(a){case"linear":l=i=r.identity,c=n,s=o,t.range=r.isFullCircle(d)?[u[0],u[0]+360]:d.map(g).map(o);break;case"category":var x=t._categories.length,y=t.period?Math.max(t.period,x):x;0===y&&(y=1),l=c=function(t){return 2*t*Math.PI/y},i=s=function(t){return t*y/Math.PI/2},t.range=[0,y]}t.c2g=function(t){return h(l(t))},t.g2c=function(t){return i(g(t))},t.t2g=function(t){return h(c(t))},t.g2t=function(t){return s(g(t))}}}(t,e)}}},1055:function(t,e,a){"use strict";var r=a(6),i=a(753).tester,n=r.findIndexOfMin,o=r.isAngleInsideSector,l=r.angleDelta,s=r.angleDist;function c(t,e,a,r){var i,n,o=r[0],l=r[1],s=d(Math.sin(e)-Math.sin(t)),c=d(Math.cos(e)-Math.cos(t)),u=Math.tan(a),p=d(1/u),f=s/c,h=l-f*o;return p?s&&c?n=u*(i=h/(u-f)):c?(i=l*p,n=l):(i=o,n=o*u):s&&c?(i=0,n=h):c?(i=0,n=l):i=n=NaN,[i,n]}function u(t,e,a,i){return r.isFullCircle([e,a])?function(t,e){var a,r=e.length,i=new Array(r+1);for(a=0;a<r;a++){var n=e[a];i[a]=[t*Math.cos(n),t*Math.sin(n)]}return i[a]=i[0].slice(),i}(t,i):function(t,e,a,i){var l,u,d=i.length,p=[];function f(e){return[t*Math.cos(e),t*Math.sin(e)]}function h(t,e,a){return c(t,e,a,f(t))}function g(t){return r.mod(t,d)}function x(t){return o(t,[e,a])}var y=n(i,(function(t){return x(t)?s(t,e):1/0})),v=h(i[y],i[g(y-1)],e);for(p.push(v),l=y,u=0;u<d;l++,u++){var m=i[g(l)];if(!x(m))break;p.push(f(m))}var k=n(i,(function(t){return x(t)?s(t,a):1/0})),b=h(i[k],i[g(k+1)],a);return p.push(b),p.push([0,0]),p.push(p[0].slice()),p}(t,e,a,i)}function d(t){return Math.abs(t)>1e-10?t:0}function p(t,e,a){e=e||0,a=a||0;for(var r=t.length,i=new Array(r),n=0;n<r;n++){var o=t[n];i[n]=[e+o[0],a-o[1]]}return i}t.exports={isPtInsidePolygon:function(t,e,a,r,n){if(!o(e,r))return!1;var l,s;a[0]<a[1]?(l=a[0],s=a[1]):(l=a[1],s=a[0]);var c=i(u(l,r[0],r[1],n)),d=i(u(s,r[0],r[1],n)),p=[t*Math.cos(e),t*Math.sin(e)];return d.contains(p)&&!c.contains(p)},findPolygonOffset:function(t,e,a,r){for(var i=1/0,n=1/0,o=u(t,e,a,r),l=0;l<o.length;l++){var s=o[l];i=Math.min(i,s[0]),n=Math.min(n,-s[1])}return[i,n]},findEnclosingVertexAngles:function(t,e){var a=n(e,(function(e){var a=l(e,t);return a>0?a:1/0})),i=r.mod(a+1,e.length);return[e[a],e[i]]},findIntersectionXY:c,findXYatLength:function(t,e,a,r){var i=-e*a,n=e*e+1,o=2*(e*i-a),l=i*i+a*a-t*t,s=Math.sqrt(o*o-4*n*l),c=(-o+s)/(2*n),u=(-o-s)/(2*n);return[[c,e*c+i+r],[u,e*u+i+r]]},clampTiny:d,pathPolygon:function(t,e,a,r,i,n){return"M"+p(u(t,e,a,r),i,n).join("L")},pathPolygonAnnulus:function(t,e,a,r,i,n,o){var l,s;t<e?(l=t,s=e):(l=e,s=t);var c=p(u(l,a,r,i),n,o);return"M"+p(u(s,a,r,i),n,o).reverse().join("L")+"M"+c.join("L")}}},1056:function(t,e,a){"use strict";var r=a(112),i=a(61),n=a(624).attributes,o=a(6).extendFlat,l=a(109).overrideAll,s=l({color:i.color,showline:o({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:o({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth},"plot","from-root"),c=l({tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,layer:i.layer},"plot","from-root"),u={visible:o({},i.visible,{dflt:!0}),type:o({},i.type,{values:["-","linear","log","date","category"]}),autorange:o({},i.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",role:"style",editType:"calc",description:["If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","If *normal*, the range is computed in relation to the extrema","of the input data (same behavior as for cartesian axes)."].join(" ")},range:o({},i.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:i.categoryorder,categoryarray:i.categoryarray,angle:{valType:"angle",editType:"plot",role:"info",description:["Sets the angle (in degrees) from which the radial axis is drawn.","Note that by default, radial axis line on the theta=0 line","corresponds to a line pointing right (like what mathematicians prefer).","Defaults to the first `polar.sector` angle."].join(" ")},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot",role:"info",description:["Determines on which side of radial axis line","the tick and tick labels appear."].join(" ")},title:{text:o({},i.title.text,{editType:"plot",dflt:""}),font:o({},i.title.font,{editType:"plot"}),editType:"plot"},hoverformat:i.hoverformat,uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, `angle`, and `title` if in `editable: true` configuration.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc",_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}};o(u,s,c);var d={visible:o({},i.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",role:"info",editType:"calc",_noTemplating:!0,description:["Sets the angular axis type.","If *linear*, set `thetaunit` to determine the unit in which axis value are shown.","If *category, use `period` to set the number of integer coordinates around polar axis."].join(" ")},categoryorder:i.categoryorder,categoryarray:i.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",role:"info",editType:"calc",description:["Sets the format unit of the formatted *theta* values.","Has an effect only when `angularaxis.type` is *linear*."].join(" ")},period:{valType:"number",editType:"calc",min:0,role:"info",description:["Set the angular period.","Has an effect only when `angularaxis.type` is *category*."].join(" ")},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",role:"info",editType:"calc",description:["Sets the direction corresponding to positive angles."].join(" ")},rotation:{valType:"angle",editType:"calc",role:"info",description:["Sets that start position (in degrees) of the angular axis","By default, polar subplots with `direction` set to *counterclockwise*","get a `rotation` of *0*","which corresponds to due East (like what mathematicians prefer).","In turn, polar with `direction` set to *clockwise* get a rotation of *90*","which corresponds to due North (like on a compass),"].join(" ")},hoverformat:i.hoverformat,uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `rotation`.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc"};o(d,s,c),t.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],role:"info",editType:"plot",description:["Sets angular span of this polar subplot with two angles (in degrees).","Sector are assumed to be spanned in the counterclockwise direction","with *0* corresponding to rightmost limit of the polar subplot."].join(" ")},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot",role:"info",description:["Sets the fraction of the radius to cut out of the polar subplot."].join(" ")},bgcolor:{valType:"color",role:"style",editType:"plot",dflt:r.background,description:"Set the background color of the subplot"},radialaxis:u,angularaxis:d,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",role:"style",editType:"plot",description:["Determines if the radial axis grid lines and angular axis line are drawn","as *circular* sectors or as *linear* (polygon) sectors.","Has an effect only when the angular axis has `type` *category*.","Note that `radialaxis.angle` is snapped to the angle of the closest","vertex when `gridshape` is *circular*","(so that radial axis scale is the same as the data scale)."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis attributes,","if not overridden in the individual axes.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc"}},1098:function(t,e,a){"use strict";var r=a(212).getSubplotCalcData,i=a(6).counterRegex,n=a(1286),o=a(903),l=o.attr,s=o.name,c=i(s),u={};u[l]={valType:"subplotid",role:"info",dflt:s,editType:"calc",description:["Sets a reference between this trace's data coordinates and","a polar subplot.","If *polar* (the default value), the data refer to `layout.polar`.","If *polar2*, the data refer to `layout.polar2`, and so on."].join(" ")},t.exports={attr:l,name:s,idRoot:s,idRegex:c,attrRegex:c,attributes:u,layoutAttributes:a(1056),supplyLayoutDefaults:a(1287),plot:function(t){for(var e=t._fullLayout,a=t.calcdata,i=e._subplots[s],o=0;o<i.length;o++){var l=i[o],c=r(a,s,l),u=e[l]._subplot;u||(u=n(t,l),e[l]._subplot=u),u.plot(c,e,t._promises)}},clean:function(t,e,a,r){for(var i=r._subplots[s]||[],n=r._has&&r._has("gl"),o=e._has&&e._has("gl"),l=n&&!o,c=0;c<i.length;c++){var u=i[c],d=r[u]._subplot;if(!e[u]&&d)for(var p in d.framework.remove(),d.layers["radial-axis-title"].remove(),d.clipPaths)d.clipPaths[p].remove();l&&d._scene&&(d._scene.destroy(),d._scene=null)}},toSVG:a(626).toSVG}},1099:function(t,e,a){"use strict";var r=a(6),i=a(206),n=a(644),o=a(648),l=a(681),s=a(649),c=a(655),u=a(213).PTS_LINESONLY,d=a(943);function p(t,e,a,r){var i,n=r("r"),o=r("theta");if(n)o?i=Math.min(n.length,o.length):(i=n.length,r("theta0"),r("dtheta"));else{if(!o)return 0;i=e.theta.length,r("r0"),r("dr")}return e._length=i,i}t.exports={handleRThetaDefaults:p,supplyDefaults:function(t,e,a,f){function h(a,i){return r.coerce(t,e,d,a,i)}var g=p(t,e,f,h);if(g){h("thetaunit"),h("mode",g<u?"lines+markers":"lines"),h("text"),h("hovertext"),"fills"!==e.hoveron&&h("hovertemplate"),i.hasLines(e)&&(o(t,e,a,f,h),l(t,e,h),h("connectgaps")),i.hasMarkers(e)&&n(t,e,a,f,h,{gradient:!0}),i.hasText(e)&&(h("texttemplate"),s(t,e,f,h));var x=[];(i.hasMarkers(e)||i.hasText(e))&&(h("cliponaxis"),h("marker.maxdisplayed"),x.push("points")),h("fill"),"none"!==e.fill&&(c(t,e,a,h),i.hasLines(e)||l(t,e,h)),"tonext"!==e.fill&&"toself"!==e.fill||x.push("fills"),h("hoveron",x.join("+")||"points"),r.coerceSelectionMarkerOpacity(e,h)}else e.visible=!1}}},1100:function(t,e,a){"use strict";var r=a(6),i=a(105);t.exports=function(t,e,a){var n,o,l={},s=a[e.subplot]._subplot;s?(n=s.radialAxis,o=s.angularAxis):(n=(s=a[e.subplot]).radialaxis,o=s.angularaxis);var c=n.c2l(t.r);l.rLabel=i.tickText(n,c,!0).text;var u="degrees"===o.thetaunit?r.rad2deg(t.theta):t.theta;return l.thetaLabel=i.tickText(o,u,!0).text,l}},1101:function(t,e,a){"use strict";var r=a(682);function i(t,e,a,r){var i=a.radialAxis,n=a.angularAxis;i._hovertitle="r",n._hovertitle="θ";var o={};o[e.subplot]={_subplot:a};var l=e._module.formatLabels(t,e,o);r.rLabel=l.rLabel,r.thetaLabel=l.thetaLabel;var s=t.hi||e.hoverinfo,c=[];function u(t,e){c.push(t._hovertitle+": "+e)}if(!e.hovertemplate){var d=s.split("+");-1!==d.indexOf("all")&&(d=["r","theta","text"]),-1!==d.indexOf("r")&&u(i,r.rLabel),-1!==d.indexOf("theta")&&u(n,r.thetaLabel),-1!==d.indexOf("text")&&r.text&&(c.push(r.text),delete r.text),r.extraText=c.join("<br>")}}t.exports={hoverPoints:function(t,e,a,n){var o=r(t,e,a,n);if(o&&!1!==o[0].index){var l=o[0];if(void 0===l.index)return o;var s=t.subplot,c=l.cd[l.index],u=l.trace;if(s.isPtInside(c))return l.xLabelVal=void 0,l.yLabelVal=void 0,i(c,u,s,l),l.hovertemplate=u.hovertemplate,o}},makeHoverPointText:i}},1286:function(t,e,a){"use strict";var r=a(24),i=a(60),n=a(23),o=a(6),l=a(57),s=a(106),c=a(107),u=a(105),d=a(217),p=a(1054),f=a(214).doAutoRange,h=a(1319),g=a(650),x=a(623),y=a(216),v=a(641).prepSelect,m=a(641).selectOnClick,k=a(641).clearSelect,b=a(665),_=a(1284),A=a(882).redrawReglTraces,w=a(81).MID_SHIFT,M=a(903),T=a(1055),S=o._,L=o.mod,I=o.deg2rad,F=o.rad2deg;function C(t,e){this.id=e,this.gd=t,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var a=t._fullLayout,r="clip"+a._uid+e;this.clipIds.forTraces=r+"-for-traces",this.clipPaths.forTraces=a._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=a._polarlayer.append("g").attr("class",e),this.radialTickLayout=null,this.angularTickLayout=null}var P=C.prototype;function R(t){var e=t.ticks+String(t.ticklen)+String(t.showticklabels);return"side"in t&&(e+=t.side),e}function O(t,e){return e[o.findIndexOfMin(e,(function(e){return o.angleDist(t,e)}))]}function D(t,e,a){return e?(t.attr("display",null),t.attr(a)):t&&t.attr("display","none"),t}function z(t,e){return"translate("+t+","+e+")"}function j(t){return"rotate("+t+")"}t.exports=function(t,e){return new C(t,e)},P.plot=function(t,e){var a=e[this.id];this._hasClipOnAxisFalse=!1;for(var r=0;r<t.length;r++){if(!1===t[r][0].trace.cliponaxis){this._hasClipOnAxisFalse=!0;break}}this.updateLayers(e,a),this.updateLayout(e,a),c.generalUpdatePerTraceModule(this.gd,this,t,a),this.updateFx(e,a)},P.updateLayers=function(t,e){var a=this.layers,i=e.radialaxis,n=e.angularaxis,o=M.layerNames,l=o.indexOf("frontplot"),s=o.slice(0,l),c="below traces"===n.layer,u="below traces"===i.layer;c&&s.push("angular-line"),u&&s.push("radial-line"),c&&s.push("angular-axis"),u&&s.push("radial-axis"),s.push("frontplot"),c||s.push("angular-line"),u||s.push("radial-line"),c||s.push("angular-axis"),u||s.push("radial-axis");var d=this.framework.selectAll(".polarsublayer").data(s,String);d.enter().append("g").attr("class",(function(t){return"polarsublayer "+t})).each((function(t){var e=a[t]=r.select(this);switch(t){case"frontplot":e.append("g").classed("barlayer",!0),e.append("g").classed("scatterlayer",!0);break;case"backplot":e.append("g").classed("maplayer",!0);break;case"plotbg":a.bg=e.append("path");break;case"radial-grid":case"angular-grid":e.style("fill","none");break;case"radial-line":e.append("line").style("fill","none");break;case"angular-line":e.append("path").style("fill","none")}})),d.order()},P.updateLayout=function(t,e){var a=this.layers,r=t._size,i=e.radialaxis,n=e.angularaxis,o=e.domain.x,c=e.domain.y;this.xOffset=r.l+r.w*o[0],this.yOffset=r.t+r.h*(1-c[1]);var u=this.xLength=r.w*(o[1]-o[0]),d=this.yLength=r.h*(c[1]-c[0]),p=e.sector;this.sectorInRad=p.map(I);var f,h,g,x,y,v=this.sectorBBox=function(t){var e,a,r,i,n=t[0],o=t[1]-n,l=L(n,360),s=l+o,c=Math.cos(I(l)),u=Math.sin(I(l)),d=Math.cos(I(s)),p=Math.sin(I(s));i=l<=90&&s>=90||l>90&&s>=450?1:u<=0&&p<=0?0:Math.max(u,p);e=l<=180&&s>=180||l>180&&s>=540?-1:c>=0&&d>=0?0:Math.min(c,d);a=l<=270&&s>=270||l>270&&s>=630?-1:u>=0&&p>=0?0:Math.min(u,p);r=s>=360?1:c<=0&&d<=0?0:Math.max(c,d);return[e,a,r,i]}(p),m=v[2]-v[0],k=v[3]-v[1],b=d/u,_=Math.abs(k/m);b>_?(f=u,y=(d-(h=u*_))/r.h/2,g=[o[0],o[1]],x=[c[0]+y,c[1]-y]):(h=d,y=(u-(f=d/_))/r.w/2,g=[o[0]+y,o[1]-y],x=[c[0],c[1]]),this.xLength2=f,this.yLength2=h,this.xDomain2=g,this.yDomain2=x;var A=this.xOffset2=r.l+r.w*g[0],w=this.yOffset2=r.t+r.h*(1-x[1]),M=this.radius=f/m,T=this.innerRadius=e.hole*M,S=this.cx=A-M*v[0],F=this.cy=w+M*v[3],C=this.cxx=S-A,P=this.cyy=F-w;this.radialAxis=this.mockAxis(t,e,i,{_id:"x",side:{counterclockwise:"top",clockwise:"bottom"}[i.side],domain:[T/r.w,M/r.w]}),this.angularAxis=this.mockAxis(t,e,n,{side:"right",domain:[0,Math.PI],autorange:!1}),this.doAutoRange(t,e),this.updateAngularAxis(t,e),this.updateRadialAxis(t,e),this.updateRadialAxisTitle(t,e),this.xaxis=this.mockCartesianAxis(t,e,{_id:"x",domain:g}),this.yaxis=this.mockCartesianAxis(t,e,{_id:"y",domain:x});var R=this.pathSubplot();this.clipPaths.forTraces.select("path").attr("d",R).attr("transform",z(C,P)),a.frontplot.attr("transform",z(A,w)).call(s.setClipUrl,this._hasClipOnAxisFalse?null:this.clipIds.forTraces,this.gd),a.bg.attr("d",R).attr("transform",z(S,F)).call(l.fill,e.bgcolor)},P.mockAxis=function(t,e,a,r){var i=o.extendFlat({},a,r);return p(i,e,t),i},P.mockCartesianAxis=function(t,e,a){var r=this,i=a._id,n=o.extendFlat({type:"linear"},a);d(n,t);var l={x:[0,2],y:[1,3]};return n.setRange=function(){var t=r.sectorBBox,a=l[i],o=r.radialAxis._rl,s=(o[1]-o[0])/(1-e.hole);n.range=[t[a[0]]*s,t[a[1]]*s]},n.isPtWithinRange="x"===i?function(t){return r.isPtInside(t)}:function(){return!0},n.setRange(),n.setScale(),n},P.doAutoRange=function(t,e){var a=this.gd,r=this.radialAxis,i=e.radialaxis;r.setScale(),f(a,r);var n=r.range;i.range=n.slice(),i._input.range=n.slice(),r._rl=[r.r2l(n[0],null,"gregorian"),r.r2l(n[1],null,"gregorian")]},P.updateRadialAxis=function(t,e){var a=this,r=a.gd,i=a.layers,n=a.radius,s=a.innerRadius,c=a.cx,d=a.cy,p=e.radialaxis,f=L(e.sector[0],360),h=a.radialAxis,g=s<n;a.fillViewInitialKey("radialaxis.angle",p.angle),a.fillViewInitialKey("radialaxis.range",h.range.slice()),h.setGeometry(),"auto"===h.tickangle&&f>90&&f<=270&&(h.tickangle=180);var x=function(t){return"translate("+(h.l2p(t.x)+s)+",0)"},y=R(p);if(a.radialTickLayout!==y&&(i["radial-axis"].selectAll(".xtick").remove(),a.radialTickLayout=y),g){h.setScale();var v=u.calcTicks(h),m=u.clipEnds(h,v),k=u.getTickSigns(h)[2];u.drawTicks(r,h,{vals:v,layer:i["radial-axis"],path:u.makeTickPath(h,0,k),transFn:x,crisp:!1}),u.drawGrid(r,h,{vals:m,layer:i["radial-grid"],path:function(t){return a.pathArc(h.r2p(t.x)+s)},transFn:o.noop,crisp:!1}),u.drawLabels(r,h,{vals:v,layer:i["radial-axis"],transFn:x,labelFns:u.makeLabelFns(h,0)})}var b=a.radialAxisAngle=a.vangles?F(O(I(p.angle),a.vangles)):p.angle,_=z(c,d),A=_+j(-b);D(i["radial-axis"],g&&(p.showticklabels||p.ticks),{transform:A}),D(i["radial-grid"],g&&p.showgrid,{transform:_}),D(i["radial-line"].select("line"),g&&p.showline,{x1:s,y1:0,x2:n,y2:0,transform:A}).attr("stroke-width",p.linewidth).call(l.stroke,p.linecolor)},P.updateRadialAxisTitle=function(t,e,a){var r=this.gd,i=this.radius,n=this.cx,o=this.cy,l=e.radialaxis,c=this.id+"title",u=void 0!==a?a:this.radialAxisAngle,d=I(u),p=Math.cos(d),f=Math.sin(d),h=0;if(l.title){var g=s.bBox(this.layers["radial-axis"].node()).height,x=l.title.font.size;h="counterclockwise"===l.side?-g-.4*x:g+.8*x}this.layers["radial-axis-title"]=y.draw(r,c,{propContainer:l,propName:this.id+".radialaxis.title",placeholder:S(r,"Click to enter radial axis title"),attributes:{x:n+i/2*p+h*f,y:o-i/2*f+h*p,"text-anchor":"middle"},transform:{rotate:-u}})},P.updateAngularAxis=function(t,e){var a=this,r=a.gd,i=a.layers,n=a.radius,s=a.innerRadius,c=a.cx,d=a.cy,p=e.angularaxis,f=a.angularAxis;a.fillViewInitialKey("angularaxis.rotation",p.rotation),f.setGeometry(),f.setScale();var h=function(t){return f.t2g(t.x)};"linear"===f.type&&"radians"===f.thetaunit&&(f.tick0=F(f.tick0),f.dtick=F(f.dtick));var g=function(t){return z(c+n*Math.cos(t),d-n*Math.sin(t))},x=u.makeLabelFns(f,0).labelStandoff,y={xFn:function(t){var e=h(t);return Math.cos(e)*x},yFn:function(t){var e=h(t),a=Math.sin(e)>0?.2:1;return-Math.sin(e)*(x+t.fontSize*a)+Math.abs(Math.cos(e))*(t.fontSize*w)},anchorFn:function(t){var e=h(t),a=Math.cos(e);return Math.abs(a)<.1?"middle":a>0?"start":"end"},heightFn:function(t,e,a){var r=h(t);return-.5*(1+Math.sin(r))*a}},v=R(p);a.angularTickLayout!==v&&(i["angular-axis"].selectAll("."+f._id+"tick").remove(),a.angularTickLayout=v);var m,k=u.calcTicks(f);if("linear"===e.gridshape?(m=k.map(h),o.angleDelta(m[0],m[1])<0&&(m=m.slice().reverse())):m=null,a.vangles=m,"category"===f.type&&(k=k.filter((function(t){return o.isAngleInsideSector(h(t),a.sectorInRad)}))),f.visible){var b="inside"===f.ticks?-1:1,_=(f.linewidth||1)/2;u.drawTicks(r,f,{vals:k,layer:i["angular-axis"],path:"M"+b*_+",0h"+b*f.ticklen,transFn:function(t){var e=h(t);return g(e)+j(-F(e))},crisp:!1}),u.drawGrid(r,f,{vals:k,layer:i["angular-grid"],path:function(t){var e=h(t),a=Math.cos(e),r=Math.sin(e);return"M"+[c+s*a,d-s*r]+"L"+[c+n*a,d-n*r]},transFn:o.noop,crisp:!1}),u.drawLabels(r,f,{vals:k,layer:i["angular-axis"],repositionOnUpdate:!0,transFn:function(t){return g(h(t))},labelFns:y})}D(i["angular-line"].select("path"),p.showline,{d:a.pathSubplot(),transform:z(c,d)}).attr("stroke-width",p.linewidth).call(l.stroke,p.linecolor)},P.updateFx=function(t,e){this.gd._context.staticPlot||(this.updateAngularDrag(t),this.updateRadialDrag(t,e,0),this.updateRadialDrag(t,e,1),this.updateMainDrag(t))},P.updateMainDrag=function(t){var e=this,a=e.gd,o=e.layers,l=t._zoomlayer,s=M.MINZOOM,c=M.OFFEDGE,u=e.radius,d=e.innerRadius,p=e.cx,f=e.cy,y=e.cxx,b=e.cyy,_=e.sectorInRad,A=e.vangles,w=e.radialAxis,S=T.clampTiny,L=T.findXYatLength,I=T.findEnclosingVertexAngles,F=M.cornerHalfWidth,C=M.cornerLen/2,P=h.makeDragger(o,"path","maindrag","crosshair");r.select(P).attr("d",e.pathSubplot()).attr("transform",z(p,f));var R,O,D,j,N,G,B,E,Z,H={element:P,gd:a,subplot:e.id,plotinfo:{id:e.id,xaxis:e.xaxis,yaxis:e.yaxis},xaxes:[e.xaxis],yaxes:[e.yaxis]};function U(t,e){return Math.sqrt(t*t+e*e)}function V(t,e){return U(t-y,e-b)}function q(t,e){return Math.atan2(b-e,t-y)}function Y(t,e){return[t*Math.cos(e),t*Math.sin(-e)]}function K(t,a){if(0===t)return e.pathSector(2*F);var r=C/t,i=a-r,n=a+r,o=Math.max(0,Math.min(t,u)),l=o-F,s=o+F;return"M"+Y(l,i)+"A"+[l,l]+" 0,0,0 "+Y(l,n)+"L"+Y(s,n)+"A"+[s,s]+" 0,0,1 "+Y(s,i)+"Z"}function X(t,a,r){if(0===t)return e.pathSector(2*F);var i,n,o=Y(t,a),l=Y(t,r),s=S((o[0]+l[0])/2),c=S((o[1]+l[1])/2);if(s&&c){var u=c/s,d=-1/u,p=L(F,u,s,c);i=L(C,d,p[0][0],p[0][1]),n=L(C,d,p[1][0],p[1][1])}else{var f,h;c?(f=C,h=F):(f=F,h=C),i=[[s-f,c-h],[s+f,c-h]],n=[[s-f,c+h],[s+f,c+h]]}return"M"+i.join("L")+"L"+n.reverse().join("L")+"Z"}function W(t,e){return e=Math.max(Math.min(e,u),d),t<c?t=0:u-t<c?t=u:e<c?e=0:u-e<c&&(e=u),Math.abs(e-t)>s?(t<e?(D=t,j=e):(D=e,j=t),!0):(D=null,j=null,!1)}function J(t,e){t=t||N,e=e||"M0,0Z",E.attr("d",t),Z.attr("d",e),h.transitionZoombox(E,Z,G,B),G=!0;var r={};at(r),a.emit("plotly_relayouting",r)}function $(t,a){var r,i,n=R+t,o=O+a,l=V(R,O),s=Math.min(V(n,o),u),c=q(R,O);W(l,s)&&(r=N+e.pathSector(j),D&&(r+=e.pathSector(D)),i=K(D,c)+K(j,c)),J(r,i)}function Q(t,e,a,r){var i=T.findIntersectionXY(a,r,a,[t-y,b-e]);return U(i[0],i[1])}function tt(t,a){var r,i,n=R+t,o=O+a,l=q(R,O),s=q(n,o),c=I(l,A),d=I(s,A);W(Q(R,O,c[0],c[1]),Math.min(Q(n,o,d[0],d[1]),u))&&(r=N+e.pathSector(j),D&&(r+=e.pathSector(D)),i=[X(D,c[0],c[1]),X(j,c[0],c[1])].join(" ")),J(r,i)}function et(){if(h.removeZoombox(a),null!==D&&null!==j){var t={};at(t),h.showDoubleClickNotifier(a),n.call("_guiRelayout",a,t)}}function at(t){var a=w._rl,r=(a[1]-a[0])/(1-d/u)/u,i=[a[0]+(D-d)*r,a[0]+(j-d)*r];t[e.id+".radialaxis.range"]=i}function rt(t,r){var i=a._fullLayout.clickmode;if(h.removeZoombox(a),2===t){var o={};for(var l in e.viewInitial)o[e.id+"."+l]=e.viewInitial[l];a.emit("plotly_doubleclick",null),n.call("_guiRelayout",a,o)}i.indexOf("select")>-1&&1===t&&m(r,a,[e.xaxis],[e.yaxis],e.id,H),i.indexOf("event")>-1&&x.click(a,r,e.id)}H.prepFn=function(t,r,n){var o=a._fullLayout.dragmode,s=P.getBoundingClientRect();if(R=r-s.left,O=n-s.top,A){var c=T.findPolygonOffset(u,_[0],_[1],A);R+=y+c[0],O+=b+c[1]}switch(o){case"zoom":H.moveFn=A?tt:$,H.clickFn=rt,H.doneFn=et,function(){D=null,j=null,N=e.pathSubplot(),G=!1;var t=a._fullLayout[e.id];B=i(t.bgcolor).getLuminance(),(E=h.makeZoombox(l,B,p,f,N)).attr("fill-rule","evenodd"),Z=h.makeCorners(l,p,f),k(a)}();break;case"select":case"lasso":v(t,r,n,H,o)}},P.onmousemove=function(t){x.hover(a,t,e.id),a._fullLayout._lasthover=P,a._fullLayout._hoversubplot=e.id},P.onmouseout=function(t){a._dragging||g.unhover(a,t)},g.init(H)},P.updateRadialDrag=function(t,e,a){var i=this,l=i.gd,s=i.layers,c=i.radius,u=i.innerRadius,d=i.cx,p=i.cy,f=i.radialAxis,x=M.radialDragBoxSize,y=x/2;if(f.visible){var v,m,b,w=I(i.radialAxisAngle),T=f._rl,S=T[0],L=T[1],C=T[a],P=.75*(T[1]-T[0])/(1-e.hole)/c;a?(v=d+(c+y)*Math.cos(w),m=p-(c+y)*Math.sin(w),b="radialdrag"):(v=d+(u-y)*Math.cos(w),m=p-(u-y)*Math.sin(w),b="radialdrag-inner");var R,N,G,B=h.makeRectDragger(s,b,"crosshair",-y,-y,x,x),E={element:B,gd:l};D(r.select(B),f.visible&&u<c,{transform:z(v,m)}),E.prepFn=function(){R=null,N=null,G=null,E.moveFn=Z,E.doneFn=H,k(l)},E.clampFn=function(t,e){return Math.sqrt(t*t+e*e)<M.MINDRAG&&(t=0,e=0),[t,e]},g.init(E)}function Z(t,e){if(R)R(t,e);else{var r=[t,-e],n=[Math.cos(w),Math.sin(w)],s=Math.abs(o.dot(r,n)/Math.sqrt(o.dot(r,r)));isNaN(s)||(R=s<.5?U:V)}var c={};!function(t){null!==N?t[i.id+".radialaxis.angle"]=N:null!==G&&(t[i.id+".radialaxis.range["+a+"]"]=G)}(c),l.emit("plotly_relayouting",c)}function H(){null!==N?n.call("_guiRelayout",l,i.id+".radialaxis.angle",N):null!==G&&n.call("_guiRelayout",l,i.id+".radialaxis.range["+a+"]",G)}function U(t,e){if(0!==a){var r=v+t,n=m+e;N=Math.atan2(p-n,r-d),i.vangles&&(N=O(N,i.vangles)),N=F(N);var o=z(d,p)+j(-N);s["radial-axis"].attr("transform",o),s["radial-line"].select("line").attr("transform",o);var l=i.gd._fullLayout,c=l[i.id];i.updateRadialAxisTitle(l,c,N)}}function V(t,e){var r=o.dot([t,-e],[Math.cos(w),Math.sin(w)]);if(G=C-P*r,P>0==(a?G>S:G<L)){var s=l._fullLayout,c=s[i.id];f.range[a]=G,f._rl[a]=G,i.updateRadialAxis(s,c),i.xaxis.setRange(),i.xaxis.setScale(),i.yaxis.setRange(),i.yaxis.setScale();var u=!1;for(var d in i.traceHash){var p=i.traceHash[d],h=o.filterVisible(p);p[0][0].trace._module.plot(l,i,h,c),n.traceIs(d,"gl")&&h.length&&(u=!0)}u&&(_(l),A(l))}else G=null}},P.updateAngularDrag=function(t){var e=this,a=e.gd,i=e.layers,l=e.radius,c=e.angularAxis,u=e.cx,d=e.cy,p=e.cxx,f=e.cyy,x=M.angularDragBoxSize,y=h.makeDragger(i,"path","angulardrag","move"),v={element:y,gd:a};function m(t,e){return Math.atan2(f+x-e,t-p-x)}r.select(y).attr("d",e.pathAnnulus(l,l+x)).attr("transform",z(u,d)).call(b,"move");var w,T,S,L,I,C,P=i.frontplot.select(".scatterlayer").selectAll(".trace"),R=P.selectAll(".point"),O=P.selectAll(".textpoint");function D(t,l){var h=e.gd._fullLayout,g=h[e.id],x=m(w+t,T+l),y=F(x-C);if(L=S+y,i.frontplot.attr("transform",z(e.xOffset2,e.yOffset2)+j([-y,p,f])),e.vangles){I=e.radialAxisAngle+y;var v=z(u,d)+j(-y),k=z(u,d)+j(-I);i.bg.attr("transform",v),i["radial-grid"].attr("transform",v),i["radial-axis"].attr("transform",k),i["radial-line"].select("line").attr("transform",k),e.updateRadialAxisTitle(h,g,I)}else e.clipPaths.forTraces.select("path").attr("transform",z(p,f)+j(y));R.each((function(){var t=r.select(this),e=s.getTranslate(t);t.attr("transform",z(e.x,e.y)+j([y]))})),O.each((function(){var t=r.select(this),e=t.select("text"),a=s.getTranslate(t);t.attr("transform",j([y,e.attr("x"),e.attr("y")])+z(a.x,a.y))})),c.rotation=o.modHalf(L,360),e.updateAngularAxis(h,g),e._hasClipOnAxisFalse&&!o.isFullCircle(e.sectorInRad)&&P.call(s.hideOutsideRangePoints,e);var b=!1;for(var M in e.traceHash)if(n.traceIs(M,"gl")){var D=e.traceHash[M],G=o.filterVisible(D);D[0][0].trace._module.plot(a,e,G,g),G.length&&(b=!0)}b&&(_(a),A(a));var B={};N(B),a.emit("plotly_relayouting",B)}function N(t){t[e.id+".angularaxis.rotation"]=L,e.vangles&&(t[e.id+".radialaxis.angle"]=I)}function G(){O.select("text").attr("transform",null);var t={};N(t),n.call("_guiRelayout",a,t)}v.prepFn=function(r,i,n){var o=t[e.id];S=o.angularaxis.rotation;var l=y.getBoundingClientRect();w=i-l.left,T=n-l.top,C=m(w,T),v.moveFn=D,v.doneFn=G,k(a)},e.vangles&&!o.isFullCircle(e.sectorInRad)&&(v.prepFn=o.noop,b(r.select(y),null)),g.init(v)},P.isPtInside=function(t){var e=this.sectorInRad,a=this.vangles,r=this.angularAxis.c2g(t.theta),i=this.radialAxis,n=i.c2l(t.r),l=i._rl;return(a?T.isPtInsidePolygon:o.isPtInsideSector)(n,r,l,e,a)},P.pathArc=function(t){var e=this.sectorInRad,a=this.vangles;return(a?T.pathPolygon:o.pathArc)(t,e[0],e[1],a)},P.pathSector=function(t){var e=this.sectorInRad,a=this.vangles;return(a?T.pathPolygon:o.pathSector)(t,e[0],e[1],a)},P.pathAnnulus=function(t,e){var a=this.sectorInRad,r=this.vangles;return(r?T.pathPolygonAnnulus:o.pathAnnulus)(t,e,a[0],a[1],r)},P.pathSubplot=function(){var t=this.innerRadius,e=this.radius;return t?this.pathAnnulus(t,e):this.pathSector(e)},P.fillViewInitialKey=function(t,e){t in this.viewInitial||(this.viewInitial[t]=e)}},1287:function(t,e,a){"use strict";var r=a(6),i=a(57),n=a(58),o=a(731),l=a(212).getSubplotData,s=a(219),c=a(223),u=a(220),d=a(754),p=a(739),f=a(224),h=a(1056),g=a(1054),x=a(903),y=x.axisNames;function v(t,e,a,o){var f=a("bgcolor");o.bgColor=i.combine(f,o.paper_bgcolor);var v=a("sector");a("hole");var k,b=l(o.fullData,x.name,o.id),_=o.layoutOut;function A(t,e){return a(k+"."+t,e)}for(var w=0;w<y.length;w++){k=y[w],r.isPlainObject(t[k])||(t[k]={});var M=t[k],T=n.newContainer(e,k);T._id=T._name=k,T._attr=o.id+"."+k,T._traceIndices=b.map((function(t){return t._expandedIndex}));var S=x.axisName2dataArray[k],L=m(M,T,A,b,S);d(M,T,A,{axData:b,dataAttr:S});var I,F,C=A("visible");switch(g(T,e,_),A("uirevision",e.uirevision),C&&(F=(I=A("color"))===M.color?I:o.font.color),T._m=1,k){case"radialaxis":var P=A("autorange",!T.isValidRange(M.range));M.autorange=P,!P||"linear"!==L&&"-"!==L||A("rangemode"),"reversed"===P&&(T._m=-1),A("range"),T.cleanRange("range",{dfltRange:[0,1]}),C&&(A("side"),A("angle",v[0]),A("title.text"),r.coerceFont(A,"title.font",{family:o.font.family,size:Math.round(1.2*o.font.size),color:F}));break;case"angularaxis":if("date"===L){r.log("Polar plots do not support date angular axes yet.");for(var R=0;R<b.length;R++)b[R].visible=!1;L=M.type=T.type="linear"}A("linear"===L?"thetaunit":"period");var O=A("direction");A("rotation",{counterclockwise:0,clockwise:90}[O])}if(C)s(M,T,A,T.type),u(M,T,A,T.type,{tickSuffixDflt:"degrees"===T.thetaunit?"°":void 0}),c(M,T,A,{outerTicks:!0}),A("showticklabels")&&(r.coerceFont(A,"tickfont",{family:o.font.family,size:o.font.size,color:F}),A("tickangle"),A("tickformat")),p(M,T,A,{dfltColor:I,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h[k]}),A("layer");"category"!==L&&A("hoverformat"),T._input=M}"category"===e.angularaxis.type&&a("gridshape")}function m(t,e,a,r,i){if("-"===a("type")){for(var n,o=0;o<r.length;o++)if(r[o].visible){n=r[o];break}n&&n[i]&&(e.type=f(n[i],"gregorian")),"-"===e.type?e.type="linear":t.type=e.type}return e.type}t.exports=function(t,e,a){o(t,e,a,{type:x.name,attributes:h,handleDefaults:v,font:e.font,paper_bgcolor:e.paper_bgcolor,fullData:a,layoutOut:e})}},1749:function(t,e,a){"use strict";t.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:a(1098),categories:["polar","symbols","showLegend","scatter-like"],attributes:a(943),supplyDefaults:a(1099).supplyDefaults,colorbar:a(633),formatLabels:a(1100),calc:a(1750),plot:a(1751),style:a(640).style,styleOnSelect:a(640).styleOnSelect,hoverPoints:a(1101).hoverPoints,selectPoints:a(698),meta:{hrName:"scatter_polar",description:["The scatterpolar trace type encompasses line charts, scatter charts, text charts, and bubble charts","in polar coordinates.","The data visualized as scatter point or lines is set in","`r` (radial) and `theta` (angular) coordinates","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}},1750:function(t,e,a){"use strict";var r=a(12),i=a(25).BADNUM,n=a(105),o=a(636),l=a(629),s=a(631),c=a(642).calcMarkerSize;t.exports=function(t,e){for(var a=t._fullLayout,u=e.subplot,d=a[u].radialaxis,p=a[u].angularaxis,f=d.makeCalcdata(e,"r"),h=p.makeCalcdata(e,"theta"),g=e._length,x=new Array(g),y=0;y<g;y++){var v=f[y],m=h[y],k=x[y]={};r(v)&&r(m)?(k.r=v,k.theta=m):k.r=i}var b=c(e,g);return e._extremes.x=n.findExtremes(d,f,{ppad:b}),o(t,e),l(x,e),s(x,e),x}},1751:function(t,e,a){"use strict";var r=a(696),i=a(25).BADNUM;t.exports=function(t,e,a){for(var n=e.layers.frontplot.select("g.scatterlayer"),o={xaxis:e.xaxis,yaxis:e.yaxis,plot:e.framework,layerClipId:e._hasClipOnAxisFalse?e.clipIds.forTraces:null},l=e.radialAxis,s=e.angularAxis,c=0;c<a.length;c++)for(var u=a[c],d=0;d<u.length;d++){var p=u[d],f=p.r;if(f===i)p.x=p.y=i;else{var h=l.c2g(f),g=s.c2g(p.theta);p.x=h*Math.cos(g),p.y=h*Math.sin(g)}}r(t,o,a,n)}},280:function(t,e,a){"use strict";t.exports=a(1749)},624:function(t,e,a){"use strict";var r=a(32).extendFlat;e.attributes=function(t,e){e=e||{};var a={valType:"info_array",role:"info",editType:(t=t||{}).editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},i=t.name?t.name+" ":"",n=t.trace?"trace ":"subplot ",o=e.description?" "+e.description:"",l={x:r({},a,{description:["Sets the horizontal domain of this ",i,n,"(in plot fraction).",o].join("")}),y:r({},a,{description:["Sets the vertical domain of this ",i,n,"(in plot fraction).",o].join("")}),editType:t.editType};return t.noGridCell||(l.row={valType:"integer",min:0,dflt:0,role:"info",editType:t.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",i,n,".",o].join("")},l.column={valType:"integer",min:0,dflt:0,role:"info",editType:t.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",i,n,".",o].join("")}),l},e.defaults=function(t,e,a,r){var i=r&&r.x||[0,1],n=r&&r.y||[0,1],o=e.grid;if(o){var l=a("domain.column");void 0!==l&&(l<o.columns?i=o._domains.x[l]:delete t.domain.column);var s=a("domain.row");void 0!==s&&(s<o.rows?n=o._domains.y[s]:delete t.domain.row)}var c=a("domain.x",i),u=a("domain.y",n);c[0]<c[1]||(t.domain.x=i.slice()),u[0]<u[1]||(t.domain.y=n.slice())}},629:function(t,e,a){"use strict";var r=a(6);t.exports=function(t,e){for(var a=0;a<t.length;a++)t[a].i=a;r.mergeArray(e.text,t,"tx"),r.mergeArray(e.texttemplate,t,"txt"),r.mergeArray(e.hovertext,t,"htx"),r.mergeArray(e.customdata,t,"data"),r.mergeArray(e.textposition,t,"tp"),e.textfont&&(r.mergeArrayCastPositive(e.textfont.size,t,"ts"),r.mergeArray(e.textfont.color,t,"tc"),r.mergeArray(e.textfont.family,t,"tf"));var i=e.marker;if(i){r.mergeArrayCastPositive(i.size,t,"ms"),r.mergeArrayCastPositive(i.opacity,t,"mo"),r.mergeArray(i.symbol,t,"mx"),r.mergeArray(i.color,t,"mc");var n=i.line;i.line&&(r.mergeArray(n.color,t,"mlc"),r.mergeArrayCastPositive(n.width,t,"mlw"));var o=i.gradient;o&&"none"!==o.type&&(r.mergeArray(o.type,t,"mgt"),r.mergeArray(o.color,t,"mgc"))}}},631:function(t,e,a){"use strict";var r=a(6);t.exports=function(t,e){r.isArrayOrTypedArray(e.selectedpoints)&&r.tagSelected(t,e)}},633:function(t,e,a){"use strict";t.exports={container:"marker",min:"cmin",max:"cmax"}},636:function(t,e,a){"use strict";var r=a(79).hasColorscale,i=a(210),n=a(206);t.exports=function(t,e){n.hasLines(e)&&r(e,"line")&&i(t,e,{vals:e.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(e)&&(r(e,"marker")&&i(t,e,{vals:e.marker.color,containerStr:"marker",cLetter:"c"}),r(e,"marker.line")&&i(t,e,{vals:e.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},640:function(t,e,a){"use strict";var r=a(24),i=a(106),n=a(23);function o(t,e,a){i.pointStyle(t.selectAll("path.point"),e,a)}function l(t,e,a){i.textPointStyle(t.selectAll("text"),e,a)}t.exports={style:function(t){var e=r.select(t).selectAll("g.trace.scatter");e.style("opacity",(function(t){return t[0].trace.opacity})),e.selectAll("g.points").each((function(e){o(r.select(this),e.trace||e[0].trace,t)})),e.selectAll("g.text").each((function(e){l(r.select(this),e.trace||e[0].trace,t)})),e.selectAll("g.trace path.js-line").call(i.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(i.fillGroupStyle),n.getComponentMethod("errorbars","style")(e)},stylePoints:o,styleText:l,styleOnSelect:function(t,e,a){var r=e[0].trace;r.selectedpoints?(i.selectedPointStyle(a.selectAll("path.point"),r),i.selectedTextStyle(a.selectAll("text"),r)):(o(a,r,t),l(a,r,t))}}},642:function(t,e,a){"use strict";var r=a(12),i=a(6),n=a(105),o=a(25).BADNUM,l=a(206),s=a(636),c=a(629),u=a(631);function d(t,e,a,r,i,o,s){var c=e._length,u=t._fullLayout,d=a._id,p=r._id,f=u._firstScatter[h(e)]===e.uid,x=(g(e,u,a,r)||{}).orientation,y=e.fill;a._minDtick=0,r._minDtick=0;var v={padded:!0},m={padded:!0};s&&(v.ppad=m.ppad=s);var k=c<2||i[0]!==i[c-1]||o[0]!==o[c-1];k&&("tozerox"===y||"tonextx"===y&&(f||"h"===x))?v.tozero=!0:(e.error_y||{}).visible||"tonexty"!==y&&"tozeroy"!==y&&(l.hasMarkers(e)||l.hasText(e))||(v.padded=!1,v.ppad=0),k&&("tozeroy"===y||"tonexty"===y&&(f||"v"===x))?m.tozero=!0:"tonextx"!==y&&"tozerox"!==y||(m.padded=!1),d&&(e._extremes[d]=n.findExtremes(a,i,v)),p&&(e._extremes[p]=n.findExtremes(r,o,m))}function p(t,e){if(l.hasMarkers(t)){var a,r=t.marker,o=1.6*(t.marker.sizeref||1);if(a="area"===t.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/o),3)}:function(t){return Math.max((t||0)/o,3)},i.isArrayOrTypedArray(r.size)){var s={type:"linear"};n.setConvert(s);for(var c=s.makeCalcdata(t.marker,"size"),u=new Array(e),d=0;d<e;d++)u[d]=a(c[d]);return u}return a(r.size)}}function f(t,e){var a=h(e),r=t._firstScatter;r[a]||(r[a]=e.uid)}function h(t){var e=t.stackgroup;return t.xaxis+t.yaxis+t.type+(e?"-"+e:"")}function g(t,e,a,r){var i=t.stackgroup;if(i){var n=e._scatterStackOpts[a._id+r._id][i],o="v"===n.orientation?r:a;return"linear"===o.type||"log"===o.type?n:void 0}}t.exports={calc:function(t,e){var a,l,h,x,y,v,m=t._fullLayout,k=n.getFromId(t,e.xaxis||"x"),b=n.getFromId(t,e.yaxis||"y"),_=k.makeCalcdata(e,"x"),A=b.makeCalcdata(e,"y"),w=e._length,M=new Array(w),T=e.ids,S=g(e,m,k,b),L=!1;f(m,e);var I,F="x",C="y";for(S?(i.pushUnique(S.traceIndices,e._expandedIndex),(a="v"===S.orientation)?(C="s",I="x"):(F="s",I="y"),y="interpolate"===S.stackgaps):d(t,e,k,b,_,A,p(e,w)),l=0;l<w;l++){var P=M[l]={},R=r(_[l]),O=r(A[l]);R&&O?(P[F]=_[l],P[C]=A[l]):S&&(a?R:O)?(P[I]=a?_[l]:A[l],P.gap=!0,y?(P.s=o,L=!0):P.s=0):P[F]=P[C]=o,T&&(P.id=String(T[l]))}if(c(M,e),s(t,e),u(M,e),S){for(l=0;l<M.length;)M[l][I]===o?M.splice(l,1):l++;if(i.sort(M,(function(t,e){return t[I]-e[I]||t.i-e.i})),L){for(l=0;l<M.length-1&&M[l].gap;)l++;for((v=M[l].s)||(v=M[l].s=0),h=0;h<l;h++)M[h].s=v;for(x=M.length-1;x>l&&M[x].gap;)x--;for(v=M[x].s,h=M.length-1;h>x;h--)M[h].s=v;for(;l<x;)if(M[++l].gap){for(h=l+1;M[h].gap;)h++;for(var D=M[l-1][I],z=M[l-1].s,j=(M[h].s-z)/(M[h][I]-D);l<h;)M[l].s=z+(M[l][I]-D)*j,l++}}}return M},calcMarkerSize:p,calcAxisExpansion:d,setFirstScatter:f,getStackOpts:g}},644:function(t,e,a){"use strict";var r=a(57),i=a(79).hasColorscale,n=a(151),o=a(206);t.exports=function(t,e,a,l,s,c){var u=o.isBubble(t),d=(t.line||{}).color;(c=c||{},d&&(a=d),s("marker.symbol"),s("marker.opacity",u?.7:1),s("marker.size"),s("marker.color",a),i(t,"marker")&&n(t,e,l,s,{prefix:"marker.",cLetter:"c"}),c.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),c.noLine||(s("marker.line.color",d&&!Array.isArray(d)&&e.marker.color!==d?d:u?r.background:r.defaultLine),i(t,"marker.line")&&n(t,e,l,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",u?1:0)),u&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),c.gradient)&&("none"!==s("marker.gradient.type")&&s("marker.gradient.color"))}},648:function(t,e,a){"use strict";var r=a(6).isArrayOrTypedArray,i=a(79).hasColorscale,n=a(151);t.exports=function(t,e,a,o,l,s){var c=(t.marker||{}).color;(l("line.color",a),i(t,"line"))?n(t,e,o,l,{prefix:"line.",cLetter:"c"}):l("line.color",!r(c)&&c||a);l("line.width"),(s||{}).noDash||l("line.dash")}},649:function(t,e,a){"use strict";var r=a(6);t.exports=function(t,e,a,i,n){n=n||{},i("textposition"),r.coerceFont(i,"textfont",a.font),n.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}},651:function(t,e,a){"use strict";var r=a(57),i=a(206);t.exports=function(t,e){var a,n;if("lines"===t.mode)return(a=t.line.color)&&r.opacity(a)?a:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var o=e.mcc||(t.marker||{}).color,l=e.mlcc||((t.marker||{}).line||{}).color;return(n=o&&r.opacity(o)?o:l&&r.opacity(l)&&(e.mlw||((t.marker||{}).line||{}).width)?l:"")?r.opacity(n)<.3?r.addOpacity(n,.3):n:(a=(t.line||{}).color)&&r.opacity(a)&&i.hasLines(t)&&t.line.width?a:t.fillcolor}},655:function(t,e,a){"use strict";var r=a(57),i=a(6).isArrayOrTypedArray;t.exports=function(t,e,a,n){var o=!1;if(e.marker){var l=e.marker.color,s=(e.marker.line||{}).color;l&&!i(l)?o=l:s&&!i(s)&&(o=s)}n("fillcolor",r.addOpacity((e.line||{}).color||o||a,.5))}},681:function(t,e,a){"use strict";t.exports=function(t,e,a){"spline"===a("line.shape")&&a("line.smoothing")}},682:function(t,e,a){"use strict";var r=a(6),i=a(623),n=a(23),o=a(651),l=a(57),s=r.fillText;t.exports=function(t,e,a,c){var u=t.cd,d=u[0].trace,p=t.xa,f=t.ya,h=p.c2p(e),g=f.c2p(a),x=[h,g],y=d.hoveron||"",v=-1!==d.mode.indexOf("markers")?3:.5;if(-1!==y.indexOf("points")){var m=function(t){var e=Math.max(v,t.mrc||0),a=p.c2p(t.x)-h,r=f.c2p(t.y)-g;return Math.max(Math.sqrt(a*a+r*r)-e,1-v/e)},k=i.getDistanceFunction(c,(function(t){var e=Math.max(3,t.mrc||0),a=1-1/e,r=Math.abs(p.c2p(t.x)-h);return r<e?a*r/e:r-e+a}),(function(t){var e=Math.max(3,t.mrc||0),a=1-1/e,r=Math.abs(f.c2p(t.y)-g);return r<e?a*r/e:r-e+a}),m);if(i.getClosest(u,k,t),!1!==t.index){var b=u[t.index],_=p.c2p(b.x,!0),A=f.c2p(b.y,!0),w=b.mrc||1;t.index=b.i;var M=u[0].t.orientation,T=M&&(b.sNorm||b.s),S="h"===M?T:b.x,L="v"===M?T:b.y;return r.extendFlat(t,{color:o(d,b),x0:_-w,x1:_+w,xLabelVal:S,y0:A-w,y1:A+w,yLabelVal:L,spikeDistance:m(b),hovertemplate:d.hovertemplate}),s(b,d,t),n.getComponentMethod("errorbars","hoverInfo")(b,d,t),[t]}}if(-1!==y.indexOf("fills")&&d._polygons){var I,F,C,P,R,O,D,z,j,N=d._polygons,G=[],B=!1,E=1/0,Z=-1/0,H=1/0,U=-1/0;for(I=0;I<N.length;I++)(C=N[I]).contains(x)&&(B=!B,G.push(C),H=Math.min(H,C.ymin),U=Math.max(U,C.ymax));if(B){var V=((H=Math.max(H,0))+(U=Math.min(U,f._length)))/2;for(I=0;I<G.length;I++)for(P=G[I].pts,F=1;F<P.length;F++)(z=P[F-1][1])>V!=(j=P[F][1])>=V&&(O=P[F-1][0],D=P[F][0],j-z&&(R=O+(D-O)*(V-z)/(j-z),E=Math.min(E,R),Z=Math.max(Z,R)));E=Math.max(E,0),Z=Math.min(Z,p._length);var q=l.defaultLine;return l.opacity(d.fillcolor)?q=d.fillcolor:l.opacity((d.line||{}).color)&&(q=d.line.color),r.extendFlat(t,{distance:t.maxHoverDistance,x0:E,x1:Z,y0:V,y1:V,color:q,hovertemplate:!1}),delete t.index,d.text&&!Array.isArray(d.text)?t.text=String(d.text):t.text=d.name,[t]}}}},688:function(t,e,a){"use strict";var r={tonextx:1,tonexty:1,tonext:1};t.exports=function(t,e,a){var i,n,o,l,s,c={},u=!1,d=-1,p=0,f=-1;for(n=0;n<a.length;n++)(o=(i=a[n][0].trace).stackgroup||"")?o in c?s=c[o]:(s=c[o]=p,p++):i.fill in r&&f>=0?s=f:(s=f=p,p++),s<d&&(u=!0),i._groupIndex=d=s;var h=a.slice();u&&h.sort((function(t,e){var a=t[0].trace,r=e[0].trace;return a._groupIndex-r._groupIndex||a.index-r.index}));var g={};for(n=0;n<h.length;n++)o=(i=h[n][0].trace).stackgroup||"",!0===i.visible?(i._nexttrace=null,i.fill in r&&(l=g[o],i._prevtrace=l||null,l&&(l._nexttrace=i)),i._ownfill=i.fill&&("tozero"===i.fill.substr(0,6)||"toself"===i.fill||"to"===i.fill.substr(0,2)&&!i._prevtrace),g[o]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return h}},696:function(t,e,a){"use strict";var r=a(24),i=a(23),n=a(6),o=n.ensureSingle,l=n.identity,s=a(106),c=a(206),u=a(697),d=a(688),p=a(753).tester;function f(t,e,a,d,f,h,g){var x;!function(t,e,a,i,o){var l=a.xaxis,s=a.yaxis,u=r.extent(n.simpleMap(l.range,l.r2c)),d=r.extent(n.simpleMap(s.range,s.r2c)),p=i[0].trace;if(!c.hasMarkers(p))return;var f=p.marker.maxdisplayed;if(0===f)return;var h=i.filter((function(t){return t.x>=u[0]&&t.x<=u[1]&&t.y>=d[0]&&t.y<=d[1]})),g=Math.ceil(h.length/f),x=0;o.forEach((function(t,a){var r=t[0].trace;c.hasMarkers(r)&&r.marker.maxdisplayed>0&&a<e&&x++}));var y=Math.round(x*g/3+Math.floor(x/3)*g/7.1);i.forEach((function(t){delete t.vis})),h.forEach((function(t,e){0===Math.round((e+y)%g)&&(t.vis=!0)}))}(0,e,a,d,f);var y=!!g&&g.duration>0;function v(t){return y?t.transition():t}var m=a.xaxis,k=a.yaxis,b=d[0].trace,_=b.line,A=r.select(h),w=o(A,"g","errorbars"),M=o(A,"g","lines"),T=o(A,"g","points"),S=o(A,"g","text");if(i.getComponentMethod("errorbars","plot")(t,w,a,g),!0===b.visible){var L,I;v(A).style("opacity",b.opacity);var F=b.fill.charAt(b.fill.length-1);"x"!==F&&"y"!==F&&(F=""),d[0][a.isRangePlot?"nodeRangePlot3":"node3"]=A;var C,P,R="",O=[],D=b._prevtrace;D&&(R=D._prevRevpath||"",I=D._nextFill,O=D._polygons);var z,j,N,G,B,E,Z,H="",U="",V=[],q=n.noop;if(L=b._ownFill,c.hasLines(b)||"none"!==b.fill){for(I&&I.datum(d),-1!==["hv","vh","hvh","vhv"].indexOf(_.shape)?(z=s.steps(_.shape),j=s.steps(_.shape.split("").reverse().join(""))):z=j="spline"===_.shape?function(t){var e=t[t.length-1];return t.length>1&&t[0][0]===e[0]&&t[0][1]===e[1]?s.smoothclosed(t.slice(1),_.smoothing):s.smoothopen(t,_.smoothing)}:function(t){return"M"+t.join("L")},N=function(t){return j(t.reverse())},V=u(d,{xaxis:m,yaxis:k,connectGaps:b.connectgaps,baseTolerance:Math.max(_.width||1,3)/4,shape:_.shape,simplify:_.simplify,fill:b.fill}),Z=b._polygons=new Array(V.length),x=0;x<V.length;x++)b._polygons[x]=p(V[x]);V.length&&(G=V[0][0],E=(B=V[V.length-1])[B.length-1]),q=function(t){return function(e){if(C=z(e),P=N(e),H?F?(H+="L"+C.substr(1),U=P+"L"+U.substr(1)):(H+="Z"+C,U=P+"Z"+U):(H=C,U=P),c.hasLines(b)&&e.length>1){var a=r.select(this);if(a.datum(d),t)v(a.style("opacity",0).attr("d",C).call(s.lineGroupStyle)).style("opacity",1);else{var i=v(a);i.attr("d",C),s.singleLineStyle(d,i)}}}}}var Y=M.selectAll(".js-line").data(V);v(Y.exit()).style("opacity",0).remove(),Y.each(q(!1)),Y.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(s.lineGroupStyle).each(q(!0)),s.setClipUrl(Y,a.layerClipId,t),V.length?(L?(L.datum(d),G&&E&&(F?("y"===F?G[1]=E[1]=k.c2p(0,!0):"x"===F&&(G[0]=E[0]=m.c2p(0,!0)),v(L).attr("d","M"+E+"L"+G+"L"+H.substr(1)).call(s.singleFillStyle)):v(L).attr("d",H+"Z").call(s.singleFillStyle))):I&&("tonext"===b.fill.substr(0,6)&&H&&R?("tonext"===b.fill?v(I).attr("d",H+"Z"+R+"Z").call(s.singleFillStyle):v(I).attr("d",H+"L"+R.substr(1)+"Z").call(s.singleFillStyle),b._polygons=b._polygons.concat(O)):(X(I),b._polygons=null)),b._prevRevpath=U,b._prevPolygons=Z):(L?X(L):I&&X(I),b._polygons=b._prevRevpath=b._prevPolygons=null),T.datum(d),S.datum(d),function(e,i,n){var o,u=n[0].trace,d=c.hasMarkers(u),p=c.hasText(u),f=tt(u),h=et,g=et;if(d||p){var x=l,b=u.stackgroup,_=b&&"infer zero"===t._fullLayout._scatterStackOpts[m._id+k._id][b].stackgaps;u.marker.maxdisplayed||u._needsCull?x=_?J:W:b&&!_&&(x=$),d&&(h=x),p&&(g=x)}var A,w=(o=e.selectAll("path.point").data(h,f)).enter().append("path").classed("point",!0);y&&w.call(s.pointStyle,u,t).call(s.translatePoints,m,k).style("opacity",0).transition().style("opacity",1),o.order(),d&&(A=s.makePointStyleFns(u)),o.each((function(e){var i=r.select(this),n=v(i);s.translatePoint(e,n,m,k)?(s.singlePointStyle(e,n,u,A,t),a.layerClipId&&s.hideOutsideRangePoint(e,n,m,k,u.xcalendar,u.ycalendar),u.customdata&&i.classed("plotly-customdata",null!==e.data&&void 0!==e.data)):n.remove()})),y?o.exit().transition().style("opacity",0).remove():o.exit().remove(),(o=i.selectAll("g").data(g,f)).enter().append("g").classed("textpoint",!0).append("text"),o.order(),o.each((function(t){var e=r.select(this),i=v(e.select("text"));s.translatePoint(t,i,m,k)?a.layerClipId&&s.hideOutsideRangePoint(t,e,m,k,u.xcalendar,u.ycalendar):e.remove()})),o.selectAll("text").call(s.textPointStyle,u,t).each((function(t){var e=m.c2p(t.x),a=k.c2p(t.y);r.select(this).selectAll("tspan.line").each((function(){v(r.select(this)).attr({x:e,y:a})}))})),o.exit().remove()}(T,S,d);var K=!1===b.cliponaxis?null:a.layerClipId;s.setClipUrl(T,K,t),s.setClipUrl(S,K,t)}function X(t){v(t).attr("d","M0,0Z")}function W(t){return t.filter((function(t){return!t.gap&&t.vis}))}function J(t){return t.filter((function(t){return t.vis}))}function $(t){return t.filter((function(t){return!t.gap}))}function Q(t){return t.id}function tt(t){if(t.ids)return Q}function et(){return!1}}t.exports=function(t,e,a,i,n,c){var u,p,h=!n,g=!!n&&n.duration>0,x=d(t,e,a);((u=i.selectAll("g.trace").data(x,(function(t){return t[0].trace.uid}))).enter().append("g").attr("class",(function(t){return"trace scatter trace"+t[0].trace.uid})).style("stroke-miterlimit",2),u.order(),function(t,e,a){e.each((function(e){var i=o(r.select(this),"g","fills");s.setClipUrl(i,a.layerClipId,t);var n=e[0].trace,c=[];n._ownfill&&c.push("_ownFill"),n._nexttrace&&c.push("_nextFill");var u=i.selectAll("g").data(c,l);u.enter().append("g"),u.exit().each((function(t){n[t]=null})).remove(),u.order().each((function(t){n[t]=o(r.select(this),"path","js-fill")}))}))}(t,u,e),g)?(c&&(p=c()),r.transition().duration(n.duration).ease(n.easing).each("end",(function(){p&&p()})).each("interrupt",(function(){p&&p()})).each((function(){i.selectAll("g.trace").each((function(a,r){f(t,r,e,a,x,this,n)}))}))):u.each((function(a,r){f(t,r,e,a,x,this,n)}));h&&u.exit().remove(),i.selectAll("path:not([d])").remove()}},697:function(t,e,a){"use strict";var r=a(25),i=r.BADNUM,n=r.LOG_CLIP,o=n+.5,l=n-.5,s=a(6),c=s.segmentsIntersect,u=s.constrain,d=a(213);t.exports=function(t,e){var a,r,n,p,f,h,g,x,y,v,m,k,b,_,A,w,M,T,S=e.xaxis,L=e.yaxis,I="log"===S.type,F="log"===L.type,C=S._length,P=L._length,R=e.connectGaps,O=e.baseTolerance,D=e.shape,z="linear"===D,j=e.fill&&"none"!==e.fill,N=[],G=d.minTolerance,B=t.length,E=new Array(B),Z=0;function H(a){var r=t[a];if(!r)return!1;var n=e.linearized?S.l2p(r.x):S.c2p(r.x),s=e.linearized?L.l2p(r.y):L.c2p(r.y);if(n===i){if(I&&(n=S.c2p(r.x,!0)),n===i)return!1;F&&s===i&&(n*=Math.abs(S._m*P*(S._m>0?o:l)/(L._m*C*(L._m>0?o:l)))),n*=1e3}if(s===i){if(F&&(s=L.c2p(r.y,!0)),s===i)return!1;s*=1e3}return[n,s]}function U(t,e,a,r){var i=a-t,n=r-e,o=.5-t,l=.5-e,s=i*i+n*n,c=i*o+n*l;if(c>0&&c<s){var u=o*n-l*i;if(u*u<s)return!0}}function V(t,e){var a=t[0]/C,r=t[1]/P,i=Math.max(0,-a,a-1,-r,r-1);return i&&void 0!==M&&U(a,r,M,T)&&(i=0),i&&e&&U(a,r,e[0]/C,e[1]/P)&&(i=0),(1+d.toleranceGrowth*i)*O}function q(t,e){var a=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(a*a+r*r)}var Y,K,X,W,J,$,Q,tt=d.maxScreensAway,et=-C*tt,at=C*(1+tt),rt=-P*tt,it=P*(1+tt),nt=[[et,rt,at,rt],[at,rt,at,it],[at,it,et,it],[et,it,et,rt]];function ot(t){if(t[0]<et||t[0]>at||t[1]<rt||t[1]>it)return[u(t[0],et,at),u(t[1],rt,it)]}function lt(t,e){return t[0]===e[0]&&(t[0]===et||t[0]===at)||(t[1]===e[1]&&(t[1]===rt||t[1]===it)||void 0)}function st(t,e,a){return function(r,i){var n=ot(r),o=ot(i),l=[];if(n&&o&&lt(n,o))return l;n&&l.push(n),o&&l.push(o);var c=2*s.constrain((r[t]+i[t])/2,e,a)-((n||r)[t]+(o||i)[t]);c&&((n&&o?c>0==n[t]>o[t]?n:o:n||o)[t]+=c);return l}}function ct(t){var e=t[0],a=t[1],r=e===E[Z-1][0],i=a===E[Z-1][1];if(!r||!i)if(Z>1){var n=e===E[Z-2][0],o=a===E[Z-2][1];r&&(e===et||e===at)&&n?o?Z--:E[Z-1]=t:i&&(a===rt||a===it)&&o?n?Z--:E[Z-1]=t:E[Z++]=t}else E[Z++]=t}function ut(t){E[Z-1][0]!==t[0]&&E[Z-1][1]!==t[1]&&ct([X,W]),ct(t),J=null,X=W=0}function dt(t){if(M=t[0]/C,T=t[1]/P,Y=t[0]<et?et:t[0]>at?at:0,K=t[1]<rt?rt:t[1]>it?it:0,Y||K){if(Z)if(J){var e=Q(J,t);e.length>1&&(ut(e[0]),E[Z++]=e[1])}else $=Q(E[Z-1],t)[0],E[Z++]=$;else E[Z++]=[Y||t[0],K||t[1]];var a=E[Z-1];Y&&K&&(a[0]!==Y||a[1]!==K)?(J&&(X!==Y&&W!==K?ct(X&&W?(r=J,n=(i=t)[0]-r[0],o=(i[1]-r[1])/n,(r[1]*i[0]-i[1]*r[0])/n>0?[o>0?et:at,it]:[o>0?at:et,rt]):[X||Y,W||K]):X&&W&&ct([X,W])),ct([Y,K])):X-Y&&W-K&&ct([Y||X,K||W]),J=t,X=Y,W=K}else J&&ut(Q(J,t)[0]),E[Z++]=t;var r,i,n,o}for("linear"===D||"spline"===D?Q=function(t,e){for(var a=[],r=0,i=0;i<4;i++){var n=nt[i],o=c(t[0],t[1],e[0],e[1],n[0],n[1],n[2],n[3]);o&&(!r||Math.abs(o.x-a[0][0])>1||Math.abs(o.y-a[0][1])>1)&&(o=[o.x,o.y],r&&q(o,t)<q(a[0],t)?a.unshift(o):a.push(o),r++)}return a}:"hv"===D||"vh"===D?Q=function(t,e){var a=[],r=ot(t),i=ot(e);return r&&i&&lt(r,i)||(r&&a.push(r),i&&a.push(i)),a}:"hvh"===D?Q=st(0,et,at):"vhv"===D&&(Q=st(1,rt,it)),a=0;a<B;a++)if(r=H(a)){for(Z=0,J=null,dt(r),a++;a<B;a++){if(!(p=H(a))){if(R)continue;break}if(z&&e.simplify){var pt=H(a+1);if(v=q(p,r),j&&(0===Z||Z===B-1)||!(v<V(p,pt)*G)){for(x=[(p[0]-r[0])/v,(p[1]-r[1])/v],f=r,m=v,k=_=A=0,g=!1,n=p,a++;a<t.length;a++){if(h=pt,pt=H(a+1),!h){if(R)continue;break}if(w=(y=[h[0]-r[0],h[1]-r[1]])[0]*x[1]-y[1]*x[0],_=Math.min(_,w),(A=Math.max(A,w))-_>V(h,pt))break;n=h,(b=y[0]*x[0]+y[1]*x[1])>m?(m=b,p=h,g=!1):b<k&&(k=b,f=h,g=!0)}if(g?(dt(p),n!==f&&dt(f)):(f!==r&&dt(f),n!==p&&dt(p)),dt(n),a>=t.length||!h)break;dt(h),r=h}}else dt(p)}J&&ct([X||J[0],W||J[1]]),N.push(E.slice(0,Z))}return N}},698:function(t,e,a){"use strict";var r=a(206);t.exports=function(t,e){var a,i,n,o,l=t.cd,s=t.xaxis,c=t.yaxis,u=[],d=l[0].trace;if(!r.hasMarkers(d)&&!r.hasText(d))return[];if(!1===e)for(a=0;a<l.length;a++)l[a].selected=0;else for(a=0;a<l.length;a++)i=l[a],n=s.c2p(i.x),o=c.c2p(i.y),null!==i.i&&e.contains([n,o],!1,a,t)?(u.push({pointNumber:i.i,x:s.c2d(i.x),y:c.c2d(i.y)}),i.selected=1):i.selected=0;return u}},731:function(t,e,a){"use strict";var r=a(6),i=a(58),n=a(624).defaults;t.exports=function(t,e,a,o){var l,s,c=o.type,u=o.attributes,d=o.handleDefaults,p=o.partition||"x",f=e._subplots[c],h=f.length,g=h&&f[0].replace(/\d+$/,"");function x(t,e){return r.coerce(l,s,u,t,e)}for(var y=0;y<h;y++){var v=f[y];l=t[v]?t[v]:t[v]={},s=i.newContainer(e,v,g),x("uirevision",e.uirevision);var m={};m[p]=[y/h,(y+1)/h],n(s,e,x,m),o.id=v,d(l,s,x,o)}}},903:function(t,e,a){"use strict";t.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},943:function(t,e,a){"use strict";var r=a(150).hovertemplateAttrs,i=a(150).texttemplateAttrs,n=a(32).extendFlat,o=a(207),l=a(59),s=o.line;t.exports={mode:o.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the radial coordinates"},theta:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the angular coordinates"},r0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `r`.","Builds a linear space of r coordinates.","Use with `dr`","where `r0` is the starting coordinate and `dr` the step."].join(" ")},dr:{valType:"number",dflt:1,role:"info",editType:"calc",description:"Sets the r coordinate step."},theta0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `theta`.","Builds a linear space of theta coordinates.","Use with `dtheta`","where `theta0` is the starting coordinate and `dtheta` the step."].join(" ")},dtheta:{valType:"number",role:"info",editType:"calc",description:["Sets the theta coordinate step.","By default, the `dtheta` step equals the subplot's period divided","by the length of the `r` coordinates."].join(" ")},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",role:"info",editType:"calc+clearAxisTypes",description:["Sets the unit of input *theta* values.","Has an effect only when on *linear* angular axes."].join(" ")},text:o.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:o.hovertext,line:{color:s.color,width:s.width,dash:s.dash,shape:n({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:o.connectgaps,marker:o.marker,cliponaxis:n({},o.cliponaxis,{dflt:!1}),textposition:o.textposition,textfont:o.textfont,fill:n({},o.fill,{values:["none","toself","tonext"],dflt:"none",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterpolar has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:o.fillcolor,hoverinfo:n({},l.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:o.hoveron,hovertemplate:r(),selected:o.selected,unselected:o.unselected}}}]);