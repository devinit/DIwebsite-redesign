(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1044:function(e,t,r){"use strict";var n=r(1199),i=r(684);function o(e,t){this.point=e,this.index=t}function a(e,t){for(var r=e.point,n=t.point,i=r.length,o=0;o<i;++o){var a=n[o]-r[o];if(a)return a}return 0}e.exports=function(e,t){var r=e.length;if(0===r)return[];var s=e[0].length;if(s<1)return[];if(1===s)return function(e,t,r){if(1===e)return r?[[-1,0]]:[];var n=t.map((function(e,t){return[e[0],t]}));n.sort((function(e,t){return e[0]-t[0]}));for(var i=new Array(e-1),o=1;o<e;++o){var a=n[o-1],s=n[o];i[o-1]=[a[1],s[1]]}r&&i.push([-1,i[0][1]],[i[e-1][1],-1]);return i}(r,e,t);for(var l=new Array(r),c=1,h=0;h<r;++h){for(var d=e[h],f=new Array(s+1),u=0,p=0;p<s;++p){var v=d[p];f[p]=v,u+=v*v}f[s]=u,l[h]=new o(f,h),c=Math.max(u,c)}i(l,a),r=l.length;var y=new Array(r+s+1),g=new Array(r+s+1),m=(s+1)*(s+1)*c,x=new Array(s+1);for(h=0;h<=s;++h)x[h]=0;x[s]=m,y[0]=x.slice(),g[0]=-1;for(h=0;h<=s;++h){(f=x.slice())[h]=1,y[h+1]=f,g[h+1]=-1}for(h=0;h<r;++h){var w=l[h];y[h+s+1]=w.point,g[h+s+1]=w.index}var T=n(y,!1);T=t?T.filter((function(e){for(var t=0,r=0;r<=s;++r){var n=g[e[r]];if(n<0&&++t>=2)return!1;e[r]=n}return!0})):T.filter((function(e){for(var t=0;t<=s;++t){var r=g[e[t]];if(r<0)return!1;e[t]=r}return!0}));if(1&s)for(h=0;h<T.length;++h){f=(w=T[h])[0];w[0]=w[1],w[1]=f}return T}},1275:function(e,t){e.exports=function(e,t){var i=e.length,o=e.length-t.length;if(o)return o;switch(i){case 0:return 0;case 1:return e[0]-t[0];case 2:return e[0]+e[1]-t[0]-t[1]||r(e[0],e[1])-r(t[0],t[1]);case 3:var a=e[0]+e[1],s=t[0]+t[1];if(o=a+e[2]-(s+t[2]))return o;var l=r(e[0],e[1]),c=r(t[0],t[1]);return r(l,e[2])-r(c,t[2])||r(l+e[2],a)-r(c+t[2],s);case 4:var h=e[0],d=e[1],f=e[2],u=e[3],p=t[0],v=t[1],y=t[2],g=t[3];return h+d+f+u-(p+v+y+g)||r(h,d,f,u)-r(p,v,y,g,p)||r(h+d,h+f,h+u,d+f,d+u,f+u)-r(p+v,p+y,p+g,v+y,v+g,y+g)||r(h+d+f,h+d+u,h+f+u,d+f+u)-r(p+v+y,p+v+g,p+y+g,v+y+g);default:for(var m=e.slice().sort(n),x=t.slice().sort(n),w=0;w<i;++w)if(o=m[w]-x[w])return o;return 0}};var r=Math.min;function n(e,t){return e-t}},1276:function(e,t,r){"use strict";e.exports=function(e){for(var t=1,r=1;r<e.length;++r)for(var n=0;n<r;++n)if(e[r]<e[n])t=-t;else if(e[n]===e[r])return 0;return t}},1585:function(e,t,r){"use strict";e.exports={attributes:r(868),supplyDefaults:r(1586),calc:r(1587),colorbar:{min:"cmin",max:"cmax"},plot:r(1588),moduleType:"trace",name:"mesh3d",basePlotModule:r(760),categories:["gl3d","showLegend"],meta:{description:["Draws sets of triangles with coordinates given by","three 1-dimensional arrays in `x`, `y`, `z` and","(1) a sets of `i`, `j`, `k` indices","(2) Delaunay triangulation or","(3) the Alpha-shape algorithm or","(4) the Convex-hull algorithm"].join(" ")}}},1586:function(e,t,r){"use strict";var n=r(23),i=r(6),o=r(151),a=r(868);e.exports=function(e,t,r,s){function l(r,n){return i.coerce(e,t,a,r,n)}function c(e){var t=e.map((function(e){var t=l(e);return t&&i.isArrayOrTypedArray(t)?t:null}));return t.every((function(e){return e&&e.length===t[0].length}))&&t}c(["x","y","z"])?(c(["i","j","k"]),(!t.i||t.j&&t.k)&&(!t.j||t.k&&t.i)&&(!t.k||t.i&&t.j)?(n.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],s),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach((function(e){l(e)})),l("contour.show")&&(l("contour.color"),l("contour.width")),"intensity"in e?(l("intensity"),l("intensitymode"),o(e,t,s,l,{prefix:"",cLetter:"c"})):(t.showscale=!1,"facecolor"in e?l("facecolor"):"vertexcolor"in e?l("vertexcolor"):l("color",r)),l("text"),l("hovertext"),l("hovertemplate"),t._length=null):t.visible=!1):t.visible=!1}},1587:function(e,t,r){"use strict";var n=r(210);e.exports=function(e,t){t.intensity&&n(e,t,{vals:t.intensity,containerStr:"",cLetter:"c"})}},1588:function(e,t,r){"use strict";var n=r(941),i=r(1044),o=r(1589),a=r(1270),s=r(694).parseColorScale,l=r(662),c=r(208).extractOpts,h=r(869);function d(e,t,r){this.scene=e,this.uid=r,this.mesh=t,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var f=d.prototype;function u(e){for(var t=[],r=e.length,n=0;n<r;n++)t[n]=l(e[n]);return t}function p(e,t,r,n){for(var i=[],o=t.length,a=0;a<o;a++)i[a]=e.d2l(t[a],0,n)*r;return i}function v(e){for(var t=[],r=e.length,n=0;n<r;n++)t[n]=Math.round(e[n]);return t}function y(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n]<=-.5||e[n]>=t-.5)return!1;return!0}f.handlePick=function(e){if(e.object===this.mesh){var t=e.index=e.data.index;e.data._cellCenter?e.traceCoordinate=e.data.dataCoordinate:e.traceCoordinate=[this.data.x[t],this.data.y[t],this.data.z[t]];var r=this.data.hovertext||this.data.text;return Array.isArray(r)&&void 0!==r[t]?e.textLabel=r[t]:r&&(e.textLabel=r),!0}},f.update=function(e){var t=this.scene,r=t.fullSceneLayout;this.data=e;var n,d=e.x.length,f=h(p(r.xaxis,e.x,t.dataScale[0],e.xcalendar),p(r.yaxis,e.y,t.dataScale[1],e.ycalendar),p(r.zaxis,e.z,t.dataScale[2],e.zcalendar));if(e.i&&e.j&&e.k){if(e.i.length!==e.j.length||e.j.length!==e.k.length||!y(e.i,d)||!y(e.j,d)||!y(e.k,d))return;n=h(v(e.i),v(e.j),v(e.k))}else n=0===e.alphahull?a(f):e.alphahull>0?o(e.alphahull,f):function(e,t){for(var r=["x","y","z"].indexOf(e),n=[],o=t.length,a=0;a<o;a++)n[a]=[t[a][(r+1)%3],t[a][(r+2)%3]];return i(n)}(e.delaunayaxis,f);var g={positions:f,cells:n,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:l(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading};if(e.intensity){var m=c(e);this.color="#fff";var x=e.intensitymode;g[x+"Intensity"]=e.intensity,g[x+"IntensityBounds"]=[m.min,m.max],g.colormap=s(e)}else e.vertexcolor?(this.color=e.vertexcolor[0],g.vertexColors=u(e.vertexcolor)):e.facecolor?(this.color=e.facecolor[0],g.cellColors=u(e.facecolor)):(this.color=e.color,g.meshColor=l(e.color));this.mesh.update(g)},f.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},e.exports=function(e,t){var r=e.glplot.gl,i=n({gl:r}),o=new d(e,i,t.uid);return i._trace=o,o.update(t),e.glplot.add(i),o}},1589:function(e,t,r){e.exports=function(e,t){return i(n(e,t))};var n=r(1590),i=r(1593)},1590:function(e,t,r){"use strict";e.exports=function(e,t){return n(t).filter((function(r){for(var n=new Array(r.length),o=0;o<r.length;++o)n[o]=t[r[o]];return i(n)*e<1}))};var n=r(1044),i=r(1591)},1591:function(e,t,r){e.exports=function(e){for(var t=n(e),r=0,i=0;i<e.length;++i)for(var o=e[i],a=0;a<t.length;++a)r+=Math.pow(o[a]-t[a],2);return Math.sqrt(r/e.length)};var n=r(1592)},1592:function(e,t,r){"use strict";var n=r(762),i=r(1271);function o(e,t){for(var r=0,n=e.length,i=0;i<n;++i)r+=e[i]*t[i];return r}function a(e){var t=e.length;if(0===t)return[];e[0].length;var r=n([e.length+1,e.length+1],1),a=n([e.length+1],1);r[t][t]=0;for(var s=0;s<t;++s){for(var l=0;l<=s;++l)r[l][s]=r[s][l]=2*o(e[s],e[l]);a[s]=o(e[s],e[s])}var c=i(r,a),h=0,d=c[t+1];for(s=0;s<d.length;++s)h+=d[s];var f=new Array(t);for(s=0;s<t;++s){d=c[s];var u=0;for(l=0;l<d.length;++l)u+=d[l];f[s]=u/h}return f}function s(e){if(0===e.length)return[];for(var t=e[0].length,r=n([t]),i=a(e),o=0;o<e.length;++o)for(var s=0;s<t;++s)r[s]+=e[o][s]*i[o];return r}s.barycenetric=a,e.exports=s},1593:function(e,t,r){"use strict";e.exports=function(e){return i(n(e))};var n=r(1594),i=r(1595)},1594:function(e,t,r){"use strict";e.exports=function(e){var t,r,n,i=e.length,o=0;for(t=0;t<i;++t)o+=e[t].length;var a=new Array(o),s=0;for(t=0;t<i;++t){var l=e[t],c=l.length;for(r=0;r<c;++r){var h=a[s++]=new Array(c-1),d=0;for(n=0;n<c;++n)n!==r&&(h[d++]=l[n]);if(1&r){var f=h[1];h[1]=h[0],h[0]=f}}}return a}},1595:function(e,t,r){"use strict";var n=r(1275),i=r(1596),o=r(1276);e.exports=function(e){e.sort(i);for(var t=e.length,r=0,a=0;a<t;++a){var s=e[a],l=o(s);if(0!==l){if(r>0){var c=e[r-1];if(0===n(s,c)&&o(c)!==l){r-=1;continue}}e[r++]=s}}return e.length=r,e}},1596:function(e,t,r){"use strict";var n=r(1275),i=r(1276);e.exports=function(e,t){return n(e,t)||i(e)-i(t)}},261:function(e,t,r){"use strict";e.exports=r(1585)},806:function(e,t,r){"use strict";var n=r(57),i=r(111),o=r(150).hovertemplateAttrs,a=r(59),s=r(32).extendFlat,l=r(109).overrideAll;function c(e){return{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not these contour lines are projected","on the",e,"plane.","If `highlight` is set to *true* (the default), the projected","lines are shown on hover.","If `show` is set to *true*, the projected lines are shown","in permanence."].join(" ")}}function h(e){return{show:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not contour lines about the",e,"dimension are drawn."].join(" ")},start:{valType:"number",dflt:null,role:"style",editType:"plot",description:["Sets the starting contour level value.","Must be less than `contours.end`"].join(" ")},end:{valType:"number",dflt:null,role:"style",editType:"plot",description:["Sets the end contour level value.","Must be more than `contours.start`"].join(" ")},size:{valType:"number",dflt:null,min:0,role:"style",editType:"plot",description:["Sets the step between each contour level.","Must be positive."].join(" ")},project:{x:c("x"),y:c("y"),z:c("z")},color:{valType:"color",role:"style",dflt:n.defaultLine,description:"Sets the color of the contour lines."},usecolormap:{valType:"boolean",role:"info",dflt:!1,description:["An alternate to *color*.","Determines whether or not the contour lines are colored using","the trace *colorscale*."].join(" ")},width:{valType:"number",role:"style",min:1,max:16,dflt:2,description:"Sets the width of the contour lines."},highlight:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not contour lines about the",e,"dimension are highlighted on hover."].join(" ")},highlightcolor:{valType:"color",role:"style",dflt:n.defaultLine,description:"Sets the color of the highlighted contour lines."},highlightwidth:{valType:"number",role:"style",min:1,max:16,dflt:2,description:"Sets the width of the highlighted contour lines."}}}var d=e.exports=l(s({z:{valType:"data_array",description:"Sets the z coordinates."},x:{valType:"data_array",description:"Sets the x coordinates."},y:{valType:"data_array",description:"Sets the y coordinates."},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets the text elements associated with each z value.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:"Same as `text`."},hovertemplate:o(),connectgaps:{valType:"boolean",dflt:!1,role:"info",editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the `z` data are filled in."].join(" ")},surfacecolor:{valType:"data_array",description:["Sets the surface color values,","used for setting a color scale independent of `z`."].join(" ")}},i("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:h("x"),y:h("y"),z:h("z")},hidesurface:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not a surface is drawn.","For example, set `hidesurface` to *false*","`contours.x.show` to *true* and","`contours.y.show` to *true* to draw a wire frame plot."].join(" ")},lightposition:{x:{valType:"number",role:"style",min:-1e5,max:1e5,dflt:10,description:"Numeric vector, representing the X coordinate for each vertex."},y:{valType:"number",role:"style",min:-1e5,max:1e5,dflt:1e4,description:"Numeric vector, representing the Y coordinate for each vertex."},z:{valType:"number",role:"style",min:-1e5,max:1e5,dflt:0,description:"Numeric vector, representing the Z coordinate for each vertex."}},lighting:{ambient:{valType:"number",role:"style",min:0,max:1,dflt:.8,description:"Ambient light increases overall color visibility but can wash out the image."},diffuse:{valType:"number",role:"style",min:0,max:1,dflt:.8,description:"Represents the extent that incident rays are reflected in a range of angles."},specular:{valType:"number",role:"style",min:0,max:2,dflt:.05,description:"Represents the level that incident rays are reflected in a single direction, causing shine."},roughness:{valType:"number",role:"style",min:0,max:1,dflt:.5,description:"Alters specular reflection; the rougher the surface, the wider and less contrasty the shine."},fresnel:{valType:"number",role:"style",min:0,max:5,dflt:.2,description:["Represents the reflectance as a dependency of the viewing angle; e.g. paper is reflective","when viewing it from the edge of the paper (almost 90 degrees), causing shine."].join(" ")}},opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,description:["Sets the opacity of the surface.","Please note that in the case of using high `opacity` values for example a value","greater than or equal to 0.5 on two surfaces (and 0.25 with four surfaces), an","overlay of multiple transparent surfaces may not perfectly be sorted in depth by the","webgl API. This behavior may be improved in the near future and is subject to change."].join(" ")},opacityscale:{valType:"any",role:"style",editType:"calc",description:["Sets the opacityscale."," The opacityscale must be an array containing"," arrays mapping a normalized value to an opacity value."," At minimum, a mapping for the lowest (0) and highest (1)"," values are required. For example,"," `[[0, 1], [0.5, 0.2], [1, 1]]` means that higher/lower values would have"," higher opacity values and those in the middle would be more transparent"," Alternatively, `opacityscale` may be a palette name string"," of the following list: 'min', 'max', 'extremes' and 'uniform'."," The default is 'uniform'."].join("")},_deprecated:{zauto:s({},i.zauto,{description:"Obsolete. Use `cauto` instead."}),zmin:s({},i.zmin,{description:"Obsolete. Use `cmin` instead."}),zmax:s({},i.zmax,{description:"Obsolete. Use `cmax` instead."})},hoverinfo:s({},a.hoverinfo),showlegend:s({},a.showlegend,{dflt:!1})}),"calc","nested");d.x.editType=d.y.editType=d.z.editType="calc+clearAxisTypes",d.transforms=void 0},868:function(e,t,r){"use strict";var n=r(111),i=r(150).hovertemplateAttrs,o=r(806),a=r(59),s=r(32).extendFlat;e.exports=s({x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the X coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the Y coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},z:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the Z coordinates of the vertices. The nth element of vectors `x`, `y` and `z`","jointly represent the X, Y and Z coordinates of the nth vertex."].join(" ")},i:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *first* vertex of a triangle. For example, `{i[m], j[m], k[m]}`","together represent face m (triangle m) in the mesh, where `i[m] = n` points to the triplet","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `i` represents a","point in space, which is the first vertex of a triangle."].join(" ")},j:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *second* vertex of a triangle. For example, `{i[m], j[m], k[m]}` ","together represent face m (triangle m) in the mesh, where `j[m] = n` points to the triplet","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `j` represents a","point in space, which is the second vertex of a triangle."].join(" ")},k:{valType:"data_array",editType:"calc",description:["A vector of vertex indices, i.e. integer values between 0 and the length of the vertex","vectors, representing the *third* vertex of a triangle. For example, `{i[m], j[m], k[m]}`","together represent face m (triangle m) in the mesh, where `k[m] = n` points to the triplet ","`{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `k` represents a","point in space, which is the third vertex of a triangle."].join(" ")},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"calc",description:["Sets the text elements associated with the vertices.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"calc",description:"Same as `text`."},hovertemplate:i({editType:"calc"}),delaunayaxis:{valType:"enumerated",role:"info",values:["x","y","z"],dflt:"z",editType:"calc",description:["Sets the Delaunay axis, which is the axis that is perpendicular to the surface of the","Delaunay triangulation.","It has an effect if `i`, `j`, `k` are not provided and `alphahull` is set to indicate","Delaunay triangulation."].join(" ")},alphahull:{valType:"number",role:"style",dflt:-1,editType:"calc",description:["Determines how the mesh surface triangles are derived from the set of","vertices (points) represented by the `x`, `y` and `z` arrays, if","the `i`, `j`, `k` arrays are not supplied.","For general use of `mesh3d` it is preferred that `i`, `j`, `k` are","supplied.","If *-1*, Delaunay triangulation is used, which is mainly suitable if the","mesh is a single, more or less layer surface that is perpendicular to `delaunayaxis`.","In case the `delaunayaxis` intersects the mesh surface at more than one point","it will result triangles that are very long in the dimension of `delaunayaxis`.","If *>0*, the alpha-shape algorithm is used. In this case, the positive `alphahull` value","signals the use of the alpha-shape algorithm, _and_ its value","acts as the parameter for the mesh fitting.","If *0*,  the convex-hull algorithm is used. It is suitable for convex bodies","or if the intention is to enclose the `x`, `y` and `z` point set into a convex","hull."].join(" ")},intensity:{valType:"data_array",editType:"calc",description:["Sets the intensity values for vertices or cells","as defined by `intensitymode`.","It can be used for plotting fields on meshes."].join(" ")},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc",role:"info",description:["Determines the source of `intensity` values."].join(" ")},color:{valType:"color",role:"style",editType:"calc",description:"Sets the color of the whole mesh"},vertexcolor:{valType:"data_array",role:"style",editType:"calc",description:["Sets the color of each vertex","Overrides *color*. While Red, green and blue colors","are in the range of 0 and 255; in the case of having","vertex color data in RGBA format, the alpha color","should be normalized to be between 0 and 1."].join(" ")},facecolor:{valType:"data_array",role:"style",editType:"calc",description:["Sets the color of each face","Overrides *color* and *vertexcolor*."].join(" ")},transforms:void 0},n("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:o.opacity,flatshading:{valType:"boolean",role:"style",dflt:!1,editType:"calc",description:["Determines whether or not normal smoothing is applied to the meshes,","creating meshes with an angular, low-poly look via flat reflections."].join(" ")},contour:{show:s({},o.contours.x.show,{description:["Sets whether or not dynamic contours are shown on hover"].join(" ")}),color:o.contours.x.color,width:o.contours.x.width,editType:"calc"},lightposition:{x:s({},o.lightposition.x,{dflt:1e5}),y:s({},o.lightposition.y,{dflt:1e5}),z:s({},o.lightposition.z,{dflt:0}),editType:"calc"},lighting:s({vertexnormalsepsilon:{valType:"number",role:"style",min:0,max:1,dflt:1e-12,editType:"calc",description:"Epsilon for vertex normals calculation avoids math issues arising from degenerate geometry."},facenormalsepsilon:{valType:"number",role:"style",min:0,max:1,dflt:1e-6,editType:"calc",description:"Epsilon for face normals calculation avoids math issues arising from degenerate geometry."},editType:"calc"},o.lighting),hoverinfo:s({},a.hoverinfo,{editType:"calc"}),showlegend:s({},a.showlegend,{dflt:!1})})},869:function(e,t,r){"use strict";e.exports=function(e,t,r,n){n=n||e.length;for(var i=new Array(n),o=0;o<n;o++)i[o]=[e[o],t[o],r[o]];return i}}}]);