/*! For license information please see chart93f5af47f796f8ed105e.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1108:function(e,t,n){"use strict";e.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each((function(e){e.regl&&e.regl.clear({color:!0,depth:!0})}))}},1109:function(e,t,n){"use strict";var r=n(378),a=n(393).id2name,o=n(1654),i=n(470).makePadFn,l=n(470).concatExtremes,s=n(388).ALMOST_EQUAL,c=n(408).FROM_BL;function u(e,t,n,r,o){var i,l,s,c,u="range"!==o,d=r[a(t)].type,h=[];for(l=0;l<n.length;l++)if((s=n[l])!==t&&(c=r[a(s)]).type===d)if(c.fixedrange){if(u&&c.anchor){r[a(c.anchor)].fixedrange&&h.push(s)}}else h.push(s);for(i=0;i<e.length;i++)if(e[i][t]){var f=e[i],p=[];for(l=0;l<h.length;l++)f[s=h[l]]||p.push(s);return{linkableAxes:p,thisGroup:f}}return{linkableAxes:h,thisGroup:null}}function d(e,t,n,r,a){var o,i,l,s,c;null===t?((t={})[n]=1,c=e.length,e.push(t)):c=e.indexOf(t);var u=Object.keys(t);for(o=0;o<e.length;o++)if(l=e[o],o!==c&&l[r]){var d=l[r];for(i=0;i<u.length;i++)l[s=u[i]]=d*a*t[s];return void e.splice(c,1)}if(1!==a)for(i=0;i<u.length;i++)t[u[i]]*=a;t[r]=1}function h(e,t){var n=e._inputDomain,r=c[e.constraintoward],a=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[a+(n[0]-a)/t,a+(n[1]-a)/t],e.setScale()}t.handleConstraintDefaults=function(e,t,n,a){var o,i,l,s,c=a.allAxisIds,h=a.layoutOut,f=a.scaleanchorDflt,p=a.constrainDflt,m=h._axisConstraintGroups,v=h._axisMatchGroups,g=t._id,y=g.charAt(0),x=((h._splomAxes||{})[y]||{})[g]||{},_=t._id,b=_.charAt(0),w=n("constrain",p);if(r.coerce(e,t,{constraintoward:{valType:"enumerated",values:"x"===b?["left","center","right"]:["bottom","middle","top"],dflt:"x"===b?"center":"middle"}},"constraintoward"),!e.matches&&!x.matches||t.fixedrange||(i=u(v,_,c,h),o=r.coerce(e,t,{matches:{valType:"enumerated",values:i.linkableAxes||[],dflt:x.matches}},"matches")),o||t.fixedrange&&"domain"!==w||!e.scaleanchor&&!f||(s=u(m,_,c,h,w),l=r.coerce(e,t,{scaleanchor:{valType:"enumerated",values:s.linkableAxes||[]}},"scaleanchor",f)),o?(delete t.constrain,d(v,i.thisGroup,_,o,1)):-1!==c.indexOf(e.matches)&&r.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid either an infinite loop or because the target axis has fixed range.'),l){var M=n("scaleratio");M||(M=t.scaleratio=1),d(m,s.thisGroup,_,l,M)}else-1!==c.indexOf(e.scaleanchor)&&r.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the target axis has fixed range or this axis declares a *matches* constraint.')},t.enforce=function(e){var t,n,r,c,u,d,f,p=e._fullLayout,m=p._axisConstraintGroups||[];for(t=0;t<m.length;t++){var v=m[t],g=Object.keys(v),y=1/0,x=0,_=1/0,b={},w={},M=!1;for(n=0;n<g.length;n++)w[r=g[n]]=c=p[a(r)],c._inputDomain?c.domain=c._inputDomain.slice():c._inputDomain=c.domain.slice(),c._inputRange||(c._inputRange=c.range.slice()),c.setScale(),b[r]=u=Math.abs(c._m)/v[r],y=Math.min(y,u),"domain"!==c.constrain&&c._constraintShrinkable||(_=Math.min(_,u)),delete c._constraintShrinkable,x=Math.max(x,u),"domain"===c.constrain&&(M=!0);if(!(y>s*x)||M)for(n=0;n<g.length;n++)if(u=b[r=g[n]],d=(c=w[r]).constrain,u!==_||"domain"===d)if(f=u/_,"range"===d)o(c,f);else{var S=c._inputDomain,z=(c.domain[1]-c.domain[0])/(S[1]-S[0]),k=(c.r2l(c.range[1])-c.r2l(c.range[0]))/(c.r2l(c._inputRange[1])-c.r2l(c._inputRange[0]));if((f/=z)*k<1){c.domain=c._input.domain=S.slice(),o(c,f);continue}if(k<1&&(c.range=c._input.range=c._inputRange.slice(),f*=k),c.autorange){var L=c.r2l(c.range[0]),I=c.r2l(c.range[1]),A=(L+I)/2,C=A,R=A,P=Math.abs(I-A),T=A-P*f*1.0001,E=A+P*f*1.0001,q=i(c);h(c,f);var D,F,Z=Math.abs(c._m),B=l(e,c),O=B.min,N=B.max;for(F=0;F<O.length;F++)(D=O[F].val-q(O[F])/Z)>T&&D<C&&(C=D);for(F=0;F<N.length;F++)(D=N[F].val+q(N[F])/Z)<E&&D>R&&(R=D);f/=(R-C)/(2*P),C=c.l2r(C),R=c.l2r(R),c.range=c._input.range=L<I?[C,R]:[R,C]}h(c,f)}}},t.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,a=e._fullLayout._axisConstraintGroups,o=0;o<a.length;o++)if(a[o][r]){n=!0;break}n&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},1519:function(e,t,n){"use strict";var r=n(870),a=n(1539),o=a.CIRCLE_SIDES,i=a.SQRT2,l=n(1540),s=l.p2r,c=l.r2p,u=[0,3,4,5,6,1,2],d=[0,3,4,1,2];function h(e,t){return Math.abs(e-t)<=1e-6}function f(e,t){var n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+r*r)}t.writePaths=function(e){var t=e.length;if(!t)return"M0,0Z";for(var n="",r=0;r<t;r++)for(var a=e[r].length,o=0;o<a;o++){var i=e[r][o][0];if("Z"===i)n+="Z";else for(var l=e[r][o].length,s=0;s<l;s++){var c=s;"Q"===i||"S"===i?c=d[s]:"C"===i&&(c=u[s]),n+=e[r][o][c],s>0&&s<l-1&&(n+=",")}}return n},t.readPaths=function(e,t,n,a){var i,l,u,d=r(e),h=[],f=-1,p=0,m=0,v=function(){l=p,u=m};v();for(var g=0;g<d.length;g++){var y,x,_,b,w=[],M=d[g][0],S=M;switch(M){case"M":f++,h[f]=[],p=+d[g][1],m=+d[g][2],w.push([S,p,m]),v();break;case"Q":case"S":y=+d[g][1],_=+d[g][2],p=+d[g][3],m=+d[g][4],w.push([S,p,m,y,_]);break;case"C":y=+d[g][1],_=+d[g][2],x=+d[g][3],b=+d[g][4],p=+d[g][5],m=+d[g][6],w.push([S,p,m,y,_,x,b]);break;case"T":case"L":p=+d[g][1],m=+d[g][2],w.push([S,p,m]);break;case"H":S="L",p=+d[g][1],w.push([S,p,m]);break;case"V":S="L",m=+d[g][1],w.push([S,p,m]);break;case"A":S="L";var z=+d[g][1],k=+d[g][2];+d[g][4]||(z=-z,k=-k);var L=p-z,I=m;for(i=1;i<=o/2;i++){var A=2*Math.PI*i/o;w.push([S,L+z*Math.cos(A),I+k*Math.sin(A)])}break;case"Z":p===l&&m===u||(p=l,m=u,w.push([S,p,m]))}for(var C=(n||{}).domain,R=t._fullLayout._size,P=n&&"pixel"===n.xsizemode,T=n&&"pixel"===n.ysizemode,E=!1===a,q=0;q<w.length;q++){for(i=0;i+2<7;i+=2){var D=w[q][i+1],F=w[q][i+2];void 0!==D&&void 0!==F&&(p=D,m=F,n&&(n.xaxis&&n.xaxis.p2r?(E&&(D-=n.xaxis._offset),D=P?c(n.xaxis,n.xanchor)+D:s(n.xaxis,D)):(E&&(D-=R.l),C?D=C.x[0]+D/R.w:D/=R.w),n.yaxis&&n.yaxis.p2r?(E&&(F-=n.yaxis._offset),F=T?c(n.yaxis,n.yanchor)-F:s(n.yaxis,F)):(E&&(F-=R.t),F=C?C.y[1]-F/R.h:1-F/R.h)),w[q][i+1]=D,w[q][i+2]=F)}h[f].push(w[q].slice())}}return h},t.pointsShapeRectangle=function(e){if(5!==e.length)return!1;for(var t=1;t<3;t++){if(!h(e[0][t]-e[1][t],e[3][t]-e[2][t]))return!1;if(!h(e[0][t]-e[3][t],e[1][t]-e[2][t]))return!1}return!(!h(e[0][1],e[1][1])&&!h(e[0][1],e[3][1]))&&!!(f(e[0],e[1])*f(e[0],e[3]))},t.pointsShapeEllipse=function(e){var t=e.length;if(t!==o+1)return!1;t=o;for(var n=0;n<t;n++){var r=(2*t-n)%t,a=(t/2+r)%t,i=(t/2+n)%t;if(!h(f(e[n],e[i]),f(e[r],e[a])))return!1}return!0},t.handleEllipse=function(e,n,r){if(!e)return[n,r];var a=t.ellipseOver({x0:n[0],y0:n[1],x1:r[0],y1:r[1]}),l=(a.x1+a.x0)/2,s=(a.y1+a.y0)/2,c=(a.x1-a.x0)/2,u=(a.y1-a.y0)/2;c||(c=u/=i),u||(u=c/=i);for(var d=[],h=0;h<o;h++){var f=2*h*Math.PI/o;d.push([l+c*Math.cos(f),s+u*Math.sin(f)])}return d},t.ellipseOver=function(e){var t=e.x0,n=e.y0,r=e.x1,a=e.y1,o=r-t,l=a-n,s=((t-=o)+r)/2,c=((n-=l)+a)/2;return{x0:s-(o*=i),y0:c-(l*=i),x1:s+o,y1:c+l}}},1539:function(e,t,n){"use strict";e.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},1540:function(e,t,n){"use strict";function r(e,t){switch(e.type){case"log":return e.p2d(t);case"date":return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}e.exports={p2r:r,r2p:function(e,t){switch(e.type){case"log":return e.d2p(t);case"date":return e.r2p(t,0,e.calendar);default:return e.r2p(t)}},axValue:function(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return r(e,n[t])}},getTransform:function(e){return"translate("+e.xaxis._offset+","+e.yaxis._offset+")"}}},1652:function(e,t,n){"use strict";var r=n(435),a=n(566).drawMode,o=n(379),i=n(1539),l=i.i000,s=i.i090,c=i.i180,u=i.i270,d=n(1175).clearOutlineControllers,h=n(1519),f=h.pointsShapeRectangle,p=h.pointsShapeEllipse,m=h.writePaths,v=n(1653);e.exports=function e(t,n,i,h){h||(h=0);var g=i.gd;function y(){e(t,n,i,h++),p(t[0])&&x({redrawing:!0})}function x(e){i.isActiveShape=!1;var t=v(n,i);Object.keys(t).length&&o.call((e||{}).redrawing?"relayout":"_guiRelayout",g,t)}var _,b,w,M,S,z=i.isActiveShape,k=g._fullLayout._zoomlayer,L=i.dragmode;(a(L)?g._fullLayout._drawing=!0:g._fullLayout._activeShapeIndex>=0&&d(g),n.attr("d",m(t)),z&&!h)&&(S=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[n]=[];for(var a=0;a<r.length;a++){e[n][a]=[];for(var o=0;o<r[a].length;o++)e[n][a][o]=r[a][o]}}return e}([],t),function(e){_=[];for(var n=0;n<t.length;n++){var a=t[n],o=!f(a)&&p(a);_[n]=[];for(var i=0;i<a.length;i++)if("Z"!==a[i][0]&&(!o||i===l||i===s||i===c||i===u)){var d=a[i][1],h=a[i][2],m=e.append("circle").classed("cursor-grab",!0).attr("data-i",n).attr("data-j",i).attr("cx",d).attr("cy",h).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});_[n][i]={element:m.node(),gd:g,prepFn:I,doneFn:C,clickFn:R},r.init(_[n][i])}}}(k.append("g").attr("class","outline-controllers")),function(){if(b=[],!t.length)return;b[0]={element:n[0][0],gd:g,prepFn:T,doneFn:E},r.init(b[0])}());function I(e){w=+e.srcElement.getAttribute("data-i"),M=+e.srcElement.getAttribute("data-j"),_[w][M].moveFn=A}function A(e,n){if(t.length){var r=S[w][M][1],a=S[w][M][2],o=t[w],i=o.length;if(f(o)){for(var l=0;l<i;l++)if(l!==M){var s=o[l];s[1]===o[M][1]&&(s[1]=r+e),s[2]===o[M][2]&&(s[2]=a+n)}if(o[M][1]=r+e,o[M][2]=a+n,!f(o))for(var c=0;c<i;c++)for(var u=0;u<o[c].length;u++)o[c][u]=S[w][c][u]}else o[M][1]=r+e,o[M][2]=a+n;y()}}function C(){x()}function R(e,n){if(2===e){w=+n.srcElement.getAttribute("data-i"),M=+n.srcElement.getAttribute("data-j");var r=t[w];f(r)||p(r)||function(){if(t.length&&t[w]&&t[w].length){for(var e=[],n=0;n<t[w].length;n++)n!==M&&e.push(t[w][n]);e.length>1&&(2!==e.length||"Z"!==e[1][0])&&(0===M&&(e[0][0]="M"),t[w]=e,y(),x())}}()}}function P(e,n){!function(e,n){if(t.length)for(var r=0;r<t.length;r++)for(var a=0;a<t[r].length;a++)for(var o=0;o+2<t[r][a].length;o+=2)t[r][a][o+1]=S[r][a][o+1]+e,t[r][a][o+2]=S[r][a][o+2]+n}(e,n),y()}function T(e){(w=+e.srcElement.getAttribute("data-i"))||(w=0),b[w].moveFn=P}function E(){x()}}},1653:function(e,t,n){"use strict";var r=n(566),a=r.drawMode,o=r.openMode,i=n(1539),l=i.i000,s=i.i090,c=i.i180,u=i.i270,d=i.cos45,h=i.sin45,f=n(1540),p=f.p2r,m=f.r2p,v=n(1175).clearSelect,g=n(1519),y=g.readPaths,x=g.writePaths,_=g.ellipseOver;e.exports=function(e,t){if(e.length){var n=e[0][0];if(n){var r=n.getAttribute("d"),i=t.gd,f=i._fullLayout.newshape,g=t.plotinfo,b=g.xaxis,w=g.yaxis,M=!!g.domain||!g.xaxis,S=!!g.domain||!g.yaxis,z=t.isActiveShape,k=t.dragmode,L=(i.layout||{}).shapes||[];if(!a(k)&&void 0!==z){var I=i._fullLayout._activeShapeIndex;if(I<L.length)switch(i._fullLayout.shapes[I].type){case"rect":k="drawrect";break;case"circle":k="drawcircle";break;case"line":k="drawline";break;case"path":var A=L[I].path||"";k="Z"===A[A.length-1]?"drawclosedpath":"drawopenpath"}}var C,R=o(k),P=y(r,i,g,z),T={editable:!0,xref:M?"paper":b._id,yref:S?"paper":w._id,layer:f.layer,opacity:f.opacity,line:{color:f.line.color,width:f.line.width,dash:f.line.dash}};if(R||(T.fillcolor=f.fillcolor,T.fillrule=f.fillrule),1===P.length&&(C=P[0]),C&&"drawrect"===k)T.type="rect",T.x0=C[0][1],T.y0=C[0][2],T.x1=C[2][1],T.y1=C[2][2];else if(C&&"drawline"===k)T.type="line",T.x0=C[0][1],T.y0=C[0][2],T.x1=C[1][1],T.y1=C[1][2];else if(C&&"drawcircle"===k){T.type="circle";var E=C[l][1],q=C[s][1],D=C[c][1],F=C[u][1],Z=C[l][2],B=C[s][2],O=C[c][2],N=C[u][2],H=g.xaxis&&("date"===g.xaxis.type||"log"===g.xaxis.type),V=g.yaxis&&("date"===g.yaxis.type||"log"===g.yaxis.type);H&&(E=m(g.xaxis,E),q=m(g.xaxis,q),D=m(g.xaxis,D),F=m(g.xaxis,F)),V&&(Z=m(g.yaxis,Z),B=m(g.yaxis,B),O=m(g.yaxis,O),N=m(g.yaxis,N));var G=(q+F)/2,j=(Z+O)/2,U=_({x0:G,y0:j,x1:G+(F-q+D-E)/2*d,y1:j+(N-B+O-Z)/2*h});H&&(U.x0=p(g.xaxis,U.x0),U.x1=p(g.xaxis,U.x1)),V&&(U.y0=p(g.yaxis,U.y0),U.y1=p(g.yaxis,U.y1)),T.x0=U.x0,T.y0=U.y0,T.x1=U.x1,T.y1=U.y1}else T.type="path",b&&w&&function(e,t,n){var r="date"===t.type,a="date"===n.type;if(!r&&!a)return e;for(var o=0;o<e.length;o++)for(var i=0;i<e[o].length;i++)for(var l=0;l+2<e[o][i].length;l+=2)r&&(e[o][i][l+1]=e[o][i][l+1].replace(" ","_")),a&&(e[o][i][l+2]=e[o][i][l+2].replace(" ","_"))}(P,b,w),T.path=x(P),C=null;v(i);for(var X=t.editHelpers,J=(X||{}).modifyItem,Q=[],Y=0;Y<L.length;Y++){var K=i._fullLayout.shapes[Y];if(Q[Y]=K._input,void 0!==z&&Y===i._fullLayout._activeShapeIndex){var W=T;switch(K.type){case"line":case"rect":case"circle":J("x0",W.x0),J("x1",W.x1),J("y0",W.y0),J("y1",W.y1);break;case"path":J("path",W.path)}}}return void 0===z?(Q.push(T),Q):X?X.getUpdateObj():{}}}}},1654:function(e,t,n){"use strict";var r=n(408).FROM_BL;e.exports=function(e,t,n){void 0===n&&(n=r[e.constraintoward||"center"]);var a=[e.r2l(e.range[0]),e.r2l(e.range[1])],o=a[0]+(a[1]-a[0])*n;e.range=e._input.range=[e.l2r(o+(a[0]-o)*t),e.l2r(o+(a[1]-o)*t)]}},1780:function(e,t,n){"use strict";t.manage=n(1781)},1781:function(e,t,n){"use strict";var r=n(393),a=n(387),o=n(379),i=n(471).isUnifiedHover,l=n(1782),s=n(1783);e.exports=function(e){var t=e._fullLayout,n=e._context,u=t._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d,h=n.modeBarButtons;d=Array.isArray(h)&&h.length?function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var a=n[r];if("string"==typeof a){if(void 0===s[a])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=s[a]}}return e}(h):!n.displayModeBar&&n.watermark?[]:function(e){var t=e._fullLayout,n=e._fullData,l=e._context,u=l.modeBarButtonsToRemove,d=l.modeBarButtonsToAdd,h=t._has("cartesian"),f=t._has("gl3d"),p=t._has("geo"),m=t._has("pie"),v=t._has("funnelarea"),g=t._has("gl2d"),y=t._has("ternary"),x=t._has("mapbox"),_=t._has("polar"),b=t._has("sankey"),w=function(e){for(var t=r.list({_fullLayout:e},null,!0),n=0;n<t.length;n++)if(!t[n].fixedrange)return!1;return!0}(t),M=i(t.hovermode),S=[];function z(e){if(e.length){for(var t=[],n=0;n<e.length;n++){var r=e[n];-1===u.indexOf(r)&&t.push(s[r])}S.push(t)}}var k=["toImage"];l.showEditInChartStudio?k.push("editInChartStudio"):l.showSendToCloud&&k.push("sendDataToCloud");z(k);var L=[],I=[],A=[],C=[];(h||g||m||v||y)+p+f+x+_>1?(I=["toggleHover"],A=["resetViews"]):p?(L=["zoomInGeo","zoomOutGeo"],I=["hoverClosestGeo"],A=["resetGeo"]):f?(I=["hoverClosest3d"],A=["resetCameraDefault3d","resetCameraLastSave3d"]):x?(L=["zoomInMapbox","zoomOutMapbox"],I=["toggleHover"],A=["resetViewMapbox"]):g?I=["hoverClosestGl2d"]:m?I=["hoverClosestPie"]:b?(I=["hoverClosestCartesian","hoverCompareCartesian"],A=["resetViewSankey"]):I=["toggleHover"];h&&(I=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);(function(e){for(var t=0;t<e.length;t++)if(!o.traceIs(e[t],"noHover"))return!1;return!0}(n)||M)&&(I=[]);!h&&!g||w||(L=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==A[0]&&(A=["resetScale2d"]));f?C=["zoom3d","pan3d","orbitRotation","tableRotation"]:(h||g)&&!w||y?C=["zoom2d","pan2d"]:x||p?C=["pan2d"]:_&&(C=["zoom2d"]);(function(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&(o.traceIs(r,"scatter-like")?(a.hasMarkers(r)||a.hasText(r))&&(t=!0):o.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(t=!0))}return t})(n)&&C.push("select2d","lasso2d");if(Array.isArray(d)){for(var R=[],P=0;P<d.length;P++){var T=d[P];"string"==typeof T?-1!==c.indexOf(T)&&(t._has("mapbox")||t._has("cartesian"))&&C.push(T):R.push(T)}d=R}return z(C),z(L.concat(A)),z(I),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}(S,d)}(e),u?u.update(e,d):t._modeBar=l(e,d)}else u&&(u.destroy(),delete t._modeBar)};var c=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"]},1782:function(e,t,n){"use strict";var r=n(381),a=n(383),o=n(378),i=n(848),l=new DOMParser;function s(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var c=s.prototype;c.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,a="modebar-"+r._uid;this.element.setAttribute("id",a),this._uid=a,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var i=r.modebar,l="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(a),o.addRelatedStyleRule(a,l+"#"+a+" .modebar-group","background-color: "+i.bgcolor),o.addRelatedStyleRule(a,"#"+a+" .modebar-btn .icon path","fill: "+i.color),o.addRelatedStyleRule(a,"#"+a+" .modebar-btn:hover .icon path","fill: "+i.activecolor),o.addRelatedStyleRule(a,"#"+a+" .modebar-btn.active .icon path","fill: "+i.activecolor);var s=!this.hasButtons(t),c=this.hasLogo!==n.displaylogo,u=this.locale!==n.locale;if(this.locale=n.locale,(s||c||u)&&(this.removeAllButtons(),this.updateButtons(t),n.watermark||n.displaylogo)){var d=this.getLogo();n.watermark&&(d.className=d.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(d,this.element.childNodes[0]):this.element.appendChild(d),this.hasLogo=!0}this.updateActiveButton()},c.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(e){var n=t.createGroup();e.forEach((function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var a=t.createButton(e);t.buttonElements.push(a),n.appendChild(a)})),t.element.appendChild(n)}))},c.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},c.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var a=e.title;void 0===a?a=e.name:"function"==typeof a&&(a=a(this.graphInfo)),(a||0===a)&&n.setAttribute("data-title",a),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var o=e.val;if(void 0!==o&&("function"==typeof o&&(o=o(this.graphInfo)),n.setAttribute("data-val",o)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",(function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)})),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&r.select(n).classed("active",!0);var l=e.icon;return"function"==typeof l?n.appendChild(l()):n.appendChild(this.createIcon(l||i.question)),n.setAttribute("data-gravity",e.gravity||"n"),n},c.createIcon=function(e){var t,n=a(e.height)?Number(e.height):e.ascent-e.descent,r="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,e.width,n].join(" ")),t.setAttribute("class","icon");var o=document.createElementNS(r,"path");o.setAttribute("d",e.path),e.transform?o.setAttribute("transform",e.transform):void 0!==e.ascent&&o.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(o)}e.svg&&(t=l.parseFromString(e.svg,"application/xml").childNodes[0]);return t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},c.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach((function(e){var a=e.getAttribute("data-val")||!0,i=e.getAttribute("data-attr"),l="true"===e.getAttribute("data-toggle"),s=r.select(e);if(l)i===n&&s.classed("active",!s.classed("active"));else{var c=null===i?i:o.nestedProperty(t,i).get();s.classed("active",c===a)}}))},c.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},c.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plotly.com/",t.target="_blank",t.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(i.newplotlylogo)),e.appendChild(t),e},c.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},c.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},e.exports=function(e,t){var n=e._fullLayout,a=new s({graphInfo:e,container:n._modebardiv.node(),buttons:t});return n._privateplot&&r.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}},1783:function(e,t,n){"use strict";var r=n(379),a=n(390),o=n(393),i=n(848),l=n(869).eraseActiveShape,s=n(378),c=s._,u=e.exports={};function d(e,t){var n,a,i=t.currentTarget,l=i.getAttribute("data-attr"),s=i.getAttribute("data-val")||!0,c=e._fullLayout,u={},d=o.list(e,null,!0),h=c._cartesianSpikesEnabled;if("zoom"===l){var f,p="in"===s?.5:2,m=(1+p)/2,v=(1-p)/2;for(a=0;a<d.length;a++)if(!(n=d[a]).fixedrange)if(f=n._name,"auto"===s)u[f+".autorange"]=!0;else if("reset"===s){if(void 0===n._rangeInitial)u[f+".autorange"]=!0;else{var g=n._rangeInitial.slice();u[f+".range[0]"]=g[0],u[f+".range[1]"]=g[1]}void 0!==n._showSpikeInitial&&(u[f+".showspikes"]=n._showSpikeInitial,"on"!==h||n._showSpikeInitial||(h="off"))}else{var y=[n.r2l(n.range[0]),n.r2l(n.range[1])],x=[m*y[0]+v*y[1],m*y[1]+v*y[0]];u[f+".range[0]"]=n.l2r(x[0]),u[f+".range[1]"]=n.l2r(x[1])}}else"hovermode"!==l||"x"!==s&&"y"!==s||(s=c._isHoriz?"y":"x",i.setAttribute("data-val",s)),u[l]=s;c._cartesianSpikesEnabled=h,r.call("_guiRelayout",e,u)}function h(e,t){for(var n=t.currentTarget,a=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,i=e._fullLayout._subplots.gl3d||[],l={},s=a.split("."),c=0;c<i.length;c++)l[i[c]+"."+s[1]]=o;var u="pan"===o?o:"zoom";l.dragmode=u,r.call("_guiRelayout",e,l)}function f(e,t){for(var n=t.currentTarget.getAttribute("data-attr"),a=e._fullLayout,o=a._subplots.gl3d||[],i={},l=0;l<o.length;l++){var s,c=o[l],u=c+".camera",d=c+".aspectratio",h=c+".aspectmode",f=a[c]._scene;"resetLastSave"===n?(i[u+".up"]=f.viewInitial.up,i[u+".eye"]=f.viewInitial.eye,i[u+".center"]=f.viewInitial.center,s=!0):"resetDefault"===n&&(i[u+".up"]=null,i[u+".eye"]=null,i[u+".center"]=null,s=!0),s&&(i[d+".x"]=f.viewInitial.aspectratio.x,i[d+".y"]=f.viewInitial.aspectratio.y,i[d+".z"]=f.viewInitial.aspectratio.z,i[h]=f.viewInitial.aspectmode)}r.call("_guiRelayout",e,i)}function p(e,t){var n=t.currentTarget,r=n._previousVal,a=e._fullLayout,o=a._subplots.gl3d||[],i=["xaxis","yaxis","zaxis"],l={},s={};if(r)s=r,n._previousVal=null;else{for(var c=0;c<o.length;c++){var u=o[c],d=a[u],h=u+".hovermode";l[h]=d.hovermode,s[h]=!1;for(var f=0;f<3;f++){var p=i[f],m=u+"."+p+".showspikes";s[m]=!1,l[m]=d[p].showspikes}}n._previousVal=l}return s}function m(e,t){for(var n=t.currentTarget,a=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,i=e._fullLayout,l=i._subplots.geo||[],s=0;s<l.length;s++){var c=l[s],u=i[c];if("zoom"===a){var d=u.projection.scale,h="in"===o?2*d:.5*d;r.call("_guiRelayout",e,c+".projection.scale",h)}}"reset"===a&&x(e,"geo")}function v(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function g(e){var t=v(e);r.call("_guiRelayout",e,"hovermode",t)}function y(e,t){for(var n=t.currentTarget.getAttribute("data-val"),a=e._fullLayout,o=a._subplots.mapbox||[],i={},l=0;l<o.length;l++){var s=o[l],c=a[s].zoom,u="in"===n?1.05*c:c/1.05;i[s+".zoom"]=u}r.call("_guiRelayout",e,i)}function x(e,t){for(var n=e._fullLayout,a=n._subplots[t]||[],o={},i=0;i<a.length;i++)for(var l=a[i],s=n[l]._subplot.viewInitial,c=Object.keys(s),u=0;u<c.length;u++){var d=c[u];o[l+"."+d]=s[d]}r.call("_guiRelayout",e,o)}u.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return c(e,"png"===t?"Download plot as a png":"Download plot")},icon:i.camera,click:function(e){var t=e._context.toImageButtonOptions,n={format:t.format||"png"};s.notifier(c(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&s.isIE()&&(s.notifier(c(e,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach((function(e){e in t&&(n[e]=t[e])})),r.call("downloadImage",e,n).then((function(t){s.notifier(c(e,"Snapshot succeeded")+" - "+t,"long")})).catch((function(){s.notifier(c(e,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},u.sendDataToCloud={name:"sendDataToCloud",title:function(e){return c(e,"Edit in Chart Studio")},icon:i.disk,click:function(e){a.sendDataToCloud(e)}},u.editInChartStudio={name:"editInChartStudio",title:function(e){return c(e,"Edit in Chart Studio")},icon:i.pencil,click:function(e){a.sendDataToCloud(e)}},u.zoom2d={name:"zoom2d",title:function(e){return c(e,"Zoom")},attr:"dragmode",val:"zoom",icon:i.zoombox,click:d},u.pan2d={name:"pan2d",title:function(e){return c(e,"Pan")},attr:"dragmode",val:"pan",icon:i.pan,click:d},u.select2d={name:"select2d",title:function(e){return c(e,"Box Select")},attr:"dragmode",val:"select",icon:i.selectbox,click:d},u.lasso2d={name:"lasso2d",title:function(e){return c(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:i.lasso,click:d},u.drawclosedpath={name:"drawclosedpath",title:function(e){return c(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:i.drawclosedpath,click:d},u.drawopenpath={name:"drawopenpath",title:function(e){return c(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:i.drawopenpath,click:d},u.drawline={name:"drawline",title:function(e){return c(e,"Draw line")},attr:"dragmode",val:"drawline",icon:i.drawline,click:d},u.drawrect={name:"drawrect",title:function(e){return c(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:i.drawrect,click:d},u.drawcircle={name:"drawcircle",title:function(e){return c(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:i.drawcircle,click:d},u.eraseshape={name:"eraseshape",title:function(e){return c(e,"Erase active shape")},icon:i.eraseshape,click:l},u.zoomIn2d={name:"zoomIn2d",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:d},u.zoomOut2d={name:"zoomOut2d",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:d},u.autoScale2d={name:"autoScale2d",title:function(e){return c(e,"Autoscale")},attr:"zoom",val:"auto",icon:i.autoscale,click:d},u.resetScale2d={name:"resetScale2d",title:function(e){return c(e,"Reset axes")},attr:"zoom",val:"reset",icon:i.home,click:d},u.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return c(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:d},u.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return c(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:i.tooltip_compare,gravity:"ne",click:d},u.zoom3d={name:"zoom3d",title:function(e){return c(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:i.zoombox,click:h},u.pan3d={name:"pan3d",title:function(e){return c(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:i.pan,click:h},u.orbitRotation={name:"orbitRotation",title:function(e){return c(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:i["3d_rotate"],click:h},u.tableRotation={name:"tableRotation",title:function(e){return c(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:i["z-axis"],click:h},u.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return c(e,"Reset camera to default")},attr:"resetDefault",icon:i.home,click:f},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return c(e,"Reset camera to last save")},attr:"resetLastSave",icon:i.movie,click:f},u.hoverClosest3d={name:"hoverClosest3d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(e,t){var n=p(e,t);r.call("_guiRelayout",e,n)}},u.zoomInGeo={name:"zoomInGeo",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:m},u.zoomOutGeo={name:"zoomOutGeo",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:m},u.resetGeo={name:"resetGeo",title:function(e){return c(e,"Reset")},attr:"reset",val:null,icon:i.autoscale,click:m},u.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:g},u.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:g},u.hoverClosestPie={name:"hoverClosestPie",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:g},u.resetViewSankey={name:"resetSankeyGroup",title:function(e){return c(e,"Reset view")},icon:i.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},n=0;n<e._fullData.length;n++){var a=e._fullData[n]._viewInitial;t["node.groups"].push(a.node.groups.slice()),t["node.x"].push(a.node.x.slice()),t["node.y"].push(a.node.y.slice())}r.call("restyle",e,t)}},u.toggleHover={name:"toggleHover",title:function(e){return c(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(e,t){var n=p(e,t);n.hovermode=v(e),r.call("_guiRelayout",e,n)}},u.resetViews={name:"resetViews",title:function(e){return c(e,"Reset views")},icon:i.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),d(e,t),n.setAttribute("data-attr","resetLastSave"),f(e,t),x(e,"geo"),x(e,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(e){return c(e,"Toggle Spike Lines")},icon:i.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,n=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled="on"===n?"off":"on",r.call("_guiRelayout",e,function(e){for(var t="on"===e._fullLayout._cartesianSpikesEnabled,n=o.list(e,null,!0),r={},a=0;a<n.length;a++){var i=n[a];r[i._name+".showspikes"]=!!t||i._showSpikeInitial}return r}(e))}},u.resetViewMapbox={name:"resetViewMapbox",title:function(e){return c(e,"Reset view")},attr:"reset",icon:i.home,click:function(e){x(e,"mapbox")}},u.zoomInMapbox={name:"zoomInMapbox",title:function(e){return c(e,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:y},u.zoomOutMapbox={name:"zoomOutMapbox",title:function(e){return c(e,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:y}},1784:function(e,t,n){var r,a=n(1785),o=n(1786),i=n(1787),l=n(1789),s=n(1790),c=n(1791),u=!1,d=o();function h(e,t,n){var a=r.segments(e),o=r.segments(t),i=n(r.combine(a,o));return r.polygon(i)}r={buildLog:function(e){return!0===e?u=a():!1===e&&(u=!1),!1!==u&&u.list},epsilon:function(e){return d.epsilon(e)},segments:function(e){var t=i(!0,d,u);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:i(!1,d,u).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,u),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,u),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,u),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,u),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,u),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:l(e.segments,d,u),inverted:e.inverted}},polygonFromGeoJSON:function(e){return c.toPolygon(r,e)},polygonToGeoJSON:function(e){return c.fromPolygon(r,d,e)},union:function(e,t){return h(e,t,r.selectUnion)},intersect:function(e,t){return h(e,t,r.selectIntersect)},difference:function(e,t){return h(e,t,r.selectDifference)},differenceRev:function(e,t){return h(e,t,r.selectDifferenceRev)},xor:function(e,t){return h(e,t,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),e.exports=r},1785:function(e,t){e.exports=function(){var e,t=0,n=!1;function r(t,n){return e.list.push({type:t,data:n?JSON.parse(JSON.stringify(n)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return r("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return r("div_seg",{seg:e,pt:t}),r("chop",{seg:e,pt:t})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,t){return r("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,t,n){return r("temp_status",{seg:e,above:t,below:n})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,t,n){return r("status",{seg:e,above:t,below:n})},vert:function(t){return t===n?e:(n=t,r("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,t){return r("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return r("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return r("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,t){return r("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return r("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return r("chain_con",{index1:e,index2:t})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,t){return r("chain_join",{index1:e,index2:t})},done:function(){return r("done")}}}},1786:function(e,t){e.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,r){var a=n[0],o=n[1],i=r[0],l=r[1],s=t[0];return(i-a)*(t[1]-o)-(l-o)*(s-a)>=-e},pointBetween:function(t,n,r){var a=t[1]-n[1],o=r[0]-n[0],i=t[0]-n[0],l=r[1]-n[1],s=i*o+a*l;return!(s<e)&&!(s-(o*o+l*l)>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(e,n){return t.pointsSameX(e,n)&&t.pointsSameY(e,n)},pointsCompare:function(e,n){return t.pointsSameX(e,n)?t.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1},pointsCollinear:function(t,n,r){var a=t[0]-n[0],o=t[1]-n[1],i=n[0]-r[0],l=n[1]-r[1];return Math.abs(a*l-i*o)<e},linesIntersect:function(t,n,r,a){var o=n[0]-t[0],i=n[1]-t[1],l=a[0]-r[0],s=a[1]-r[1],c=o*s-i*l;if(Math.abs(c)<e)return!1;var u=t[0]-r[0],d=t[1]-r[1],h=(l*d-s*u)/c,f=(o*d-i*u)/c,p={alongA:0,alongB:0,pt:[t[0]+h*o,t[1]+h*i]};return p.alongA=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p.alongB=f<=-e?-2:f<e?-1:f-1<=-e?0:f-1<e?1:2,p},pointInsideRegion:function(t,n){for(var r=t[0],a=t[1],o=n[n.length-1][0],i=n[n.length-1][1],l=!1,s=0;s<n.length;s++){var c=n[s][0],u=n[s][1];u-a>e!=i-a>e&&(o-c)*(a-u)/(i-u)+c-r>e&&(l=!l),o=c,i=u}return l}};return t}},1787:function(e,t,n){var r=n(1788);e.exports=function(e,t,n){function a(e,t,r){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var o=r.create();function i(e,n){o.insertBefore(e,(function(r){return function(e,n,r,a,o,i){var l=t.pointsCompare(n,o);return 0!==l?l:t.pointsSame(r,i)?0:e!==a?e?1:-1:t.pointAboveOrOnLine(r,a?o:i,a?i:o)?1:-1}(e.isStart,e.pt,n,r.isStart,r.pt,r.other.pt)<0}))}function l(e,t){var n=function(e,t){var n=r.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return i(n,e.end),n}(e,t);return function(e,t,n){var a=r.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=a,i(a,e.pt)}(n,e,t),n}function s(e,t){var r=a(t,e.seg.end,e.seg);return function(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,i(e.other,e.pt)}(e,t),l(r,e.primary)}function c(a,i){var l=r.create();function c(e){return l.findTransition((function(n){var r,a,o,i,l,s;return(r=e,a=n.ev,o=r.seg.start,i=r.seg.end,l=a.seg.start,s=a.seg.end,t.pointsCollinear(o,l,s)?t.pointsCollinear(i,l,s)||t.pointAboveOrOnLine(i,l,s)?1:-1:t.pointAboveOrOnLine(o,l,s)?1:-1)>0}))}function u(e,r){var a=e.seg,o=r.seg,i=a.start,l=a.end,c=o.start,u=o.end;n&&n.checkIntersection(a,o);var d=t.linesIntersect(i,l,c,u);if(!1===d){if(!t.pointsCollinear(i,l,c))return!1;if(t.pointsSame(i,u)||t.pointsSame(l,c))return!1;var h=t.pointsSame(i,c),f=t.pointsSame(l,u);if(h&&f)return r;var p=!h&&t.pointBetween(i,c,u),m=!f&&t.pointBetween(l,c,u);if(h)return m?s(r,l):s(e,u),r;p&&(f||(m?s(r,l):s(e,u)),s(r,i))}else 0===d.alongA&&(-1===d.alongB?s(e,c):0===d.alongB?s(e,d.pt):1===d.alongB&&s(e,u)),0===d.alongB&&(-1===d.alongA?s(r,i):0===d.alongA?s(r,d.pt):1===d.alongA&&s(r,l));return!1}for(var d=[];!o.isEmpty();){var h=o.getHead();if(n&&n.vert(h.pt[0]),h.isStart){n&&n.segmentNew(h.seg,h.primary);var f=c(h),p=f.before?f.before.ev:null,m=f.after?f.after.ev:null;function v(){if(p){var e=u(h,p);if(e)return e}return!!m&&u(h,m)}n&&n.tempStatus(h.seg,!!p&&p.seg,!!m&&m.seg);var g,y=v();if(y){var x;if(e)(x=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below)&&(y.seg.myFill.above=!y.seg.myFill.above);else y.seg.otherFill=h.seg.myFill;n&&n.segmentUpdate(y.seg),h.other.remove(),h.remove()}if(o.getHead()!==h){n&&n.rewind(h.seg);continue}if(e)x=null===h.seg.myFill.below||h.seg.myFill.above!==h.seg.myFill.below,h.seg.myFill.below=m?m.seg.myFill.above:a,h.seg.myFill.above=x?!h.seg.myFill.below:h.seg.myFill.below;else if(null===h.seg.otherFill)g=m?h.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:h.primary?i:a,h.seg.otherFill={above:g,below:g};n&&n.status(h.seg,!!p&&p.seg,!!m&&m.seg),h.other.status=f.insert(r.node({ev:h}))}else{var _=h.status;if(null===_)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(_.prev)&&l.exists(_.next)&&u(_.prev.ev,_.next.ev),n&&n.statusRemove(_.ev.seg),_.remove(),!h.primary){var b=h.seg.myFill;h.seg.myFill=h.seg.otherFill,h.seg.otherFill=b}d.push(h.seg)}o.getHead().remove()}return n&&n.done(),d}return e?{addRegion:function(e){for(var r,a,o,i=e[e.length-1],s=0;s<e.length;s++){r=i,i=e[s];var c=t.pointsCompare(r,i);0!==c&&l((a=c<0?r:i,o=c<0?i:r,{id:n?n.segmentId():-1,start:a,end:o,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return c(e,!1)}}:{calculate:function(e,t,n,r){return e.forEach((function(e){l(a(e.start,e.end,e),!0)})),n.forEach((function(e){l(a(e.start,e.end,e),!1)})),c(t,r)}}}},1788:function(e,t){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var r=e.root,a=e.root.next;null!==a;){if(n(a))return t.prev=a.prev,t.next=a,a.prev.next=t,void(a.prev=t);r=a,a=a.next}r.next=t,t.prev=r,t.next=null},findTransition:function(t){for(var n=e.root,r=e.root.next;null!==r&&!t(r);)n=r,r=r.next;return{before:n===e.root?null:n,after:r,insert:function(e){return e.prev=n,e.next=r,n.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},1789:function(e,t){e.exports=function(e,t,n){var r=[],a=[];return e.forEach((function(e){var o=e.start,i=e.end;if(t.pointsSame(o,i))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(e);for(var l={index:0,matches_head:!1,matches_pt1:!1},s={index:0,matches_head:!1,matches_pt1:!1},c=l,u=0;u<r.length;u++){var d=(v=r[u])[0],h=(v[1],v[v.length-1]);v[v.length-2];if(t.pointsSame(d,o)){if(S(u,!0,!0))break}else if(t.pointsSame(d,i)){if(S(u,!0,!1))break}else if(t.pointsSame(h,o)){if(S(u,!1,!0))break}else if(t.pointsSame(h,i)&&S(u,!1,!1))break}if(c===l)return r.push([o,i]),void(n&&n.chainNew(o,i));if(c===s){n&&n.chainMatch(l.index);var f=l.index,p=l.matches_pt1?i:o,m=l.matches_head,v=r[f],g=m?v[0]:v[v.length-1],y=m?v[1]:v[v.length-2],x=m?v[v.length-1]:v[0],_=m?v[v.length-2]:v[1];return t.pointsCollinear(y,g,p)&&(m?(n&&n.chainRemoveHead(l.index,p),v.shift()):(n&&n.chainRemoveTail(l.index,p),v.pop()),g=y),t.pointsSame(x,p)?(r.splice(f,1),t.pointsCollinear(_,x,g)&&(m?(n&&n.chainRemoveTail(l.index,g),v.pop()):(n&&n.chainRemoveHead(l.index,g),v.shift())),n&&n.chainClose(l.index),void a.push(v)):void(m?(n&&n.chainAddHead(l.index,p),v.unshift(p)):(n&&n.chainAddTail(l.index,p),v.push(p)))}var b=l.index,w=s.index;n&&n.chainConnect(b,w);var M=r[b].length<r[w].length;l.matches_head?s.matches_head?M?(z(b),k(b,w)):(z(w),k(w,b)):k(w,b):s.matches_head?k(b,w):M?(z(b),k(w,b)):(z(w),k(b,w))}function S(e,t,n){return c.index=e,c.matches_head=t,c.matches_pt1=n,c===l?(c=s,!1):(c=null,!0)}function z(e){n&&n.chainReverse(e),r[e].reverse()}function k(e,a){var o=r[e],i=r[a],l=o[o.length-1],s=o[o.length-2],c=i[0],u=i[1];t.pointsCollinear(s,l,c)&&(n&&n.chainRemoveTail(e,l),o.pop(),l=s),t.pointsCollinear(l,c,u)&&(n&&n.chainRemoveHead(a,c),i.shift()),n&&n.chainJoin(e,a),r[e]=o.concat(i),r.splice(a,1)}})),a}},1790:function(e,t){function n(e,t,n){var r=[];return e.forEach((function(e){var a=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[a]&&r.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[a],below:2===t[a]},otherFill:null})})),n&&n.selected(r),r}var r={union:function(e,t){return n(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return n(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return n(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return n(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return n(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};e.exports=r},1791:function(e,t){var n={toPolygon:function(e,t){function n(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}for(var r=n(t[0]),a=1;a<t.length;a++)r=e.selectDifference(e.combine(r,n(t[a])));return r}if("Polygon"===t.type)return e.polygon(n(t.coordinates));if("MultiPolygon"===t.type){for(var r=e.segments({inverted:!1,regions:[]}),a=0;a<t.coordinates.length;a++)r=e.selectUnion(e.combine(r,n(t.coordinates[a])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,n){function r(e,n){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],n)}function a(e){return{region:e,children:[]}}n=e.polygon(e.segments(n));var o=a(null);function i(e,t){for(var n=0;n<e.children.length;n++){if(r(t,(l=e.children[n]).region))return void i(l,t)}var o=a(t);for(n=0;n<e.children.length;n++){var l;r((l=e.children[n]).region,t)&&(o.children.push(l),e.children.splice(n,1),n--)}e.children.push(o)}for(var l=0;l<n.regions.length;l++){var s=n.regions[l];s.length<3||i(o,s)}function c(e,t){for(var n=0,r=e[e.length-1][0],a=e[e.length-1][1],o=[],i=0;i<e.length;i++){var l=e[i][0],s=e[i][1];o.push([l,s]),n+=s*r-l*a,r=l,a=s}return n<0!==t&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var u=[];function d(e){var t=[c(e.region,!1)];u.push(t);for(var n=0;n<e.children.length;n++)t.push(h(e.children[n]))}function h(e){for(var t=0;t<e.children.length;t++)d(e.children[t]);return c(e.region,!0)}for(l=0;l<o.children.length;l++)d(o.children[l]);return u.length<=0?{type:"Polygon",coordinates:[]}:1==u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};e.exports=n},425:function(e,t,n){"use strict";var r=n(1784),a=n(379),o=n(384).dashStyle,i=n(380),l=n(395),s=n(471).makeEventData,c=n(566),u=c.freeMode,d=c.rectMode,h=c.drawMode,f=c.openMode,p=c.selectMode,m=n(1652),v=n(1519).handleEllipse,g=n(1653),y=n(378),x=n(550),_=n(1536),b=n(393).getFromId,w=n(1108),M=n(689).redrawReglTraces,S=n(405),z=S.MINSELECT,k=x.filter,L=x.tester,I=n(1175).clearSelect,A=n(1540),C=A.p2r,R=A.axValue,P=A.getTransform;function T(e,t,n,r,a,o,i){var l,s,c,u,d,h,p,v,g,y=t._hoverdata,x=t._fullLayout.clickmode.indexOf("event")>-1,_=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(y)){F(e,t,o);var b=function(e,t){var n,r,a=e[0],o=-1,i=[];for(r=0;r<t.length;r++)if(n=t[r],a.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===a.hoverOnBox)break;void 0!==a.pointNumber?o=a.pointNumber:void 0!==a.binNumber&&(o=a.binNumber,i=a.pointNumbers);break}return{pointNumber:o,pointNumbers:i,searchInfo:n}}(y,l=B(t,n,r,a));if(b.pointNumbers.length>0?function(e,t){var n,r,a,o=[];for(a=0;a<e.length;a++)(n=e[a]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&o.push(n);if(1===o.length&&o[0]===t.searchInfo&&(r=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(a=0;a<t.pointNumbers.length;a++)if(r.selectedpoints.indexOf(t.pointNumbers[a])<0)return!1;return!0}return!1}(l,b):function(e){var t,n,r,a=0;for(r=0;r<e.length;r++)if(t=e[r],(n=t.cd[0].trace).selectedpoints){if(n.selectedpoints.length>1)return!1;if((a+=n.selectedpoints.length)>1)return!1}return 1===a}(l)&&(h=O(b))){for(i&&i.remove(),g=0;g<l.length;g++)(s=l[g])._module.selectPoints(s,!1);N(t,l),Z(o),x&&t.emit("plotly_deselect",null)}else{for(p=e.shiftKey&&(void 0!==h?h:O(b)),c=function(e,t,n){return{pointNumber:e,searchInfo:t,subtract:n}}(b.pointNumber,b.searchInfo,p),u=D(o.selectionDefs.concat([c])),g=0;g<l.length;g++)if(d=H(l[g]._module.selectPoints(l[g],u),l[g]),_.length)for(var w=0;w<d.length;w++)_.push(d[w]);else _=d;if(N(t,l,v={points:_}),c&&o&&o.selectionDefs.push(c),i){var M=o.mergedPolygons,S=f(o.dragmode);m(V(M,S),i,o)}x&&t.emit("plotly_selected",v)}}}function E(e){return"pointNumber"in e&&"searchInfo"in e}function q(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,n,r,a){var o=e.searchInfo.cd[0].trace._expandedIndex;return a.cd[0].trace._expandedIndex===o&&r===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function D(e){for(var t=[],n=E(e[0])?0:e[0][0][0],r=n,a=E(e[0])?0:e[0][0][1],o=a,i=0;i<e.length;i++)if(E(e[i]))t.push(q(e[i]));else{var l=x.tester(e[i]);l.subtract=e[i].subtract,t.push(l),n=Math.min(n,l.xmin),r=Math.max(r,l.xmax),a=Math.min(a,l.ymin),o=Math.max(o,l.ymax)}return{xmin:n,xmax:r,ymin:a,ymax:o,pts:[],contains:function(e,n,r,a){for(var o=!1,i=0;i<t.length;i++)t[i].contains(e,n,r,a)&&(o=!1===t[i].subtract);return o},isRect:!1,degenerate:!1}}function F(e,t,n){t._fullLayout._drawing=!1;var r=t._fullLayout,a=n.plotinfo,o=n.dragmode,i=r._lastSelectedSubplot&&r._lastSelectedSubplot===a.id,l=(e.shiftKey||e.altKey)&&!(h(o)&&f(o));i&&l&&a.selection&&a.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=a.selection.selectionDefs,n.mergedPolygons=a.selection.mergedPolygons):l&&a.selection||Z(n),i||(I(t),r._lastSelectedSubplot=a.id)}function Z(e){var t=e.dragmode,n=e.plotinfo,r=e.gd;if(r._fullLayout._activeShapeIndex>=0&&r._fullLayout._deactivateShape(r),h(t)){var o=r._fullLayout._zoomlayer.selectAll(".select-outline-"+n.id);if(o&&r._fullLayout._drawing){var i=g(o,e);i&&a.call("_guiRelayout",r,{shapes:i}),r._fullLayout._drawing=!1}}n.selection={},n.selection.selectionDefs=e.selectionDefs=[],n.selection.mergedPolygons=e.mergedPolygons=[]}function B(e,t,n,r){var a,o,i,l=[],s=t.map((function(e){return e._id})),c=n.map((function(e){return e._id}));for(i=0;i<e.calcdata.length;i++)if(!0===(o=(a=e.calcdata[i])[0].trace).visible&&o._module&&o._module.selectPoints)if(!r||o.subplot!==r&&o.geo!==r)if("splom"===o.type&&o._xaxes[s[0]]&&o._yaxes[c[0]]){var u=h(o._module,a,t[0],n[0]);u.scene=e._fullLayout._splomScenes[o.uid],l.push(u)}else if("sankey"===o.type){var d=h(o._module,a,t[0],n[0]);l.push(d)}else{if(-1===s.indexOf(o.xaxis))continue;if(-1===c.indexOf(o.yaxis))continue;l.push(h(o._module,a,b(e,o.xaxis),b(e,o.yaxis)))}else l.push(h(o._module,a,t[0],n[0]));return l;function h(e,t,n,r){return{_module:e,cd:t,xaxis:n,yaxis:r}}}function O(e){var t=e.searchInfo.cd[0].trace,n=e.pointNumber,r=e.pointNumbers,a=r.length>0?r[0]:n;return!!t.selectedpoints&&t.selectedpoints.indexOf(a)>-1}function N(e,t,n){var r,o,i,l;for(r=0;r<t.length;r++){var s=t[r].cd[0].trace._fullInput,c=e._fullLayout._tracePreGUI[s.uid]||{};void 0===c.selectedpoints&&(c.selectedpoints=s._input.selectedpoints||null)}if(n){var u=n.points||[];for(r=0;r<t.length;r++)(l=t[r].cd[0].trace)._input.selectedpoints=l._fullInput.selectedpoints=[],l._fullInput!==l&&(l.selectedpoints=[]);for(r=0;r<u.length;r++){var d=u[r],h=d.data,f=d.fullData;d.pointIndices?([].push.apply(h.selectedpoints,d.pointIndices),l._fullInput!==l&&[].push.apply(f.selectedpoints,d.pointIndices)):(h.selectedpoints.push(d.pointIndex),l._fullInput!==l&&f.selectedpoints.push(d.pointIndex))}}else for(r=0;r<t.length;r++)delete(l=t[r].cd[0].trace).selectedpoints,delete l._input.selectedpoints,l._fullInput!==l&&delete l._fullInput.selectedpoints;var p=!1;for(r=0;r<t.length;r++){l=(i=(o=t[r]).cd)[0].trace,a.traceIs(l,"regl")&&(p=!0);var m=o._module,v=m.styleOnSelect||m.style;v&&(v(e,i,i[0].node3),i[0].nodeRangePlot3&&v(e,i,i[0].nodeRangePlot3))}p&&(w(e),M(e))}function H(e,t){if(Array.isArray(e))for(var n=t.cd,r=t.cd[0].trace,a=0;a<e.length;a++)e[a]=s(e[a],r,n);return e}function V(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var a=0;a<e[r].length;a++){n[r][a]=[],n[r][a][0]=a?"L":"M";for(var o=0;o<e[r][a].length;o++)n[r][a].push(e[r][a][o])}t||n[r].push(["Z",n[r][0][1],n[r][0][2]])}return n}e.exports={prepSelect:function(e,t,n,a,s){var c,g,x,b,w,M,I,A=u(s),E=d(s),q=f(s),O=h(s),G=p(s),j="drawcircle"===s,U="drawline"===s||j,X=a.gd,J=X._fullLayout,Q=J._zoomlayer,Y=a.element.getBoundingClientRect(),K=a.plotinfo,W=P(K),$=t-Y.left,ee=n-Y.top,te=$,ne=ee,re="M"+$+","+ee,ae=a.xaxes[0]._length,oe=a.yaxes[0]._length,ie=a.xaxes.concat(a.yaxes),le=e.altKey&&!(h(s)&&q);F(e,X,a),A&&(c=k([[$,ee]],S.BENDPX));var se=Q.selectAll("path.select-outline-"+K.id).data(O?[0]:[1,2]),ce=J.newshape;se.enter().append("path").attr("class",(function(e){return"select-outline select-outline-"+e+" select-outline-"+K.id})).style(O?{opacity:ce.opacity/2,fill:q?void 0:ce.fillcolor,stroke:ce.line.color,"stroke-dasharray":o(ce.line.dash,ce.line.width),"stroke-width":ce.line.width+"px"}:{}).attr("fill-rule",ce.fillrule).classed("cursor-move",!!O).attr("transform",W).attr("d",re+"Z");var ue,de=Q.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1}).attr("transform",W).attr("d","M0,0Z"),he=J._uid+S.SELECTID,fe=[],pe=B(X,a.xaxes,a.yaxes,a.subplot);function me(e,t){return e-t}ue=K.fillRangeItems?K.fillRangeItems:E?function(e,t){var n=e.range={};for(w=0;w<ie.length;w++){var r=ie[w],a=r._id.charAt(0);n[r._id]=[C(r,t[a+"min"]),C(r,t[a+"max"])].sort(me)}}:function(e,t,n){var r=e.lassoPoints={};for(w=0;w<ie.length;w++){var a=ie[w];r[a._id]=n.filtered.map(R(a))}},a.moveFn=function(e,t){te=Math.max(0,Math.min(ae,e+$)),ne=Math.max(0,Math.min(oe,t+ee));var n=Math.abs(te-$),o=Math.abs(ne-ee);if(E){var i,l,s;if(G){var u=J.selectdirection;switch(i="any"===u?o<Math.min(.6*n,z)?"h":n<Math.min(.6*o,z)?"v":"d":u){case"h":l=j?oe/2:0,s=oe;break;case"v":l=j?ae/2:0,s=ae}}if(O)switch(J.newshape.drawdirection){case"vertical":i="h",l=j?oe/2:0,s=oe;break;case"horizontal":i="v",l=j?ae/2:0,s=ae;break;case"ortho":n<o?(i="h",l=ee,s=ne):(i="v",l=$,s=te);break;default:i="d"}"h"===i?((b=U?v(j,[te,l],[te,s]):[[$,l],[$,s],[te,s],[te,l]]).xmin=U?te:Math.min($,te),b.xmax=U?te:Math.max($,te),b.ymin=Math.min(l,s),b.ymax=Math.max(l,s),de.attr("d","M"+b.xmin+","+(ee-z)+"h-4v"+2*z+"h4ZM"+(b.xmax-1)+","+(ee-z)+"h4v"+2*z+"h-4Z")):"v"===i?((b=U?v(j,[l,ne],[s,ne]):[[l,ee],[l,ne],[s,ne],[s,ee]]).xmin=Math.min(l,s),b.xmax=Math.max(l,s),b.ymin=U?ne:Math.min(ee,ne),b.ymax=U?ne:Math.max(ee,ne),de.attr("d","M"+($-z)+","+b.ymin+"v-4h"+2*z+"v4ZM"+($-z)+","+(b.ymax-1)+"v4h"+2*z+"v-4Z")):"d"===i&&((b=U?v(j,[$,ee],[te,ne]):[[$,ee],[$,ne],[te,ne],[te,ee]]).xmin=Math.min($,te),b.xmax=Math.max($,te),b.ymin=Math.min(ee,ne),b.ymax=Math.max(ee,ne),de.attr("d","M0,0Z"))}else A&&(c.addPt([te,ne]),b=c.filtered);a.selectionDefs&&a.selectionDefs.length?(x=function(e,t,n){if(n)return r.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions;return r.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(a.mergedPolygons,b,le),b.subtract=le,g=D(a.selectionDefs.concat([b]))):(x=[b],g=L(b)),m(V(x,q),se,a),G&&_.throttle(he,S.SELECTDELAY,(function(){var e;fe=[];var t,n=[];for(w=0;w<pe.length;w++)if(t=(M=pe[w])._module.selectPoints(M,g),n.push(t),e=H(t,M),fe.length)for(var r=0;r<e.length;r++)fe.push(e[r]);else fe=e;N(X,pe,I={points:fe}),ue(I,b,c),a.gd.emit("plotly_selecting",I)}))},a.clickFn=function(e,t){if(de.remove(),X._fullLayout._activeShapeIndex>=0)X._fullLayout._deactivateShape(X);else if(!O){var n=J.clickmode;_.done(he).then((function(){if(_.clear(he),2===e){for(se.remove(),w=0;w<pe.length;w++)(M=pe[w])._module.selectPoints(M,!1);N(X,pe),Z(a),X.emit("plotly_deselect",null)}else n.indexOf("select")>-1&&T(t,X,a.xaxes,a.yaxes,a.subplot,a,se),"event"===n&&X.emit("plotly_selected",void 0);l.click(X,t)})).catch(y.error)}},a.doneFn=function(){de.remove(),_.done(he).then((function(){_.clear(he),a.gd.emit("plotly_selected",I),b&&a.selectionDefs&&(b.subtract=le,a.selectionDefs.push(b),a.mergedPolygons.length=0,[].push.apply(a.mergedPolygons,x)),a.doneFnCompleted&&a.doneFnCompleted(fe)})).catch(y.error),O&&Z(a)}},clearSelect:I,clearSelectionsCache:Z,selectOnClick:T}},550:function(e,t,n){"use strict";var r=n(1645).dot,a=n(388).BADNUM,o=e.exports={};o.tester=function(e){var t,n=e.slice(),r=n[0][0],o=r,i=n[0][1],l=i;for(n.push(n[0]),t=1;t<n.length;t++)r=Math.min(r,n[t][0]),o=Math.max(o,n[t][0]),i=Math.min(i,n[t][1]),l=Math.max(l,n[t][1]);var s,c=!1;5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(c=!0,s=function(e){return e[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(c=!0,s=function(e){return e[1]===n[0][1]}));var u=!0,d=n[0];for(t=1;t<n.length;t++)if(d[0]!==n[t][0]||d[1]!==n[t][1]){u=!1;break}return{xmin:r,xmax:o,ymin:i,ymax:l,pts:n,contains:c?function(e,t){var n=e[0],c=e[1];return!(n===a||n<r||n>o||c===a||c<i||c>l)&&(!t||!s(e))}:function(e,t){var s=e[0],c=e[1];if(s===a||s<r||s>o||c===a||c<i||c>l)return!1;var u,d,h,f,p,m=n.length,v=n[0][0],g=n[0][1],y=0;for(u=1;u<m;u++)if(d=v,h=g,v=n[u][0],g=n[u][1],!(s<(f=Math.min(d,v))||s>Math.max(d,v)||c>Math.max(h,g)))if(c<Math.min(h,g))s!==f&&y++;else{if(c===(p=v===d?c:h+(s-d)*(g-h)/(v-d)))return 1!==u||!t;c<=p&&s!==f&&y++}return y%2==1},isRect:c,degenerate:u}},o.isSegmentBent=function(e,t,n,a){var o,i,l,s=e[t],c=[e[n][0]-s[0],e[n][1]-s[1]],u=r(c,c),d=Math.sqrt(u),h=[-c[1]/d,c[0]/d];for(o=t+1;o<n;o++)if(i=[e[o][0]-s[0],e[o][1]-s[1]],(l=r(i,c))<0||l>u||Math.abs(r(i,h))>a)return!0;return!1},o.filter=function(e,t){var n=[e[0]],r=0,a=0;function i(i){e.push(i);var l=n.length,s=r;n.splice(a+1);for(var c=s+1;c<e.length;c++)(c===e.length-1||o.isSegmentBent(e,s,c+1,t))&&(n.push(e[c]),n.length<l-2&&(r=c,a=n.length-1),s=c)}e.length>1&&i(e.pop());return{addPt:i,raw:e,filtered:n}}},566:function(e,t,n){"use strict";t.selectMode=function(e){return"lasso"===e||"select"===e},t.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},t.openMode=function(e){return"drawline"===e||"drawopenpath"===e},t.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},t.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},t.selectingOrDrawing=function(e){return t.freeMode(e)||t.rectMode(e)}},575:function(e,t,n){"use strict";var r=n(849),a=n(378);t.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},t.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},t.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},t.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},t.extractPathCoords=function(e,t){var n=[];return e.match(r.segmentRE).forEach((function(e){var o=t[e.charAt(0)].drawn;if(void 0!==o){var i=e.substr(1).match(r.paramRE);!i||i.length<o||n.push(a.cleanNumber(i[o]))}})),n},t.getDataToPixel=function(e,n,r){var a,o=e._fullLayout._size;if(n){var i=t.shapePositionToRange(n);a=function(e){return n._offset+n.r2p(i(e,!0))},"date"===n.type&&(a=t.decodeDate(a))}else a=r?function(e){return o.t+o.h*(1-e)}:function(e){return o.l+o.w*e};return a},t.getPixelToData=function(e,n,r){var a,o=e._fullLayout._size;if(n){var i=t.rangeToShapePosition(n);a=function(e){return i(n.p2r(e-n._offset))}}else a=r?function(e){return 1-(e-o.t)/o.h}:function(e){return(e-o.l)/o.w};return a},t.roundPositionForSharpStrokeRendering=function(e,t){var n=1===Math.round(t%2),r=Math.round(e);return n?r+.5:r},t.makeOptionsAndPlotinfo=function(e,t){var n=e._fullLayout.shapes[t]||{},r=e._fullLayout._plots[n.xref+n.yref];return!!r?r._hadPlotinfo=!0:(r={},n.xref&&"paper"!==n.xref&&(r.xaxis=e._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(r.yaxis=e._fullLayout[n.yref+"axis"])),r.xsizemode=n.xsizemode,r.ysizemode=n.ysizemode,r.xanchor=n.xanchor,r.yanchor=n.yanchor,{options:n,plotinfo:r}}},689:function(e,t,n){"use strict";var r=n(381),a=n(379),o=n(390),i=n(378),l=n(1108),s=n(380),c=n(384),u=n(502),d=n(1780),h=n(382),f=n(408),p=n(1109),m=p.enforce,v=p.clean,g=n(470).doAutoRange;function y(e,t,n){for(var r=0;r<n.length;r++){var a=n[r][0],o=n[r][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&(o[0]<t[1]&&o[1]>t[0]))return!0}return!1}function x(e){var n,a,l,u,p,m,v=e._fullLayout,g=v._size,x=g.p,b=h.list(e,"",!0);if(v._paperdiv.style({width:e._context.responsive&&v.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":v.width+"px",height:e._context.responsive&&v.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":v.height+"px"}).selectAll(".main-svg").call(c.setSize,v.width,v.height),e._context.setBackground(e,v.paper_bgcolor),t.drawMainTitle(e),d.manage(e),!v._has("cartesian"))return o.previousPromises(e);function M(e,t,n){var r=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===n?t._offset-x-r:t._offset+t._length+x+r:g.t+g.h*(1-(e.position||0))+r%1:t?"right"===n?t._offset+t._length+x+r:t._offset-x-r:g.l+g.w*(e.position||0)+r%1}for(n=0;n<b.length;n++){var S=(u=b[n])._anchorAxis;u._linepositions={},u._lw=c.crispRound(e,u.linewidth,1),u._mainLinePosition=M(u,S,u.side),u._mainMirrorPosition=u.mirror&&S?M(u,S,f.OPPOSITE_SIDE[u.side]):null}var z=[],k=[],L=[],I=1===s.opacity(v.paper_bgcolor)&&1===s.opacity(v.plot_bgcolor)&&v.paper_bgcolor===v.plot_bgcolor;for(a in v._plots)if((l=v._plots[a]).mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var A=l.xaxis.domain,C=l.yaxis.domain,R=l.plotgroup;if(y(A,C,L)){var P=R.node(),T=l.bg=i.ensureSingle(R,"rect","bg");P.insertBefore(T.node(),P.childNodes[0]),k.push(a)}else R.select("rect.bg").remove(),L.push([A,C]),I||(z.push(a),k.push(a))}var E,q,D,F,Z,B,O,N,H,V,G,j,U,X=v._bgLayer.selectAll(".bg").data(z);for(X.enter().append("rect").classed("bg",!0),X.exit().remove(),X.each((function(e){v._plots[e].bg=r.select(this)})),n=0;n<k.length;n++)l=v._plots[k[n]],p=l.xaxis,m=l.yaxis,l.bg&&l.bg.call(c.setRect,p._offset-x,m._offset-x,p._length+2*x,m._length+2*x).call(s.fill,v.plot_bgcolor).style("stroke-width",0);if(!v._hasOnlyLargeSploms)for(a in v._plots){l=v._plots[a],p=l.xaxis,m=l.yaxis;var J,Q,Y=l.clipId="clip"+v._uid+a+"plot",K=i.ensureSingleById(v._clips,"clipPath",Y,(function(e){e.classed("plotclip",!0).append("rect")}));l.clipRect=K.select("rect").attr({width:p._length,height:m._length}),c.setTranslate(l.plot,p._offset,m._offset),l._hasClipOnAxisFalse?(J=null,Q=Y):(J=Y,Q=null),c.setClipUrl(l.plot,J,e),l.layerClipId=Q}function W(e){return"M"+E+","+e+"H"+q}function $(e){return"M"+p._offset+","+e+"h"+p._length}function ee(e){return"M"+e+","+N+"V"+O}function te(e){return"M"+e+","+m._offset+"v"+m._length}function ne(e,t,n){if(!e.showline||a!==e._mainSubplot)return"";if(!e._anchorAxis)return n(e._mainLinePosition);var r=t(e._mainLinePosition);return e.mirror&&(r+=t(e._mainMirrorPosition)),r}for(a in v._plots){l=v._plots[a],p=l.xaxis,m=l.yaxis;var re="M0,0";_(p,a)&&(Z=w(p,"left",m,b),E=p._offset-(Z?x+Z:0),B=w(p,"right",m,b),q=p._offset+p._length+(B?x+B:0),D=M(p,m,"bottom"),F=M(p,m,"top"),!(U=!p._anchorAxis||a!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[a]=[D,F]),re=ne(p,W,$),U&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(re+=W(D)+W(F)),l.xlines.style("stroke-width",p._lw+"px").call(s.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",re);var ae="M0,0";_(m,a)&&(G=w(m,"bottom",p,b),O=m._offset+m._length+(G?x:0),j=w(m,"top",p,b),N=m._offset-(j?x:0),H=M(m,p,"left"),V=M(m,p,"right"),!(U=!m._anchorAxis||a!==m._mainSubplot)||"allticks"!==m.mirror&&"all"!==m.mirror||(m._linepositions[a]=[H,V]),ae=ne(m,ee,te),U&&m.showline&&("all"===m.mirror||"allticks"===m.mirror)&&(ae+=ee(H)+ee(V)),l.ylines.style("stroke-width",m._lw+"px").call(s.stroke,m.showline?m.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",ae)}return h.makeClipPaths(e),o.previousPromises(e)}function _(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function b(e,t,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var a=f.FROM_BL[t];return n.side===t?r.domain[a]===e.domain[a]:n.mirror&&r.domain[1-a]===e.domain[1-a]}function w(e,t,n,r){if(b(e,t,n))return n._lw;for(var a=0;a<r.length;a++){var o=r[a];if(o._mainAxis===n._mainAxis&&b(e,t,o))return o._lw}return 0}function M(e,t){var n=e.title,r=e._size,a=0;switch("start"===t?a=n.pad.l:"end"===t&&(a=-n.pad.r),n.xref){case"paper":return r.l+r.w*n.x+a;case"container":default:return e.width*n.x+a}}function S(e,t){var n=e.title,r=e._size,a=0;if("0em"!==t&&t?t===f.CAP_SHIFT+"em"&&(a=n.pad.t):a=-n.pad.b,"auto"===n.y)return r.t/2;switch(n.yref){case"paper":return r.t+r.h-r.h*n.y+a;case"container":default:return e.height-e.height*n.y+a}}t.layoutStyles=function(e){return i.syncOrAsync([o.doAutoMargin,x],e)},t.drawMainTitle=function(e){var t=e._fullLayout,n=function(e){var t=e.title,n="middle";i.isRightAnchor(t)?n="end":i.isLeftAnchor(t)&&(n="start");return n}(t),r=function(e){var t=e.title,n="0em";i.isTopAnchor(t)?n=f.CAP_SHIFT+"em":i.isMiddleAnchor(t)&&(n=f.MID_SHIFT+"em");return n}(t);u.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:M(t,n),y:S(t,r),"text-anchor":n,dy:r}})},t.doTraceStyle=function(e){var n,r=e.calcdata,i=[];for(n=0;n<r.length;n++){var s=r[n],c=s[0]||{},u=c.trace||{},d=u._module||{},h=d.arraysToCalcdata;h&&h(s,u);var f=d.editStyle;f&&i.push({fn:f,cd0:c})}if(i.length){for(n=0;n<i.length;n++){var p=i[n];p.fn(e,p.cd0)}l(e),t.redrawReglTraces(e)}return o.style(e),a.getComponentMethod("legend","draw")(e),o.previousPromises(e)},t.doColorBars=function(e){return a.getComponentMethod("colorbar","draw")(e),o.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,a.call("plot",e,"",t)},t.doLegend=function(e){return a.getComponentMethod("legend","draw")(e),o.previousPromises(e)},t.doTicksRelayout=function(e){return h.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(a.subplotsRegistry.splom.updateGrid(e),l(e),t.redrawReglTraces(e)),t.drawMainTitle(e),o.previousPromises(e)},t.doModeBar=function(e){var t=e._fullLayout;d.manage(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(e)}return o.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++){var a=t[n[r]];a._scene.setViewport(a)}},t.drawData=function(e){var n=e._fullLayout;l(e);for(var r=n._basePlotModules,i=0;i<r.length;i++)r[i].plot(e);return t.redrawReglTraces(e),o.style(e),a.getComponentMethod("shapes","draw")(e),a.getComponentMethod("annotations","draw")(e),a.getComponentMethod("images","draw")(e),n._replotting=!1,o.previousPromises(e)},t.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var n,r,a=e._fullData,o=[],l=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),n=0;n<a.length;n++){var s=a[n];!0===s.visible&&0!==s._length&&("splom"===s.type?t._splomScenes[s.uid].draw():"scattergl"===s.type?i.pushUnique(o,s.xaxis+s.yaxis):"scatterpolargl"===s.type&&i.pushUnique(l,s.subplot))}for(n=0;n<o.length;n++)(r=t._plots[o[n]])._scene&&r._scene.draw();for(n=0;n<l.length;n++)(r=t[l[n]]._subplot)._scene&&r._scene.draw()}},t.doAutoRangeAndConstraints=function(e){for(var t,n,r=e._fullLayout,a=h.list(e,"",!0),o=r._axisMatchGroups||[],l={},s=0;s<a.length;s++)t=a[s],v(e,t),g(e,t),l[t._id]=1;m(e);e:for(var c=0;c<o.length;c++){var u,d=o[c],f=null;for(u in d)if(l[(t=h.getFromId(e,u))._id]){if(!1===t.autorange)continue e;n=i.simpleMap(t.range,t.r2l),f?f[0]<f[1]?(f[0]=Math.min(f[0],n[0]),f[1]=Math.max(f[1],n[1])):(f[0]=Math.max(f[0],n[0]),f[1]=Math.min(f[1],n[1])):f=n}for(u in d)(t=h.getFromId(e,u)).range=i.simpleMap(f,t.l2r),t._input.range=t.range.slice(),t.setScale()}},t.finalDraw=function(e){a.getComponentMethod("rangeslider","draw")(e),a.getComponentMethod("rangeselector","draw")(e)},t.drawMarginPushers=function(e){a.getComponentMethod("legend","draw")(e),a.getComponentMethod("rangeselector","draw")(e),a.getComponentMethod("sliders","draw")(e),a.getComponentMethod("updatemenus","draw")(e),a.getComponentMethod("colorbar","draw")(e)}},848:function(e,t,n){"use strict";e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},849:function(e,t,n){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},869:function(e,t,n){"use strict";var r=n(379),a=n(378),o=n(382),i=n(1519).readPaths,l=n(1652),s=n(1175).clearOutlineControllers,c=n(380),u=n(384),d=n(386).arrayEditor,h=n(435),f=n(454),p=n(849),m=n(575);function v(e){var t=e._fullLayout;for(var n in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var r=t._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var a=0;a<t.shapes.length;a++)t.shapes[a].visible&&x(e,a)}function g(e){return!!e._fullLayout._drawing}function y(e){return!e._context.edits.shapePosition}function x(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var n=m.makeOptionsAndPlotinfo(e,t),s=n.options,x=n.plotinfo;if(s._input&&!1!==s.visible)if("below"!==s.layer)S(e._fullLayout._shapeUpperLayer);else if("paper"===s.xref||"paper"===s.yref)S(e._fullLayout._shapeLowerLayer);else{if(x._hadPlotinfo)S((x.mainplotinfo||x).shapelayer);else S(e._fullLayout._shapeLowerLayer)}function S(n){var S=b(e,s),z={"data-index":t,"fill-rule":s.fillrule,d:S},k=s.opacity,L=s.fillcolor,I=s.line.width?s.line.color:"rgba(0,0,0,0)",A=s.line.width,C=s.line.dash;A||!0!==s.editable||(A=5,C="solid");var R="Z"!==S[S.length-1],P=y(e)&&s.editable&&e._fullLayout._activeShapeIndex===t;P&&(L=R?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,k=e._fullLayout.activeshape.opacity);var T,E=n.append("path").attr(z).style("opacity",k).call(c.stroke,I).call(c.fill,L).call(u.dashLine,C,A);if(_(E,e,s),(P||e._context.edits.shapePosition)&&(T=d(e.layout,"shapes",s)),P){E.style({cursor:"move"});var q={element:E.node(),plotinfo:x,gd:e,editHelpers:T,isActiveShape:!0},D=i(S,e);l(D,E,q)}else e._context.edits.shapePosition?function(e,t,n,i,l,s){var c,d,v,y,x,M,S,z,k,L,I,A,C,R,P,T,E="pixel"===n.xsizemode,q="pixel"===n.ysizemode,D="line"===n.type,F="path"===n.type,Z=s.modifyItem,B=o.getFromId(e,n.xref),O=o.getFromId(e,n.yref),N=m.getDataToPixel(e,B),H=m.getDataToPixel(e,O,!0),V=m.getPixelToData(e,B),G=m.getPixelToData(e,O,!0),j=D?function(){var e=Math.max(n.line.width,10),r=l.append("g").attr("data-index",i);r.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":e,"stroke-opacity":"0"});var a={"fill-opacity":"0"},o=Math.max(e/2,10);return r.append("circle").attr({"data-line-point":"start-point",cx:E?N(n.xanchor)+n.x0:N(n.x0),cy:q?H(n.yanchor)-n.y0:H(n.y0),r:o}).style(a).classed("cursor-grab",!0),r.append("circle").attr({"data-line-point":"end-point",cx:E?N(n.xanchor)+n.x1:N(n.x1),cy:q?H(n.yanchor)-n.y1:H(n.y1),r:o}).style(a).classed("cursor-grab",!0),r}():t,U={element:j.node(),gd:e,prepFn:function(r){if(g(e))return;E&&(x=N(n.xanchor));q&&(M=H(n.yanchor));"path"===n.type?P=n.path:(c=E?n.x0:N(n.x0),d=q?n.y0:H(n.y0),v=E?n.x1:N(n.x1),y=q?n.y1:H(n.y1));c<v?(k=c,C="x0",L=v,R="x1"):(k=v,C="x1",L=c,R="x0");!q&&d<y||q&&d>y?(S=d,I="y0",z=y,A="y1"):(S=y,I="y1",z=d,A="y0");X(r),Y(l,n),function(e,t,n){var r=t.xref,a=t.yref,i=o.getFromId(n,r),l=o.getFromId(n,a),s="";"paper"===r||i.autorange||(s+=r);"paper"===a||l.autorange||(s+=a);u.setClipUrl(e,s?"clip"+n._fullLayout._uid+s:null,n)}(t,n,e),U.moveFn="move"===T?J:Q,U.altKey=r.altKey},doneFn:function(){if(g(e))return;f(t),K(l),_(t,e,n),r.call("_guiRelayout",e,s.getUpdateObj())},clickFn:function(){if(g(e))return;K(l)}};function X(n){if(g(e))T=null;else if(D)T="path"===n.target.tagName?"move":"start-point"===n.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=U.element.getBoundingClientRect(),a=r.right-r.left,o=r.bottom-r.top,i=n.clientX-r.left,l=n.clientY-r.top,s=!F&&a>10&&o>10&&!n.shiftKey?h.getCursor(i/a,1-l/o):"move";f(t,s),T=s.split("-")[0]}}function J(r,a){if("path"===n.type){var o=function(e){return e},i=o,s=o;E?Z("xanchor",n.xanchor=V(x+r)):(i=function(e){return V(N(e)+r)},B&&"date"===B.type&&(i=m.encodeDate(i))),q?Z("yanchor",n.yanchor=G(M+a)):(s=function(e){return G(H(e)+a)},O&&"date"===O.type&&(s=m.encodeDate(s))),Z("path",n.path=w(P,i,s))}else E?Z("xanchor",n.xanchor=V(x+r)):(Z("x0",n.x0=V(c+r)),Z("x1",n.x1=V(v+r))),q?Z("yanchor",n.yanchor=G(M+a)):(Z("y0",n.y0=G(d+a)),Z("y1",n.y1=G(y+a)));t.attr("d",b(e,n)),Y(l,n)}function Q(r,a){if(F){var o=function(e){return e},i=o,s=o;E?Z("xanchor",n.xanchor=V(x+r)):(i=function(e){return V(N(e)+r)},B&&"date"===B.type&&(i=m.encodeDate(i))),q?Z("yanchor",n.yanchor=G(M+a)):(s=function(e){return G(H(e)+a)},O&&"date"===O.type&&(s=m.encodeDate(s))),Z("path",n.path=w(P,i,s))}else if(D){if("resize-over-start-point"===T){var u=c+r,h=q?d-a:d+a;Z("x0",n.x0=E?u:V(u)),Z("y0",n.y0=q?h:G(h))}else if("resize-over-end-point"===T){var f=v+r,p=q?y-a:y+a;Z("x1",n.x1=E?f:V(f)),Z("y1",n.y1=q?p:G(p))}}else{var g=function(e){return-1!==T.indexOf(e)},_=g("n"),j=g("s"),U=g("w"),X=g("e"),J=_?S+a:S,Q=j?z+a:z,K=U?k+r:k,W=X?L+r:L;q&&(_&&(J=S-a),j&&(Q=z-a)),(!q&&Q-J>10||q&&J-Q>10)&&(Z(I,n[I]=q?J:G(J)),Z(A,n[A]=q?Q:G(Q))),W-K>10&&(Z(C,n[C]=E?K:V(K)),Z(R,n[R]=E?W:V(W)))}t.attr("d",b(e,n)),Y(l,n)}function Y(e,t){(E||q)&&function(){var n="path"!==t.type,r=e.selectAll(".visual-cue").data([0]);r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var o=N(E?t.xanchor:a.midRange(n?[t.x0,t.x1]:m.extractPathCoords(t.path,p.paramIsX))),i=H(q?t.yanchor:a.midRange(n?[t.y0,t.y1]:m.extractPathCoords(t.path,p.paramIsY)));if(o=m.roundPositionForSharpStrokeRendering(o,1),i=m.roundPositionForSharpStrokeRendering(i,1),E&&q){var l="M"+(o-1-1)+","+(i-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",l)}else if(E){var s="M"+(o-1-1)+","+(i-9-1)+"v18 h2 v-18 Z";r.attr("d",s)}else{var c="M"+(o-9-1)+","+(i-1-1)+"h18 v2 h-18 Z";r.attr("d",c)}}()}function K(e){e.selectAll(".visual-cue").remove()}h.init(U),j.node().onmousemove=X}(e,E,s,t,n,T):!0===s.editable&&E.style("pointer-events",R||c.opacity(L)*k<=.5?"stroke":"all");E.node().addEventListener("click",(function(){return function(e,t){if(!y(e))return;var n=+t.node().getAttribute("data-index");if(n>=0){if(n===e._fullLayout._activeShapeIndex)return void M(e);e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=M,v(e)}}(e,E)}))}}function _(e,t,n){var r=(n.xref+n.yref).replace(/paper/g,"");u.setClipUrl(e,r?"clip"+t._fullLayout._uid+r:null,t)}function b(e,t){var n,r,i,l,s,c,u,d,h=t.type,f=o.getFromId(e,t.xref),v=o.getFromId(e,t.yref),g=e._fullLayout._size;if(f?(n=m.shapePositionToRange(f),r=function(e){return f._offset+f.r2p(n(e,!0))}):r=function(e){return g.l+g.w*e},v?(i=m.shapePositionToRange(v),l=function(e){return v._offset+v.r2p(i(e,!0))}):l=function(e){return g.t+g.h*(1-e)},"path"===h)return f&&"date"===f.type&&(r=m.decodeDate(r)),v&&"date"===v.type&&(l=m.decodeDate(l)),function(e,t,n){var r=e.path,o=e.xsizemode,i=e.ysizemode,l=e.xanchor,s=e.yanchor;return r.replace(p.segmentRE,(function(e){var r=0,c=e.charAt(0),u=p.paramIsX[c],d=p.paramIsY[c],h=p.numParams[c],f=e.substr(1).replace(p.paramRE,(function(e){return u[r]?e="pixel"===o?t(l)+Number(e):t(e):d[r]&&(e="pixel"===i?n(s)-Number(e):n(e)),++r>h&&(e="X"),e}));return r>h&&(f=f.replace(/[\s,]*X.*/,""),a.log("Ignoring extra params in segment "+e)),c+f}))}(t,r,l);if("pixel"===t.xsizemode){var y=r(t.xanchor);s=y+t.x0,c=y+t.x1}else s=r(t.x0),c=r(t.x1);if("pixel"===t.ysizemode){var x=l(t.yanchor);u=x-t.y0,d=x-t.y1}else u=l(t.y0),d=l(t.y1);if("line"===h)return"M"+s+","+u+"L"+c+","+d;if("rect"===h)return"M"+s+","+u+"H"+c+"V"+d+"H"+s+"Z";var _=(s+c)/2,b=(u+d)/2,w=Math.abs(_-s),M=Math.abs(b-u),S="A"+w+","+M,z=_+w+","+b;return"M"+z+S+" 0 1,1 "+(_+","+(b-M))+S+" 0 0,1 "+z+"Z"}function w(e,t,n){return e.replace(p.segmentRE,(function(e){var r=0,a=e.charAt(0),o=p.paramIsX[a],i=p.paramIsY[a],l=p.numParams[a];return a+e.substr(1).replace(p.paramRE,(function(e){return r>=l||(o[r]?e=t(e):i[r]&&(e=n(e)),r++),e}))}))}function M(e){y(e)&&(e._fullLayout._activeShapeIndex>=0&&(s(e),delete e._fullLayout._activeShapeIndex,v(e)))}e.exports={draw:v,drawOne:x,eraseActiveShape:function(e){if(!y(e))return;s(e);var t=e._fullLayout._activeShapeIndex,n=(e.layout||{}).shapes||[];if(t<n.length){for(var a=[],o=0;o<n.length;o++)o!==t&&a.push(n[o]);delete e._fullLayout._activeShapeIndex,r.call("_guiRelayout",e,{shapes:a})}}}},870:function(e,t){e.exports=function(e){var t=[];return e.replace(r,(function(e,r,o){var i=r.toLowerCase();for(o=function(e){var t=e.match(a);return t?t.map(Number):[]}(o),"m"==i&&o.length>2&&(t.push([r].concat(o.splice(0,2))),i="l",r="m"==r?"l":"L");;){if(o.length==n[i])return o.unshift(r),t.push(o);if(o.length<n[i])throw new Error("malformed path data");t.push([r].concat(o.splice(0,n[i])))}})),t};var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi}}]);