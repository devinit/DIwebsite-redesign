(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1043:function(e,t,r){"use strict";e.exports=function(e,t,r,a){var n,i;for(a||(a=1/0),n=0;n<t.length;n++)(i=t[n]).visible&&(a=Math.min(a,i[r].length));for(a===1/0&&(a=0),e._length=a,n=0;n<t.length;n++)(i=t[n]).visible&&(i._length=a);return a}},1634:function(e,t,r){"use strict";var a=r(32).extendFlat,n=r(59),i=r(46),o=r(111),l=r(150).hovertemplateAttrs,s=r(624).attributes,c=a({editType:"calc"},o("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",role:"info",editType:"plot",description:["Sets the shape of the paths.","If `linear`, paths are composed of straight lines.","If `hspline`, paths are composed of horizontal curved splines"].join(" ")},hovertemplate:l({editType:"plot",arrayOk:!1},{keys:["count","probability"],description:["This value here applies when hovering over lines."].join(" ")})});e.exports={domain:s({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:a({},n.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",role:"info",editType:"plot",description:["Sets the hover interaction mode for the parcats diagram.","If `category`, hover interaction take place per category.","If `color`, hover interactions take place per color per category.","If `dimension`, hover interactions take place across all categories per dimension."].join(" ")},hovertemplate:l({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"],description:["This value here applies when hovering over dimensions.","Note tath `*categorycount`, *colorcount* and *bandcolorcount*","are only available when `hoveron` contains the *color* flag"].join(" ")}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",role:"style",editType:"plot",description:["Sets the drag interaction mode for categories and dimensions.","If `perpendicular`, the categories can only move along a line perpendicular to the paths.","If `freeform`, the categories can freely move on the plane.","If `fixed`, the categories and dimensions are stationary."].join(" ")},bundlecolors:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:"Sort paths so that like colors are bundled together within each category."},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",role:"info",editType:"plot",description:["Sets the path sorting algorithm.","If `forward`, sort paths based on dimension categories from left to right.","If `backward`, sort paths based on dimensions categories from right to left."].join(" ")},labelfont:i({editType:"calc",description:"Sets the font for the `dimension` labels."}),tickfont:i({editType:"calc",description:"Sets the font for the `category` labels."}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",role:"info",editType:"calc",description:"The shown name of the dimension."},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",role:"info",editType:"calc",description:["Specifies the ordering logic for the categories in the dimension.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",role:"info",editType:"calc",description:["Sets the order in which categories in this dimension appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},ticktext:{valType:"data_array",role:"info",editType:"calc",description:["Sets alternative tick labels for the categories in this dimension.","Only has an effect if `categoryorder` is set to *array*.","Should be an array the same length as `categoryarray`","Used with `categoryorder`."].join(" ")},values:{valType:"data_array",role:"info",dflt:[],editType:"calc",description:["Dimension values. `values[n]` represents the category value of the `n`th point in the dataset,","therefore the `values` vector for all dimensions must be the same (longer vectors","will be truncated)."].join(" ")},displayindex:{valType:"integer",role:"info",editType:"calc",description:["The display index of dimension, from left to right, zero indexed, defaults to dimension","index."].join(" ")},editType:"calc",description:"The dimensions (variables) of the parallel categories diagram.",visible:{valType:"boolean",dflt:!0,role:"info",editType:"calc",description:"Shows the dimension when set to `true` (the default). Hides the dimension for `false`."}},line:c,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,role:"info",editType:"calc",description:["The number of observations represented by each state. Defaults to 1 so that each state represents","one observation"].join(" ")},customdata:void 0,hoverlabel:void 0,ids:void 0,legendgroup:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},1635:function(e,t,r){"use strict";var a=r(1717);e.exports=function(e,t,r,n){var i=e._fullLayout,o=i._paper,l=i._size;a(e,o,t,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},r,n)}},1714:function(e,t,r){"use strict";e.exports={attributes:r(1634),supplyDefaults:r(1715),calc:r(1716),plot:r(1635),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:r(1718),categories:["noOpacity"],meta:{description:["Parallel categories diagram for multidimensional categorical data."].join(" ")}}},1715:function(e,t,r){"use strict";var a=r(6),n=r(79).hasColorscale,i=r(151),o=r(624).defaults,l=r(209),s=r(1634),c=r(1043);function d(e,t){function r(r,n){return a.coerce(e,t,s.dimensions,r,n)}var n=r("values"),i=r("visible");if(n&&n.length||(i=t.visible=!1),i){r("label"),r("displayindex",t._index);var o,l=e.categoryarray,c=Array.isArray(l)&&l.length>0;c&&(o="array");var d=r("categoryorder",o);"array"===d?(r("categoryarray"),r("ticktext")):(delete e.categoryarray,delete e.ticktext),c||"array"!==d||(t.categoryorder="trace")}}e.exports=function(e,t,r,u){function p(r,n){return a.coerce(e,t,s,r,n)}var f=l(e,t,{name:"dimensions",handleItemDefaults:d}),g=function(e,t,r,o,l){l("line.shape"),l("line.hovertemplate");var s=l("line.color",o.colorway[0]);if(n(e,"line")&&a.isArrayOrTypedArray(s)){if(s.length)return l("line.colorscale"),i(e,t,o,l,{prefix:"line.",cLetter:"c"}),s.length;t.line.color=r}return 1/0}(e,t,r,u,p);o(t,u,p),Array.isArray(f)&&f.length||(t.visible=!1),c(t,f,"values",g),p("hoveron"),p("hovertemplate"),p("arrangement"),p("bundlecolors"),p("sortpaths"),p("counts");var h={family:u.font.family,size:Math.round(u.font.size),color:u.font.color};a.coerceFont(p,"labelfont",h);var y={family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};a.coerceFont(p,"tickfont",y)}},1716:function(e,t,r){"use strict";var a=r(729).wrap,n=r(79).hasColorscale,i=r(210),o=r(283),l=r(106),s=r(6);function c(e,t,r){e.valueInds.push(t),e.count+=r}function d(e,t,r){return{categoryInds:e,color:t,rawColor:r,valueInds:[],count:0}}function u(e,t,r){e.valueInds.push(t),e.count+=r}e.exports=function(e,t){var r=s.filterVisible(t.dimensions);if(0===r.length)return[];var p,f,g,h=r.map((function(e){var t;return"trace"===e.categoryorder?t=null:"array"===e.categoryorder?t=e.categoryarray:(t=o(e.values).sort(),"category descending"===e.categoryorder&&(t=t.reverse())),function(e,t){t=null==t?[]:t.map((function(e){return e}));var r={},a={},n=[];t.forEach((function(e,t){r[e]=0,a[e]=t}));for(var i=0;i<e.length;i++){var o,l=e[i];void 0===r[l]?(r[l]=1,o=t.push(l)-1,a[l]=o):(r[l]++,o=a[l]),n.push(o)}var s=t.map((function(e){return r[e]}));return{uniqueValues:t,uniqueCounts:s,inds:n}}(e.values,t)}));p=s.isArrayOrTypedArray(t.counts)?t.counts:[t.counts],function(e){var t;if(function(e){for(var t=new Array(e.length),r=0;r<e.length;r++){if(e[r]<0||e[r]>=e.length)return!1;if(void 0!==t[e[r]])return!1;t[e[r]]=!0}return!0}(e.map((function(e){return e.displayindex}))))for(t=0;t<e.length;t++)e[t]._displayindex=e[t].displayindex;else for(t=0;t<e.length;t++)e[t]._displayindex=t}(r),r.forEach((function(e,t){!function(e,t){e._categoryarray=t.uniqueValues,null===e.ticktext||void 0===e.ticktext?e._ticktext=[]:e._ticktext=e.ticktext.slice();for(var r=e._ticktext.length;r<t.uniqueValues.length;r++)e._ticktext.push(t.uniqueValues[r])}(e,h[t])}));var y,m=t.line;m?(n(t,"line")&&i(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),y=l.tryColorscale(m)):y=s.identity;var v,x,b,w,k,A=r[0].values.length,_={},C=h.map((function(e){return e.inds}));for(g=0,v=0;v<A;v++){var I=[];for(x=0;x<C.length;x++)I.push(C[x][v]);f=p[v%p.length],g+=f;var T=(b=v,w=void 0,k=void 0,s.isArrayOrTypedArray(m.color)?k=w=m.color[b%m.color.length]:w=m.color,{color:y(w),rawColor:k}),D=I+"-"+T.rawColor;void 0===_[D]&&(_[D]=d(I,T.color,T.rawColor)),u(_[D],v,f)}var M,O=r.map((function(e,t){return function(e,t,r,a,n){return{dimensionInd:e,containerInd:t,displayInd:r,dimensionLabel:a,count:n,categories:[],dragX:null}}(t,e._index,e._displayindex,e.label,g)}));for(v=0;v<A;v++)for(f=p[v%p.length],x=0;x<O.length;x++){var P=O[x].containerInd,L=h[x].inds[v],S=O[x].categories;if(void 0===S[L]){var V=t.dimensions[P]._categoryarray[L],j=t.dimensions[P]._ticktext[L];S[L]={dimensionInd:x,categoryInd:M=L,categoryValue:V,displayInd:M,categoryLabel:j,valueInds:[],count:0,dragY:null}}c(S[L],v,f)}return a(function(e,t,r){var a=e.map((function(e){return e.categories.length})).reduce((function(e,t){return Math.max(e,t)}));return{dimensions:e,paths:t,trace:void 0,maxCats:a,count:r}}(O,_,g))}},1717:function(e,t,r){"use strict";var a=r(24),n=r(690),i=r(623),o=r(6),l=r(106),s=r(60),c=r(108);function d(e,t,r,n){var i=e.map(j.bind(0,t,r)),s=n.selectAll("g.parcatslayer").data([null]);s.enter().append("g").attr("class","parcatslayer").style("pointer-events","all");var d=s.selectAll("g.trace.parcats").data(i,u),y=d.enter().append("g").attr("class","trace parcats");d.attr("transform",(function(e){return"translate("+e.x+", "+e.y+")"})),y.append("g").attr("class","paths");var m=d.select("g.paths").selectAll("path.path").data((function(e){return e.paths}),u);m.attr("fill",(function(e){return e.model.color}));var b=m.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",(function(e){return e.model.color})).attr("fill-opacity",0);x(b),m.attr("d",(function(e){return e.svgD})),b.empty()||m.sort(f),m.exit().remove(),m.on("mouseover",g).on("mouseout",h).on("click",v),y.append("g").attr("class","dimensions");var A=d.select("g.dimensions").selectAll("g.dimension").data((function(e){return e.dimensions}),u);A.enter().append("g").attr("class","dimension"),A.attr("transform",(function(e){return"translate("+e.x+", 0)"})),A.exit().remove();var _=A.selectAll("g.category").data((function(e){return e.categories}),u),C=_.enter().append("g").attr("class","category");_.attr("transform",(function(e){return"translate(0, "+e.y+")"})),C.append("rect").attr("class","catrect").attr("pointer-events","none"),_.select("rect.catrect").attr("fill","none").attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})),w(C);var I=_.selectAll("rect.bandrect").data((function(e){return e.bands}),u);I.each((function(){o.raiseToTop(this)})),I.attr("fill",(function(e){return e.color}));var L=I.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",(function(e){return e.color})).attr("fill-opacity",0);I.attr("fill",(function(e){return e.color})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).attr("y",(function(e){return e.y})).attr("cursor",(function(e){return"fixed"===e.parcatsViewModel.arrangement?"default":"perpendicular"===e.parcatsViewModel.arrangement?"ns-resize":"move"})),k(L),I.exit().remove(),C.append("text").attr("class","catlabel").attr("pointer-events","none");var S=t._fullLayout.paper_bgcolor;_.select("text.catlabel").attr("text-anchor",(function(e){return p(e)?"start":"end"})).attr("alignment-baseline","middle").style("text-shadow",S+" -1px  1px 2px, "+S+" 1px  1px 2px, "+S+"  1px -1px 2px, "+S+" -1px -1px 2px").style("fill","rgb(0, 0, 0)").attr("x",(function(e){return p(e)?e.width+5:-5})).attr("y",(function(e){return e.height/2})).text((function(e){return e.model.categoryLabel})).each((function(e){l.font(a.select(this),e.parcatsViewModel.categorylabelfont),c.convertToTspans(a.select(this),t)})),C.append("text").attr("class","dimlabel"),_.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",(function(e){return"fixed"===e.parcatsViewModel.arrangement?"default":"ew-resize"})).attr("x",(function(e){return e.width/2})).attr("y",-5).text((function(e,t){return 0===t?e.parcatsViewModel.model.dimensions[e.model.dimensionInd].dimensionLabel:null})).each((function(e){l.font(a.select(this),e.parcatsViewModel.labelfont)})),_.selectAll("rect.bandrect").on("mouseover",T).on("mouseout",D),_.exit().remove(),A.call(a.behavior.drag().origin((function(e){return{x:e.x,y:0}})).on("dragstart",M).on("drag",O).on("dragend",P)),d.each((function(e){e.traceSelection=a.select(this),e.pathSelection=a.select(this).selectAll("g.paths").selectAll("path.path"),e.dimensionSelection=a.select(this).selectAll("g.dimensions").selectAll("g.dimension")})),d.exit().remove()}function u(e){return e.key}function p(e){var t=e.parcatsViewModel.dimensions.length,r=e.parcatsViewModel.dimensions[t-1].model.dimensionInd;return e.model.dimensionInd===r}function f(e,t){return e.model.rawColor>t.model.rawColor?1:e.model.rawColor<t.model.rawColor?-1:0}function g(e){if(!e.parcatsViewModel.dragDimension&&-1===e.parcatsViewModel.hoverinfoItems.indexOf("skip")){o.raiseToTop(this),b(a.select(this));var t=y(e),r=m(e);if(e.parcatsViewModel.graphDiv.emit("plotly_hover",{points:t,event:a.event,constraints:r}),-1===e.parcatsViewModel.hoverinfoItems.indexOf("none")){var n,l,c,d=a.mouse(this)[0],u=e.parcatsViewModel.graphDiv,p=e.parcatsViewModel.trace,f=u._fullLayout,g=f._paperdiv.node().getBoundingClientRect(),h=e.parcatsViewModel.graphDiv.getBoundingClientRect();for(c=0;c<e.leftXs.length-1;c++)if(e.leftXs[c]+e.dimWidths[c]-2<=d&&d<=e.leftXs[c+1]+2){var v=e.parcatsViewModel.dimensions[c],x=e.parcatsViewModel.dimensions[c+1];n=(v.x+v.width+x.x)/2,l=(e.topYs[c]+e.topYs[c+1]+e.height)/2;break}var w=e.parcatsViewModel.x+n,k=e.parcatsViewModel.y+l,A=s.mostReadable(e.model.color,["black","white"]),_=e.model.count,C=_/e.parcatsViewModel.model.count,I={countLabel:_,probabilityLabel:C.toFixed(3)},T=[];-1!==e.parcatsViewModel.hoverinfoItems.indexOf("count")&&T.push(["Count:",I.countLabel].join(" ")),-1!==e.parcatsViewModel.hoverinfoItems.indexOf("probability")&&T.push(["P:",I.probabilityLabel].join(" "));var D=T.join("<br>"),M=a.mouse(u)[0];i.loneHover({trace:p,x:w-g.left+h.left,y:k-g.top+h.top,text:D,color:e.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:A,idealAlign:M<w?"right":"left",hovertemplate:(p.line||{}).hovertemplate,hovertemplateLabels:I,eventData:[{data:p._input,fullData:p,count:_,probability:C}]},{container:f._hoverlayer.node(),outerContainer:f._paper.node(),gd:u})}}}function h(e){if(!e.parcatsViewModel.dragDimension&&(x(a.select(this)),i.loneUnhover(e.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),e.parcatsViewModel.pathSelection.sort(f),-1===e.parcatsViewModel.hoverinfoItems.indexOf("skip"))){var t=y(e),r=m(e);e.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:t,event:a.event,constraints:r})}}function y(e){for(var t=[],r=L(e.parcatsViewModel),a=0;a<e.model.valueInds.length;a++){var n=e.model.valueInds[a];t.push({curveNumber:r,pointNumber:n})}return t}function m(e){for(var t={},r=e.parcatsViewModel.model.dimensions,a=0;a<r.length;a++){var n=r[a],i=n.categories[e.model.categoryInds[a]];t[n.containerInd]=i.categoryValue}return void 0!==e.model.rawColor&&(t.color=e.model.rawColor),t}function v(e){if(-1===e.parcatsViewModel.hoverinfoItems.indexOf("skip")){var t=y(e),r=m(e);e.parcatsViewModel.graphDiv.emit("plotly_click",{points:t,event:a.event,constraints:r})}}function x(e){e.attr("fill",(function(e){return e.model.color})).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function b(e){e.attr("fill-opacity",.8).attr("stroke",(function(e){return s.mostReadable(e.model.color,["black","white"])})).attr("stroke-width",.3)}function w(e){e.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function k(e){e.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function A(e){var t=e.parcatsViewModel.pathSelection,r=e.categoryViewModel.model.dimensionInd,a=e.categoryViewModel.model.categoryInd;return t.filter((function(t){return t.model.categoryInds[r]===a&&t.model.color===e.color}))}function _(e,t,r){var n=a.select(e).datum(),i=n.categoryViewModel.model,o=n.parcatsViewModel.graphDiv,l=a.select(e.parentNode).selectAll("rect.bandrect"),s=[];l.each((function(e){A(e).each((function(e){Array.prototype.push.apply(s,y(e))}))}));var c={};c[i.dimensionInd]=i.categoryValue,o.emit(t,{points:s,event:r,constraints:c})}function C(e,t,r){var n=a.select(e).datum(),i=n.categoryViewModel.model,o=n.parcatsViewModel.graphDiv,l=A(n),s=[];l.each((function(e){Array.prototype.push.apply(s,y(e))}));var c={};c[i.dimensionInd]=i.categoryValue,void 0!==n.rawColor&&(c.color=n.rawColor),o.emit(t,{points:s,event:r,constraints:c})}function I(e,t){var r,n,i=a.select(t.parentNode).select("rect.catrect"),o=i.node().getBoundingClientRect(),l=i.datum(),s=l.parcatsViewModel,c=s.model.dimensions[l.model.dimensionInd],d=s.trace,u=o.top+o.height/2;s.dimensions.length>1&&c.displayInd===s.dimensions.length-1?(r=o.left,n="left"):(r=o.left+o.width,n="right");var p=l.model.count,f=l.model.categoryLabel,g=p/l.parcatsViewModel.model.count,h={countLabel:p,categoryLabel:f,probabilityLabel:g.toFixed(3)},y=[];-1!==l.parcatsViewModel.hoverinfoItems.indexOf("count")&&y.push(["Count:",h.countLabel].join(" ")),-1!==l.parcatsViewModel.hoverinfoItems.indexOf("probability")&&y.push(["P("+h.categoryLabel+"):",h.probabilityLabel].join(" "));var m=y.join("<br>");return{trace:d,x:r-e.left,y:u-e.top,text:m,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:n,hovertemplate:d.hovertemplate,hovertemplateLabels:h,eventData:[{data:d._input,fullData:d,count:p,category:f,probability:g}]}}function T(e){if(!e.parcatsViewModel.dragDimension&&-1===e.parcatsViewModel.hoverinfoItems.indexOf("skip")){if(a.mouse(this)[1]<-1)return;var t,r=e.parcatsViewModel.graphDiv,n=r._fullLayout,l=n._paperdiv.node().getBoundingClientRect(),c=e.parcatsViewModel.hoveron;if("color"===c?(!function(e){var t=a.select(e).datum(),r=A(t);b(r),r.each((function(){o.raiseToTop(this)})),a.select(e.parentNode).selectAll("rect.bandrect").filter((function(e){return e.color===t.color})).each((function(){o.raiseToTop(this),a.select(this).attr("stroke","black").attr("stroke-width",1.5)}))}(this),C(this,"plotly_hover",a.event)):(!function(e){a.select(e.parentNode).selectAll("rect.bandrect").each((function(e){var t=A(e);b(t),t.each((function(){o.raiseToTop(this)}))})),a.select(e.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(this),_(this,"plotly_hover",a.event)),-1===e.parcatsViewModel.hoverinfoItems.indexOf("none"))"category"===c?t=I(l,this):"color"===c?t=function(e,t){var r,n,i=t.getBoundingClientRect(),o=a.select(t).datum(),l=o.categoryViewModel,c=l.parcatsViewModel,d=c.model.dimensions[l.model.dimensionInd],u=c.trace,p=i.y+i.height/2;c.dimensions.length>1&&d.displayInd===c.dimensions.length-1?(r=i.left,n="left"):(r=i.left+i.width,n="right");var f=l.model.categoryLabel,g=o.parcatsViewModel.model.count,h=0;o.categoryViewModel.bands.forEach((function(e){e.color===o.color&&(h+=e.count)}));var y=l.model.count,m=0;c.pathSelection.each((function(e){e.model.color===o.color&&(m+=e.model.count)}));var v=h/g,x=h/m,b=h/y,w={countLabel:g,categoryLabel:f,probabilityLabel:v.toFixed(3)},k=[];-1!==l.parcatsViewModel.hoverinfoItems.indexOf("count")&&k.push(["Count:",w.countLabel].join(" ")),-1!==l.parcatsViewModel.hoverinfoItems.indexOf("probability")&&(k.push("P(color âˆ© "+f+"): "+w.probabilityLabel),k.push("P("+f+" | color): "+x.toFixed(3)),k.push("P(color | "+f+"): "+b.toFixed(3)));var A=k.join("<br>"),_=s.mostReadable(o.color,["black","white"]);return{trace:u,x:r-e.left,y:p-e.top,text:A,color:o.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:_,fontSize:10,idealAlign:n,hovertemplate:u.hovertemplate,hovertemplateLabels:w,eventData:[{data:u._input,fullData:u,category:f,count:g,probability:v,categorycount:y,colorcount:m,bandcolorcount:h}]}}(l,this):"dimension"===c&&(t=function(e,t){var r=[];return a.select(t.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each((function(){r.push(I(e,this))})),r}(l,this)),t&&i.loneHover(t,{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:r})}}function D(e){var t=e.parcatsViewModel;if(!t.dragDimension&&(x(t.pathSelection),w(t.dimensionSelection.selectAll("g.category")),k(t.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),i.loneUnhover(t.graphDiv._fullLayout._hoverlayer.node()),t.pathSelection.sort(f),-1===t.hoverinfoItems.indexOf("skip"))){"color"===e.parcatsViewModel.hoveron?C(this,"plotly_unhover",a.event):_(this,"plotly_unhover",a.event)}}function M(e){"fixed"!==e.parcatsViewModel.arrangement&&(e.dragDimensionDisplayInd=e.model.displayInd,e.initialDragDimensionDisplayInds=e.parcatsViewModel.model.dimensions.map((function(e){return e.displayInd})),e.dragHasMoved=!1,e.dragCategoryDisplayInd=null,a.select(this).selectAll("g.category").select("rect.catrect").each((function(t){var r=a.mouse(this)[0],n=a.mouse(this)[1];-2<=r&&r<=t.width+2&&-2<=n&&n<=t.height+2&&(e.dragCategoryDisplayInd=t.model.displayInd,e.initialDragCategoryDisplayInds=e.model.categories.map((function(e){return e.displayInd})),t.model.dragY=t.y,o.raiseToTop(this.parentNode),a.select(this.parentNode).selectAll("rect.bandrect").each((function(t){t.y<n&&n<=t.y+t.height&&(e.potentialClickBand=this)})))})),e.parcatsViewModel.dragDimension=e,i.loneUnhover(e.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O(e){if("fixed"!==e.parcatsViewModel.arrangement&&(e.dragHasMoved=!0,null!==e.dragDimensionDisplayInd)){var t=e.dragDimensionDisplayInd,r=t-1,n=t+1,i=e.parcatsViewModel.dimensions[t];if(null!==e.dragCategoryDisplayInd){var o=i.categories[e.dragCategoryDisplayInd];o.model.dragY+=a.event.dy;var l=o.model.dragY,s=o.model.displayInd,c=i.categories,d=c[s-1],u=c[s+1];void 0!==d&&l<d.y+d.height/2&&(o.model.displayInd=d.model.displayInd,d.model.displayInd=s),void 0!==u&&l+o.height>u.y+u.height/2&&(o.model.displayInd=u.model.displayInd,u.model.displayInd=s),e.dragCategoryDisplayInd=o.model.displayInd}if(null===e.dragCategoryDisplayInd||"freeform"===e.parcatsViewModel.arrangement){i.model.dragX=a.event.x;var p=e.parcatsViewModel.dimensions[r],f=e.parcatsViewModel.dimensions[n];void 0!==p&&i.model.dragX<p.x+p.width&&(i.model.displayInd=p.model.displayInd,p.model.displayInd=t),void 0!==f&&i.model.dragX+i.width>f.x&&(i.model.displayInd=f.model.displayInd,f.model.displayInd=e.dragDimensionDisplayInd),e.dragDimensionDisplayInd=i.model.displayInd}R(e.parcatsViewModel),E(e.parcatsViewModel),V(e.parcatsViewModel),S(e.parcatsViewModel)}}function P(e){if("fixed"!==e.parcatsViewModel.arrangement&&null!==e.dragDimensionDisplayInd){a.select(this).selectAll("text").attr("font-weight","normal");var t={},r=L(e.parcatsViewModel),i=e.parcatsViewModel.model.dimensions.map((function(e){return e.displayInd})),o=e.initialDragDimensionDisplayInds.some((function(e,t){return e!==i[t]}));o&&i.forEach((function(r,a){var n=e.parcatsViewModel.model.dimensions[a].containerInd;t["dimensions["+n+"].displayindex"]=r}));var l=!1;if(null!==e.dragCategoryDisplayInd){var s=e.model.categories.map((function(e){return e.displayInd}));if(l=e.initialDragCategoryDisplayInds.some((function(e,t){return e!==s[t]}))){var c=e.model.categories.slice().sort((function(e,t){return e.displayInd-t.displayInd})),d=c.map((function(e){return e.categoryValue})),u=c.map((function(e){return e.categoryLabel}));t["dimensions["+e.model.containerInd+"].categoryarray"]=[d],t["dimensions["+e.model.containerInd+"].ticktext"]=[u],t["dimensions["+e.model.containerInd+"].categoryorder"]="array"}}if(-1===e.parcatsViewModel.hoverinfoItems.indexOf("skip")&&!e.dragHasMoved&&e.potentialClickBand&&("color"===e.parcatsViewModel.hoveron?C(e.potentialClickBand,"plotly_click",a.event.sourceEvent):_(e.potentialClickBand,"plotly_click",a.event.sourceEvent)),e.model.dragX=null,null!==e.dragCategoryDisplayInd)e.parcatsViewModel.dimensions[e.dragDimensionDisplayInd].categories[e.dragCategoryDisplayInd].model.dragY=null,e.dragCategoryDisplayInd=null;e.dragDimensionDisplayInd=null,e.parcatsViewModel.dragDimension=null,e.dragHasMoved=null,e.potentialClickBand=null,R(e.parcatsViewModel),E(e.parcatsViewModel),a.transition().duration(300).ease("cubic-in-out").each((function(){V(e.parcatsViewModel,!0),S(e.parcatsViewModel,!0)})).each("end",(function(){(o||l)&&n.restyle(e.parcatsViewModel.graphDiv,t,[r])}))}}function L(e){for(var t,r=e.graphDiv._fullData,a=0;a<r.length;a++)if(e.key===r[a].uid){t=a;break}return t}function S(e,t){var r;void 0===t&&(t=!1),e.pathSelection.data((function(e){return e.paths}),u),(r=e.pathSelection,t?r.transition():r).attr("d",(function(e){return e.svgD}))}function V(e,t){function r(e){return t?e.transition():e}void 0===t&&(t=!1),e.dimensionSelection.data((function(e){return e.dimensions}),u);var n=e.dimensionSelection.selectAll("g.category").data((function(e){return e.categories}),u);r(e.dimensionSelection).attr("transform",(function(e){return"translate("+e.x+", 0)"})),r(n).attr("transform",(function(e){return"translate(0, "+e.y+")"})),n.select(".dimlabel").text((function(e,t){return 0===t?e.parcatsViewModel.model.dimensions[e.model.dimensionInd].dimensionLabel:null})),n.select(".catlabel").attr("text-anchor",(function(e){return p(e)?"start":"end"})).attr("x",(function(e){return p(e)?e.width+5:-5})).each((function(e){var t,r;p(e)?(t=e.width+5,r="start"):(t=-5,r="end"),a.select(this).selectAll("tspan").attr("x",t).attr("text-anchor",r)}));var i=n.selectAll("rect.bandrect").data((function(e){return e.bands}),u),l=i.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",(function(e){return e.color})).attr("fill-opacity",0);i.attr("fill",(function(e){return e.color})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).attr("y",(function(e){return e.y})),k(l),i.each((function(){o.raiseToTop(this)})),i.exit().remove()}function j(e,t,r){var a,n=r[0],i=t.margin||{l:80,r:80,t:100,b:80},o=n.trace,l=o.domain,s=t.width,c=t.height,d=Math.floor(s*(l.x[1]-l.x[0])),u=Math.floor(c*(l.y[1]-l.y[0])),p=l.x[0]*s+i.l,f=t.height-l.y[1]*t.height+i.t,g=o.line.shape;a="all"===o.hoverinfo?["count","probability"]:(o.hoverinfo||"").split("+");var h={trace:o,key:o.uid,model:n,x:p,y:f,width:d,height:u,hoveron:o.hoveron,hoverinfoItems:a,arrangement:o.arrangement,bundlecolors:o.bundlecolors,sortpaths:o.sortpaths,labelfont:o.labelfont,categorylabelfont:o.tickfont,pathShape:g,dragDimension:null,margin:i,paths:[],dimensions:[],graphDiv:e,traceSelection:null,pathSelection:null,dimensionSelection:null};return n.dimensions&&(R(h),E(h)),h}function z(e,t,r,n,i){var o,l,s=[],c=[];for(l=0;l<r.length-1;l++)o=a.interpolateNumber(r[l]+e[l],e[l+1]),s.push(o(i)),c.push(o(1-i));var d="M "+e[0]+","+t[0];for(d+="l"+r[0]+",0 ",l=1;l<r.length;l++)d+="C"+s[l-1]+","+t[l-1]+" "+c[l-1]+","+t[l]+" "+e[l]+","+t[l],d+="l"+r[l]+",0 ";for(d+="l0,"+n+" ",d+="l -"+r[r.length-1]+",0 ",l=r.length-2;l>=0;l--)d+="C"+c[l]+","+(t[l+1]+n)+" "+s[l]+","+(t[l]+n)+" "+(e[l]+r[l])+","+(t[l]+n),d+="l-"+r[l]+",0 ";return d+="Z"}function E(e){var t=e.dimensions,r=e.model,a=t.map((function(e){return e.categories.map((function(e){return e.y}))})),n=e.model.dimensions.map((function(e){return e.categories.map((function(e){return e.displayInd}))})),i=e.model.dimensions.map((function(e){return e.displayInd})),o=e.dimensions.map((function(e){return e.model.dimensionInd})),l=t.map((function(e){return e.x})),s=t.map((function(e){return e.width})),c=[];for(var d in r.paths)r.paths.hasOwnProperty(d)&&c.push(r.paths[d]);function u(e){var t=e.categoryInds.map((function(e,t){return n[t][e]}));return o.map((function(e){return t[e]}))}c.sort((function(t,r){var a=u(t),n=u(r);return"backward"===e.sortpaths&&(a.reverse(),n.reverse()),a.push(t.valueInds[0]),n.push(r.valueInds[0]),e.bundlecolors&&(a.unshift(t.rawColor),n.unshift(r.rawColor)),a<n?-1:a>n?1:0}));for(var p=new Array(c.length),f=t[0].model.count,g=t[0].categories.map((function(e){return e.height})).reduce((function(e,t){return e+t})),h=0;h<c.length;h++){var y,m=c[h];y=f>0?g*(m.count/f):0;for(var v,x=new Array(a.length),b=0;b<m.categoryInds.length;b++){var w=m.categoryInds[b],k=n[b][w],A=i[b];x[A]=a[A][k],a[A][k]+=y;var _=e.dimensions[A].categories[k],C=_.bands.length,I=_.bands[C-1];if(void 0===I||m.rawColor!==I.rawColor){var T=void 0===I?0:I.y+I.height;_.bands.push({key:T,color:m.color,rawColor:m.rawColor,height:y,width:_.width,count:m.count,y:T,categoryViewModel:_,parcatsViewModel:e})}else{var D=_.bands[C-1];D.height+=y,D.count+=m.count}}v="hspline"===e.pathShape?z(l,x,s,y,.5):z(l,x,s,y,0),p[h]={key:m.valueInds[0],model:m,height:y,leftXs:l,topYs:x,dimWidths:s,svgD:v,parcatsViewModel:e}}e.paths=p}function R(e){var t=e.model.dimensions.map((function(e){return{displayInd:e.displayInd,dimensionInd:e.dimensionInd}}));t.sort((function(e,t){return e.displayInd-t.displayInd}));var r=[];for(var a in t){var n=t[a].dimensionInd,i=e.model.dimensions[n];r.push(F(e,i))}e.dimensions=r}function F(e,t){var r,a=e.model.dimensions.length,n=t.displayInd;r=40+(a>1?(e.width-80-16)/(a-1):0)*n;var i,o,l,s,c,d=[],u=e.model.maxCats,p=t.categories.length,f=t.count,g=e.height-8*(u-1),h=8*(u-p)/2,y=t.categories.map((function(e){return{displayInd:e.displayInd,categoryInd:e.categoryInd}}));for(y.sort((function(e,t){return e.displayInd-t.displayInd})),c=0;c<p;c++)s=y[c].categoryInd,o=t.categories[s],i=f>0?o.count/f*g:0,l={key:o.valueInds[0],model:o,width:16,height:i,y:null!==o.dragY?o.dragY:h,bands:[],parcatsViewModel:e},h=h+i+8,d.push(l);return{key:t.dimensionInd,x:null!==t.dragX?t.dragX:r,y:0,width:16,model:t,categories:d,parcatsViewModel:e,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}e.exports=function(e,t,r,a){d(r,e,a,t)}},1718:function(e,t,r){"use strict";var a=r(212).getModuleCalcData,n=r(1635);t.name="parcats",t.plot=function(e,t,r,i){var o=a(e.calcdata,"parcats");if(o.length){var l=o[0];n(e,l,r,i)}},t.clean=function(e,t,r,a){var n=a._has&&a._has("parcats"),i=t._has&&t._has("parcats");n&&!i&&a._paperdiv.selectAll(".parcats").remove()}},276:function(e,t,r){"use strict";e.exports=r(1714)},624:function(e,t,r){"use strict";var a=r(32).extendFlat;t.attributes=function(e,t){t=t||{};var r={valType:"info_array",role:"info",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},n=e.name?e.name+" ":"",i=e.trace?"trace ":"subplot ",o=t.description?" "+t.description:"",l={x:a({},r,{description:["Sets the horizontal domain of this ",n,i,"(in plot fraction).",o].join("")}),y:a({},r,{description:["Sets the vertical domain of this ",n,i,"(in plot fraction).",o].join("")}),editType:e.editType};return e.noGridCell||(l.row={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",n,i,".",o].join("")},l.column={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",n,i,".",o].join("")}),l},t.defaults=function(e,t,r,a){var n=a&&a.x||[0,1],i=a&&a.y||[0,1],o=t.grid;if(o){var l=r("domain.column");void 0!==l&&(l<o.columns?n=o._domains.x[l]:delete e.domain.column);var s=r("domain.row");void 0!==s&&(s<o.rows?i=o._domains.y[s]:delete e.domain.row)}var c=r("domain.x",n),d=r("domain.y",i);c[0]<c[1]||(e.domain.x=n.slice()),d[0]<d[1]||(e.domain.y=i.slice())}},690:function(e,t,r){"use strict";var a=r(24),n=r(12),i=r(1030),o=r(6),l=o.nestedProperty,s=r(895),c=r(694),d=r(23),u=r(113),p=r(107),f=r(771),g=r(105),h=r(106),y=r(57),m=r(1031).initInteractions,v=r(152),x=r(108),b=r(641).clearSelect,w=r(153).dfltConfig,k=r(775),A=r(777),_=r(882),C=r(109),I=r(80).AX_NAME_PATTERN,T=0;function D(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function M(e,t){try{e._fullLayout._paper.style("background",t)}catch(e){o.error(e)}}function O(e,t){M(e,y.combine(t,"white"))}function P(e,t){if(!e._context){e._context=o.extendDeep({},w);var r=a.select("base");e._context._baseUrl=r.size()&&r.attr("href")?window.location.href.split("#")[0]:""}var n,l,s,c=e._context;if(t){for(l=Object.keys(t),n=0;n<l.length;n++)"editable"!==(s=l[n])&&"edits"!==s&&s in c&&("setBackground"===s&&"opaque"===t[s]?c[s]=O:c[s]=t[s]);t.plot3dPixelRatio&&!c.plotGlPixelRatio&&(c.plotGlPixelRatio=c.plot3dPixelRatio);var d=t.editable;if(void 0!==d)for(c.editable=d,l=Object.keys(c.edits),n=0;n<l.length;n++)c.edits[l[n]]=d;if(t.edits)for(l=Object.keys(t.edits),n=0;n<l.length;n++)(s=l[n])in c.edits&&(c.edits[s]=t.edits[s]);c._exportedPlot=t._exportedPlot}c.staticPlot&&(c.editable=!1,c.edits={},c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1),"hover"!==c.displayModeBar||i||(c.displayModeBar=!0),"transparent"!==c.setBackground&&"function"==typeof c.setBackground||(c.setBackground=M),c._hasZeroHeight=c._hasZeroHeight||0===e.clientHeight,c._hasZeroWidth=c._hasZeroWidth||0===e.clientWidth;var u=c.scrollZoom,p=c._scrollZoom={};if(!0===u)p.cartesian=1,p.gl3d=1,p.geo=1,p.mapbox=1;else if("string"==typeof u){var f=u.split("+");for(n=0;n<f.length;n++)p[f[n]]=1}else!1!==u&&(p.gl3d=1,p.geo=1,p.mapbox=1)}function L(e,t){var r,a,n=t+1,i=[];for(r=0;r<e.length;r++)(a=e[r])<0?i.push(n+a):i.push(a);return i}function S(e,t,r){var a,n;for(a=0;a<t.length;a++){if((n=t[a])!==parseInt(n,10))throw new Error("all values in "+r+" must be integers");if(n>=e.data.length||n<-e.data.length)throw new Error(r+" must be valid indices for gd.data.");if(t.indexOf(n,a+1)>-1||n>=0&&t.indexOf(-e.data.length+n)>-1||n<0&&t.indexOf(e.data.length+n)>-1)throw new Error("each index in "+r+" must be unique.")}}function V(e,t,r){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),S(e,t,"currentIndices"),void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&S(e,r,"newIndices"),void 0!==r&&t.length!==r.length)throw new Error("current and new indices must be of equal length.")}function j(e,t,r,a,i){!function(e,t,r,a){var n=o.isPlainObject(a);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!o.isPlainObject(t))throw new Error("update must be a key:value object");if(void 0===r)throw new Error("indices must be an integer or array of integers");for(var i in S(e,r,"indices"),t){if(!Array.isArray(t[i])||t[i].length!==r.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(n&&(!(i in a)||!Array.isArray(a[i])||a[i].length!==t[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(e,t,r,a);for(var s=function(e,t,r,a){var i,s,c,d,u,p=o.isPlainObject(a),f=[];for(var g in Array.isArray(r)||(r=[r]),r=L(r,e.data.length-1),t)for(var h=0;h<r.length;h++){if(i=e.data[r[h]],s=(c=l(i,g)).get(),d=t[g][h],!o.isArrayOrTypedArray(d))throw new Error("attribute: "+g+" index: "+h+" must be an array");if(!o.isArrayOrTypedArray(s))throw new Error("cannot extend missing or non-array attribute: "+g);if(s.constructor!==d.constructor)throw new Error("cannot extend array with an array of a different type: "+g);u=p?a[g][h]:a,n(u)||(u=-1),f.push({prop:c,target:s,insert:d,maxp:Math.floor(u)})}return f}(e,t,r,a),c={},d={},u=0;u<s.length;u++){var p=s[u].prop,f=s[u].maxp,g=i(s[u].target,s[u].insert,f);p.set(g[0]),Array.isArray(c[p.astr])||(c[p.astr]=[]),c[p.astr].push(g[1]),Array.isArray(d[p.astr])||(d[p.astr]=[]),d[p.astr].push(s[u].target.length)}return{update:c,maxPoints:d}}function z(e,t){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}function E(e,r,a,n){e=o.getGraphDiv(e),A.clearPromiseQueue(e);var i={};if("string"==typeof r)i[r]=a;else{if(!o.isPlainObject(r))return o.warn("Restyle fail.",r,a,n),Promise.reject();i=o.extendFlat({},r),void 0===n&&(n=a)}Object.keys(i).length&&(e.changed=!0);var l=A.coerceTraceIndices(e,n),s=B(e,i,l),d=s.flags;d.calc&&(e.calcdata=void 0),d.clearAxisTypes&&A.clearAxisTypes(e,l,{});var u=[];d.fullReplot?u.push(t.plot):(u.push(p.previousPromises),p.supplyDefaults(e),d.markerSize&&(p.doCalcdata(e),U(u)),d.style&&u.push(_.doTraceStyle),d.colorbars&&u.push(_.doColorBars),u.push(D)),u.push(p.rehover,p.redrag),c.add(e,E,[e,s.undoit,s.traces],E,[e,s.redoit,s.traces]);var f=o.syncOrAsync(u,e);return f&&f.then||(f=Promise.resolve()),f.then((function(){return e.emit("plotly_restyle",s.eventData),e}))}function R(e){return void 0===e?null:e}function F(e,t){return t?function(t,r,a){var n=l(t,r),i=n.set;return n.set=function(t){q((a||"")+r,n.get(),t,e),i(t)},n}:l}function q(e,t,r,a){if(Array.isArray(t)||Array.isArray(r))for(var n=Array.isArray(t)?t:[],i=Array.isArray(r)?r:[],l=Math.max(n.length,i.length),s=0;s<l;s++)q(e+"["+s+"]",n[s],i[s],a);else if(o.isPlainObject(t)||o.isPlainObject(r)){var c=o.isPlainObject(t)?t:{},d=o.isPlainObject(r)?r:{},u=o.extendFlat({},c,d);for(var p in u)q(e+"."+p,c[p],d[p],a)}else void 0===a[e]&&(a[e]=R(t))}function B(e,t,r){var a,n=e._fullLayout,i=e._fullData,s=e.data,c=n._guiEditing,f=F(n._preGUI,c),h=o.extendDeepAll({},t);Q(t);var y,m=C.traceFlags(),v={},x={};function b(){return r.map((function(){}))}function w(e){var t=g.id2name(e);-1===y.indexOf(t)&&y.push(t)}function k(e){return"LAYOUT"+e+".autorange"}function _(e){return"LAYOUT"+e+".range"}function I(e){for(var t=e;t<i.length;t++)if(i[t]._input===s[e])return i[t]}function T(a,i,o){if(Array.isArray(a))a.forEach((function(e){T(e,i,o)}));else if(!(a in t)&&!A.hasParent(t,a)){var l;if("LAYOUT"===a.substr(0,6))l=f(e.layout,a.replace("LAYOUT",""));else{var d=r[o];l=F(n._tracePreGUI[I(d)._fullInput.uid],c)(s[d],a)}a in x||(x[a]=b()),void 0===x[a][o]&&(x[a][o]=R(l.get())),void 0!==i&&l.set(i)}}function D(e){return function(t){return i[t][e]}}function M(e){return function(t,a){return!1===t?i[r[a]][e]:null}}for(var O in t){if(A.hasParent(t,O))throw new Error("cannot set "+O+" and a parent attribute simultaneously");var P,L,S,V,j,z,E=t[O];if("autobinx"!==O&&"autobiny"!==O||(O=O.charAt(O.length-1)+"bins",E=Array.isArray(E)?E.map(M(O)):!1===E?r.map(D(O)):null),v[O]=E,"LAYOUT"!==O.substr(0,6)){for(x[O]=b(),a=0;a<r.length;a++){if(P=s[r[a]],L=I(r[a]),V=(S=F(n._tracePreGUI[L._fullInput.uid],c)(P,O)).get(),void 0!==(j=Array.isArray(E)?E[a%E.length]:E)){var q=S.parts[S.parts.length-1],B=O.substr(0,O.length-q.length-1),N=B?B+".":"",G=B?l(L,B).get():L;if((z=u.getTraceValObject(L,S.parts))&&z.impliedEdits&&null!==j)for(var U in z.impliedEdits)T(o.relativeAttr(O,U),z.impliedEdits[U],a);else if("thicknessmode"!==q&&"lenmode"!==q||V===j||"fraction"!==j&&"pixels"!==j||!G){if("type"===O&&("pie"===j!=("pie"===V)||"funnelarea"===j!=("funnelarea"===V))){var Y="x",H="y";"bar"!==j&&"bar"!==V||"h"!==P.orientation||(Y="y",H="x"),o.swapAttrs(P,["?","?src"],"labels",Y),o.swapAttrs(P,["d?","?0"],"label",Y),o.swapAttrs(P,["?","?src"],"values",H),"pie"===V||"funnelarea"===V?(l(P,"marker.color").set(l(P,"marker.colors").get()),n._pielayer.selectAll("g.trace").remove()):d.traceIs(P,"cartesian")&&l(P,"marker.colors").set(l(P,"marker.color").get())}}else{var W=n._size,X=G.orient,$="top"===X||"bottom"===X;if("thicknessmode"===q){var J=$?W.h:W.w;T(N+"thickness",G.thickness*("fraction"===j?1/J:J),a)}else{var Z=$?W.w:W.h;T(N+"len",G.len*("fraction"===j?1/Z:Z),a)}}x[O][a]=R(V);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(O)){if("orientation"===O){S.set(j);var K=P.x&&!P.y?"h":"v";if((S.get()||K)===L.orientation)continue}else"orientationaxes"===O&&(P.orientation={v:"h",h:"v"}[L.orientation]);A.swapXYData(P),m.calc=m.clearAxisTypes=!0}else-1!==p.dataArrayContainers.indexOf(S.parts[0])?(A.manageArrayContainers(S,j,x),m.calc=!0):(z?z.arrayOk&&!d.traceIs(L,"regl")&&(o.isArrayOrTypedArray(j)||o.isArrayOrTypedArray(V))?m.calc=!0:C.update(m,z):m.calc=!0,S.set(j))}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(O)&&g.swap(e,r),"orientationaxes"===O){var ee=l(e.layout,"hovermode");"x"===ee.get()?ee.set("y"):"y"===ee.get()?ee.set("x"):"x unified"===ee.get()?ee.set("y unified"):"y unified"===ee.get()&&ee.set("x unified")}if(-1!==["orientation","type"].indexOf(O)){for(y=[],a=0;a<r.length;a++){var te=s[r[a]];d.traceIs(te,"cartesian")&&(w(te.xaxis||"x"),w(te.yaxis||"y"))}T(y.map(k),!0,0),T(y.map(_),[0,1],0)}}else S=f(e.layout,O.replace("LAYOUT","")),x[O]=[R(S.get())],S.set(Array.isArray(E)?E[0]:E),m.calc=!0}return(m.calc||m.plot)&&(m.fullReplot=!0),{flags:m,undoit:x,redoit:v,traces:r,eventData:o.extendDeepNoArrays([],[h,r])}}function Q(e){var t,r,a,n=o.counterRegex("axis",".title",!1,!1),i=/colorbar\.title$/,l=Object.keys(e);for(t=0;t<l.length;t++)r=l[t],a=e[r],"title"!==r&&!n.test(r)&&!i.test(r)||"string"!=typeof a&&"number"!=typeof a?r.indexOf("titlefont")>-1?s(r,r.replace("titlefont","title.font")):r.indexOf("titleposition")>-1?s(r,r.replace("titleposition","title.position")):r.indexOf("titleside")>-1?s(r,r.replace("titleside","title.side")):r.indexOf("titleoffset")>-1&&s(r,r.replace("titleoffset","title.offset")):s(r,r.replace("title","title.text"));function s(t,r){e[r]=e[t],delete e[t]}}function N(e,t,r){if(e=o.getGraphDiv(e),A.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var a={};if("string"==typeof t)a[t]=r;else{if(!o.isPlainObject(t))return o.warn("Relayout fail.",t,r),Promise.reject();a=o.extendFlat({},t)}Object.keys(a).length&&(e.changed=!0);var n=X(e,a),i=n.flags;i.calc&&(e.calcdata=void 0);var l=[p.previousPromises];i.layoutReplot?l.push(_.layoutReplot):Object.keys(a).length&&(G(e,i,n)||p.supplyDefaults(e),i.legend&&l.push(_.doLegend),i.layoutstyle&&l.push(_.layoutStyles),i.axrange&&U(l,n.rangesAltered),i.ticks&&l.push(_.doTicksRelayout),i.modebar&&l.push(_.doModeBar),i.camera&&l.push(_.doCamera),i.colorbars&&l.push(_.doColorBars),l.push(D)),l.push(p.rehover,p.redrag),c.add(e,N,[e,n.undoit],N,[e,n.redoit]);var s=o.syncOrAsync(l,e);return s&&s.then||(s=Promise.resolve(e)),s.then((function(){return e.emit("plotly_relayout",n.eventData),e}))}function G(e,t,r){var a=e._fullLayout;if(!t.axrange)return!1;for(var n in t)if("axrange"!==n&&t[n])return!1;for(var i in r.rangesAltered){var o=g.id2name(i),l=e.layout[o],s=a[o];if(s.autorange=l.autorange,s.range=l.range.slice(),s.cleanRange(),s._matchGroup)for(var c in s._matchGroup)if(c!==i){var d=a[g.id2name(c)];d.autorange=s.autorange,d.range=s.range.slice(),d._input.range=s.range.slice()}}return!0}function U(e,t){var r=t?function(e){var r=[],a=!0;for(var n in t){var i=g.getFromId(e,n);if(r.push(n),i._matchGroup)for(var o in i._matchGroup)t[o]||r.push(o);i.automargin&&(a=!1)}return g.draw(e,r,{skipTitle:a})}:function(e){return g.draw(e,"redraw")};e.push(b,_.doAutoRangeAndConstraints,r,_.drawData,_.finalDraw)}var Y=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,H=/^[xyz]axis[0-9]*\.autorange$/,W=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function X(e,t){var r,a,n,i=e.layout,s=e._fullLayout,c=s._guiEditing,p=F(s._preGUI,c),f=Object.keys(t),h=g.list(e),y=o.extendDeepAll({},t),m={};for(Q(t),f=Object.keys(t),a=0;a<f.length;a++)if(0===f[a].indexOf("allaxes")){for(n=0;n<h.length;n++){var v=h[n]._id.substr(1),x=-1!==v.indexOf("scene")?v+".":"",b=f[a].replace("allaxes",x+h[n]._name);t[b]||(t[b]=t[f[a]])}delete t[f[a]]}var w=C.layoutFlags(),_={},T={};function D(e,r){if(Array.isArray(e))e.forEach((function(e){D(e,r)}));else if(!(e in t)&&!A.hasParent(t,e)){var a=p(i,e);e in T||(T[e]=R(a.get())),void 0!==r&&a.set(r)}}var M,O={};function P(e){var t=g.name2id(e.split(".")[0]);return O[t]=1,t}for(var L in t){if(A.hasParent(t,L))throw new Error("cannot set "+L+" and a parent attribute simultaneously");for(var S=p(i,L),V=t[L],j=S.parts.length-1;j>0&&"string"!=typeof S.parts[j];)j--;var z=S.parts[j],E=S.parts[j-1]+"."+z,q=S.parts.slice(0,j).join("."),B=l(e.layout,q).get(),N=l(s,q).get(),G=S.get();if(void 0!==V){_[L]=V,T[L]="reverse"===z?V:R(G);var U=u.getLayoutValObject(s,S.parts);if(U&&U.impliedEdits&&null!==V)for(var X in U.impliedEdits)D(o.relativeAttr(L,X),U.impliedEdits[X]);if(-1!==["width","height"].indexOf(L))if(V){D("autosize",null);var J="height"===L?"width":"height";D(J,s[J])}else s[L]=e._initialAutoSize[L];else if("autosize"===L)D("width",V?null:s.width),D("height",V?null:s.height);else if(E.match(Y))P(E),l(s,q+"._inputRange").set(null);else if(E.match(H)){P(E),l(s,q+"._inputRange").set(null);var Z=l(s,q).get();Z._inputDomain&&(Z._input.domain=Z._inputDomain.slice())}else E.match(W)&&l(s,q+"._inputDomain").set(null);if("type"===z){var K=B,ee="linear"===N.type&&"log"===V,te="log"===N.type&&"linear"===V;if(ee||te){if(K&&K.range)if(N.autorange)ee&&(K.range=K.range[1]>K.range[0]?[1,2]:[2,1]);else{var re=K.range[0],ae=K.range[1];ee?(re<=0&&ae<=0&&D(q+".autorange",!0),re<=0?re=ae/1e6:ae<=0&&(ae=re/1e6),D(q+".range[0]",Math.log(re)/Math.LN10),D(q+".range[1]",Math.log(ae)/Math.LN10)):(D(q+".range[0]",Math.pow(10,re)),D(q+".range[1]",Math.pow(10,ae)))}else D(q+".autorange",!0);Array.isArray(s._subplots.polar)&&s._subplots.polar.length&&s[S.parts[0]]&&"radialaxis"===S.parts[1]&&delete s[S.parts[0]]._subplot.viewInitial["radialaxis.range"],d.getComponentMethod("annotations","convertCoords")(e,N,V,D),d.getComponentMethod("images","convertCoords")(e,N,V,D)}else D(q+".autorange",!0),D(q+".range",null);l(s,q+"._inputRange").set(null)}else if(z.match(I)){var ne=l(s,L).get(),ie=(V||{}).type;ie&&"-"!==ie||(ie="linear"),d.getComponentMethod("annotations","convertCoords")(e,ne,ie,D),d.getComponentMethod("images","convertCoords")(e,ne,ie,D)}var oe=k.containerArrayMatch(L);if(oe){r=oe.array,a=oe.index;var le=oe.property,se=U||{editType:"calc"};""!==a&&""===le&&(k.isAddVal(V)?T[L]=null:k.isRemoveVal(V)?T[L]=(l(i,r).get()||[])[a]:o.warn("unrecognized full object value",t)),C.update(w,se),m[r]||(m[r]={});var ce=m[r][a];ce||(ce=m[r][a]={}),ce[le]=V,delete t[L]}else"reverse"===z?(B.range?B.range.reverse():(D(q+".autorange",!0),B.range=[1,0]),N.autorange?w.calc=!0:w.plot=!0):(s._has("scatter-like")&&s._has("regl")&&"dragmode"===L&&("lasso"===V||"select"===V)&&"lasso"!==G&&"select"!==G||s._has("gl2d")?w.plot=!0:U?C.update(w,U):w.calc=!0,S.set(V))}}for(r in m){k.applyContainerArrayChanges(e,p(i,r),m[r],w,p)||(w.plot=!0)}var de=s._axisConstraintGroups||[];for(M in O)for(a=0;a<de.length;a++){var ue=de[a];if(ue[M])for(var pe in w.calc=!0,ue)O[pe]||(g.getFromId(e,pe)._constraintShrinkable=!0)}return($(e)||t.height||t.width)&&(w.plot=!0),(w.plot||w.calc)&&(w.layoutReplot=!0),{flags:w,rangesAltered:O,undoit:T,redoit:_,eventData:y}}function $(e){var t=e._fullLayout,r=t.width,a=t.height;return e.layout.autosize&&p.plotAutoSize(e,e.layout,t),t.width!==r||t.height!==a}function J(e,r,a,n){if(e=o.getGraphDiv(e),A.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);o.isPlainObject(r)||(r={}),o.isPlainObject(a)||(a={}),Object.keys(r).length&&(e.changed=!0),Object.keys(a).length&&(e.changed=!0);var i=A.coerceTraceIndices(e,n),l=B(e,o.extendFlat({},r),i),s=l.flags,d=X(e,o.extendFlat({},a)),u=d.flags;(s.calc||u.calc)&&(e.calcdata=void 0),s.clearAxisTypes&&A.clearAxisTypes(e,i,a);var f=[];u.layoutReplot?f.push(_.layoutReplot):s.fullReplot?f.push(t.plot):(f.push(p.previousPromises),G(e,u,d)||p.supplyDefaults(e),s.style&&f.push(_.doTraceStyle),(s.colorbars||u.colorbars)&&f.push(_.doColorBars),u.legend&&f.push(_.doLegend),u.layoutstyle&&f.push(_.layoutStyles),u.axrange&&U(f,d.rangesAltered),u.ticks&&f.push(_.doTicksRelayout),u.modebar&&f.push(_.doModeBar),u.camera&&f.push(_.doCamera),f.push(D)),f.push(p.rehover,p.redrag),c.add(e,J,[e,l.undoit,d.undoit,l.traces],J,[e,l.redoit,d.redoit,l.traces]);var g=o.syncOrAsync(f,e);return g&&g.then||(g=Promise.resolve(e)),g.then((function(){return e.emit("plotly_update",{data:l.eventData,layout:d.eventData}),e}))}function Z(e){return function(t){t._fullLayout._guiEditing=!0;var r=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,r}}var K=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ee=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function te(e,t){for(var r=0;r<t.length;r++){var a=t[r],n=e.match(a.pattern);if(n)return{head:n[1],attr:a.attr}}}function re(e,t){var r=l(t,e).get();if(void 0!==r)return r;var a=e.split(".");for(a.pop();a.length>1;)if(a.pop(),void 0!==(r=l(t,a.join(".")+".uirevision").get()))return r;return t.uirevision}function ae(e,t){for(var r=0;r<t.length;r++)if(t[r]._fullInput.uid===e)return r;return-1}function ne(e,t,r){for(var a=0;a<t.length;a++)if(t[a].uid===e)return a;return!t[r]||t[r].uid?-1:r}function ie(e,t){var r=o.isPlainObject(e),a=Array.isArray(e);return r||a?(r&&o.isPlainObject(t)||a&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function oe(e,t,r,a){var n,i,s,c=a.getValObject,d=a.flags,u=a.immutable,p=a.inArray,f=a.arrayIndex;function g(){var e=n.editType;p&&-1!==e.indexOf("arraydraw")?o.pushUnique(d.arrays[p],f):(C.update(d,n),"none"!==e&&d.nChanges++,a.transition&&n.anim&&d.nChangesAnim++,(Y.test(s)||H.test(s))&&(d.rangesAltered[r[0]]=1),W.test(s)&&l(t,"_inputDomain").set(null),"datarevision"===i&&(d.newDataRevision=1))}function h(e){return"data_array"===e.valType||e.arrayOk}for(i in e){if(d.calc&&!a.transition)return;var y=e[i],m=t[i],v=r.concat(i);if(s=v.join("."),"_"!==i.charAt(0)&&"function"!=typeof y&&y!==m){if(("tick0"===i||"dtick"===i)&&"geo"!==r[0]){var x=t.tickmode;if("auto"===x||"array"===x||!x)continue}if(("range"!==i||!t.autorange)&&("zmin"!==i&&"zmax"!==i||"contourcarpet"!==t.type)&&(n=c(v))&&(!n._compareAsJSON||JSON.stringify(y)!==JSON.stringify(m))){var b,w=n.valType,k=h(n),A=Array.isArray(y),_=Array.isArray(m);if(A&&_){var I="_input_"+i,T=e[I],D=t[I];if(Array.isArray(T)&&T===D)continue}if(void 0===m)k&&A?d.calc=!0:g();else if(n._isLinkedToArray){var M=[],O=!1;p||(d.arrays[i]=M);var P=Math.min(y.length,m.length),L=Math.max(y.length,m.length);if(P!==L){if("arraydraw"!==n.editType){g();continue}O=!0}for(b=0;b<P;b++)oe(y[b],m[b],v.concat(b),o.extendFlat({inArray:i,arrayIndex:b},a));if(O)for(b=P;b<L;b++)M.push(b)}else!w&&o.isPlainObject(y)?oe(y,m,v,a):k?A&&_?(u&&(d.calc=!0),(u||a.newDataRevision)&&g()):A!==_?d.calc=!0:g():A&&_&&y.length===m.length&&String(y)===String(m)||g()}}}for(i in t)if(!(i in e)&&"_"!==i.charAt(0)&&"function"!=typeof t[i]){if(h(n=c(r.concat(i)))&&Array.isArray(t[i]))return void(d.calc=!0);g()}}function le(e){var t=a.select(e),r=e._fullLayout;if(r._container=t.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var n={};a.selectAll("defs").each((function(){this.id&&(n[this.id.split("-")[1]]=1)})),r._uid=o.randstr(n)}r._paperdiv.selectAll(".main-svg").attr(v.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var i=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=i.append("g").classed("imagelayer",!0),r._shapeLowerLayer=i.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._treemaplayer=r._paper.append("g").classed("treemaplayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var l=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=l.append("g").classed("imagelayer",!0),r._shapeUpperLayer=l.append("g").classed("shapelayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}t.animate=function(e,t,r){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var a=e._transitionData;a._frameQueue||(a._frameQueue=[]);var n=(r=p.supplyAnimationDefaults(r)).transition,i=r.frame;function l(e){return Array.isArray(n)?e>=n.length?n[0]:n[e]:n}function s(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function c(e,t){var r=0;return function(){if(e&&++r===t)return e()}}return void 0===a._frameWaitingCnt&&(a._frameWaitingCnt=0),new Promise((function(i,d){function u(){a._currentFrame&&a._currentFrame.onComplete&&a._currentFrame.onComplete();var t=a._currentFrame=a._frameQueue.shift();if(t){var r=t.name?t.name.toString():null;e._fullLayout._currentFrame=r,a._lastFrameAt=Date.now(),a._timeToNext=t.frameOpts.duration,p.transition(e,t.frame.data,t.frame.layout,A.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then((function(){t.onComplete&&t.onComplete()})),e.emit("plotly_animatingframe",{name:r,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else e.emit("plotly_animated"),window.cancelAnimationFrame(a._animationRaf),a._animationRaf=null}function f(){e.emit("plotly_animating"),a._lastFrameAt=-1/0,a._timeToNext=0,a._runningTransitions=0,a._currentFrame=null;var t=function(){a._animationRaf=window.requestAnimationFrame(t),Date.now()-a._lastFrameAt>a._timeToNext&&u()};t()}var g,h,y=0;function m(e){return Array.isArray(n)?y>=n.length?e.transitionOpts=n[y]:e.transitionOpts=n[0]:e.transitionOpts=n,y++,e}var v=[],x=null==t,b=Array.isArray(t);if(!x&&!b&&o.isPlainObject(t))v.push({type:"object",data:m(o.extendFlat({},t))});else if(x||-1!==["string","number"].indexOf(typeof t))for(g=0;g<a._frames.length;g++)(h=a._frames[g])&&(x||String(h.group)===String(t))&&v.push({type:"byname",name:String(h.name),data:m({name:h.name})});else if(b)for(g=0;g<t.length;g++){var w=t[g];-1!==["number","string"].indexOf(typeof w)?(w=String(w),v.push({type:"byname",name:w,data:m({name:w})})):o.isPlainObject(w)&&v.push({type:"object",data:m(o.extendFlat({},w))})}for(g=0;g<v.length;g++)if("byname"===(h=v[g]).type&&!a._frameHash[h.data.name])return o.warn('animate failure: frame not found: "'+h.data.name+'"'),void d();-1!==["next","immediate"].indexOf(r.mode)&&function(){if(0!==a._frameQueue.length){for(;a._frameQueue.length;){var t=a._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===r.direction&&v.reverse();var k=e._fullLayout._currentFrame;if(k&&r.fromcurrent){var _=-1;for(g=0;g<v.length;g++)if("byname"===(h=v[g]).type&&h.name===k){_=g;break}if(_>0&&_<v.length-1){var C=[];for(g=0;g<v.length;g++)h=v[g],("byname"!==v[g].type||g>_)&&C.push(h);v=C}}v.length>0?function(t){if(0!==t.length){for(var n=0;n<t.length;n++){var o;o="byname"===t[n].type?p.computeFrame(e,t[n].name):t[n].data;var u=s(n),g=l(n);g.duration=Math.min(g.duration,u.duration);var h={frame:o,name:t[n].name,frameOpts:u,transitionOpts:g};n===t.length-1&&(h.onComplete=c(i,2),h.onInterrupt=d),a._frameQueue.push(h)}"immediate"===r.mode&&(a._lastFrameAt=-1/0),a._animationRaf||f()}}(v):(e.emit("plotly_animated"),i())}))},t.addFrames=function(e,t,r){if(e=o.getGraphDiv(e),null==t)return Promise.resolve();if(!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var a,n,i,l,s=e._transitionData._frames,d=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var u=s.length+2*t.length,f=[],g={};for(a=t.length-1;a>=0;a--)if(o.isPlainObject(t[a])){var h=t[a].name,y=(d[h]||g[h]||{}).name,m=t[a].name,v=d[y]||g[y];y&&m&&"number"==typeof m&&v&&T<5&&(T++,o.warn('addFrames: overwriting frame "'+(d[y]||g[y]).name+'" with a frame whose name of type "number" also equates to "'+y+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===T&&o.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),g[h]={name:h},f.push({frame:p.supplyFrameDefaults(t[a]),index:r&&void 0!==r[a]&&null!==r[a]?r[a]:u+a})}f.sort((function(e,t){return e.index>t.index?-1:e.index<t.index?1:0}));var x=[],b=[],w=s.length;for(a=f.length-1;a>=0;a--){if("number"==typeof(n=f[a].frame).name&&o.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!n.name)for(;d[n.name="frame "+e._transitionData._counter++];);if(d[n.name]){for(i=0;i<s.length&&(s[i]||{}).name!==n.name;i++);x.push({type:"replace",index:i,value:n}),b.unshift({type:"replace",index:i,value:s[i]})}else l=Math.max(0,Math.min(f[a].index,w)),x.push({type:"insert",index:l,value:n}),b.unshift({type:"delete",index:l}),w++}var k=p.modifyFrames,A=p.modifyFrames,_=[e,b],C=[e,x];return c&&c.add(e,k,_,A,C),p.modifyFrames(e,x)},t.deleteFrames=function(e,t){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var r,a,n=e._transitionData._frames,i=[],l=[];if(!t)for(t=[],r=0;r<n.length;r++)t.push(r);for((t=t.slice()).sort(),r=t.length-1;r>=0;r--)a=t[r],i.push({type:"delete",index:a}),l.unshift({type:"insert",index:a,value:n[a]});var s=p.modifyFrames,d=p.modifyFrames,u=[e,l],f=[e,i];return c&&c.add(e,s,u,d,f),p.modifyFrames(e,i)},t.addTraces=function e(r,a,n){r=o.getGraphDiv(r);var i,l,s=[],d=t.deleteTraces,u=e,p=[r,s],f=[r,a];for(function(e,t,r){var a,n;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),a=0;a<t.length;a++)if("object"!=typeof(n=t[a])||Array.isArray(n)||null===n)throw new Error("all values in traces array must be non-array objects");if(void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&r.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(r,a,n),Array.isArray(a)||(a=[a]),a=a.map((function(e){return o.extendFlat({},e)})),A.cleanData(a),i=0;i<a.length;i++)r.data.push(a[i]);for(i=0;i<a.length;i++)s.push(-a.length+i);if(void 0===n)return l=t.redraw(r),c.add(r,d,p,u,f),l;Array.isArray(n)||(n=[n]);try{V(r,s,n)}catch(e){throw r.data.splice(r.data.length-a.length,a.length),e}return c.startSequence(r),c.add(r,d,p,u,f),l=t.moveTraces(r,s,n),c.stopSequence(r),l},t.deleteTraces=function e(r,a){r=o.getGraphDiv(r);var n,i,l=[],s=t.addTraces,d=e,u=[r,l,a],p=[r,a];if(void 0===a)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(a)||(a=[a]),S(r,a,"indices"),(a=L(a,r.data.length-1)).sort(o.sorterDes),n=0;n<a.length;n+=1)i=r.data.splice(a[n],1)[0],l.push(i);var f=t.redraw(r);return c.add(r,s,u,d,p),f},t.extendTraces=function e(r,a,n,i){function l(e,t,r){var a,n;if(o.isTypedArray(e))if(r<0){var i=new e.constructor(0),l=z(e,t);r<0?(a=l,n=i):(a=i,n=l)}else if(a=new e.constructor(r),n=new e.constructor(e.length+t.length-r),r===t.length)a.set(t),n.set(e);else if(r<t.length){var s=t.length-r;a.set(t.subarray(s)),n.set(e),n.set(t.subarray(0,s),e.length)}else{var c=r-t.length,d=e.length-c;a.set(e.subarray(d)),a.set(t,c),n.set(e.subarray(0,d))}else a=e.concat(t),n=r>=0&&r<a.length?a.splice(0,a.length-r):[];return[a,n]}var s=j(r=o.getGraphDiv(r),a,n,i,l),d=t.redraw(r),u=[r,s.update,n,s.maxPoints];return c.add(r,t.prependTraces,u,e,arguments),d},t.moveTraces=function e(r,a,n){var i,l=[],s=[],d=e,u=e,p=[r=o.getGraphDiv(r),n,a],f=[r,a,n];if(V(r,a,n),a=Array.isArray(a)?a:[a],void 0===n)for(n=[],i=0;i<a.length;i++)n.push(-a.length+i);for(n=Array.isArray(n)?n:[n],a=L(a,r.data.length-1),n=L(n,r.data.length-1),i=0;i<r.data.length;i++)-1===a.indexOf(i)&&l.push(r.data[i]);for(i=0;i<a.length;i++)s.push({newIndex:n[i],trace:r.data[a[i]]});for(s.sort((function(e,t){return e.newIndex-t.newIndex})),i=0;i<s.length;i+=1)l.splice(s[i].newIndex,0,s[i].trace);r.data=l;var g=t.redraw(r);return c.add(r,d,p,u,f),g},t.prependTraces=function e(r,a,n,i){function l(e,t,r){var a,n;if(o.isTypedArray(e))if(r<=0){var i=new e.constructor(0),l=z(t,e);r<0?(a=l,n=i):(a=i,n=l)}else if(a=new e.constructor(r),n=new e.constructor(e.length+t.length-r),r===t.length)a.set(t),n.set(e);else if(r<t.length){var s=t.length-r;a.set(t.subarray(0,s)),n.set(t.subarray(s)),n.set(e,s)}else{var c=r-t.length;a.set(t),a.set(e.subarray(0,c),t.length),n.set(e.subarray(c))}else a=t.concat(e),n=r>=0&&r<a.length?a.splice(r,a.length):[];return[a,n]}var s=j(r=o.getGraphDiv(r),a,n,i,l),d=t.redraw(r),u=[r,s.update,n,s.maxPoints];return c.add(r,t.extendTraces,u,e,arguments),d},t.newPlot=function(e,r,a,n){return e=o.getGraphDiv(e),p.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),p.purge(e),t.plot(e,r,a,n)},t.plot=function(e,r,n,i){var l;if(e=o.getGraphDiv(e),s.init(e),o.isPlainObject(r)){var c=r;r=c.data,n=c.layout,i=c.config,l=c.frames}if(!1===s.triggerHandler(e,"plotly_beforeplot",[r,n,i]))return Promise.reject();r||n||o.isPlotDiv(e)||o.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),P(e,i),n||(n={}),a.select(e).classed("js-plotly-plot",!0),h.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var u=0===(e.data||[]).length&&Array.isArray(r);Array.isArray(r)&&(A.cleanData(r),u?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),e.layout&&!u||(e.layout=A.cleanLayout(n)),p.supplyDefaults(e);var y=e._fullLayout,v=y._has("cartesian");if(!y._has("polar")&&r&&r[0]&&r[0].r)return o.log("Legacy polar charts are deprecated!"),function(e,t,r){var n=a.select(e).selectAll(".plot-container").data([0]);n.enter().insert("div",":first-child").classed("plot-container plotly",!0);var i=n.selectAll(".svg-container").data([0]);i.enter().append("div").classed("svg-container",!0).style("position","relative"),i.html(""),t&&(e.data=t);r&&(e.layout=r);f.manager.fillLayout(e),i.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=f.manager.framework(e),e.framework({data:e.data,layout:e.layout},i.node()),e.framework.setUndoPoint();var l=e.framework.svg(),s=1,c=e._fullLayout.title?e._fullLayout.title.text:"";""!==c&&c||(s=0);var d=function(){this.call(x.convertToTspans,e)},u=l.select(".title-group text").call(d);if(e._context.edits.titleText){var g=o._(e,"Click to enter Plot title");c&&c!==g||(s=.2,u.attr({"data-unformatted":g}).text(g).style({opacity:s}).on("mouseover.opacity",(function(){a.select(this).transition().duration(100).style("opacity",1)})).on("mouseout.opacity",(function(){a.select(this).transition().duration(1e3).style("opacity",0)})));var h=function(){this.call(x.makeEditable,{gd:e}).on("edit",(function(t){e.framework({layout:{title:{text:t}}}),this.text(t).call(d),this.call(h)})).on("cancel",(function(){var e=this.attr("data-unformatted");this.text(e).call(d)}))};u.call(h)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),p.addLinks(e),Promise.resolve()}(e,r,n);y._replotting=!0,(u||y._shouldCreateBgLayer)&&(le(e),y._shouldCreateBgLayer&&delete y._shouldCreateBgLayer),e.framework!==le&&(e.framework=le,le(e)),h.initGradients(e),u&&g.saveShowSpikeInitial(e);var b=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;b&&p.doCalcdata(e);for(var w=0;w<e.calcdata.length;w++)e.calcdata[w][0].trace=e._fullData[w];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){o.isHidden(e)||p.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):o.clearResponsive(e);var k=o.extendFlat({},y._size),C=0;function I(){if(p.clearAutoMarginIds(e),_.drawMarginPushers(e),g.allowAutoMargin(e),y._has("pie"))for(var t=e._fullData,r=0;r<t.length;r++){var a=t[r];"pie"===a.type&&a.automargin&&p.allowAutoMargin(e,"pie."+a.uid+".automargin")}return p.doAutoMargin(e),p.previousPromises(e)}function T(){e._transitioning||(_.doAutoRangeAndConstraints(e),u&&g.saveRangeInitial(e),d.getComponentMethod("rangeslider","calcAutorange")(e))}var M=[p.previousPromises,function(){if(l)return t.addFrames(e,l)},function t(){for(var r=y._basePlotModules,a=0;a<r.length;a++)r[a].drawFramework&&r[a].drawFramework(e);if(!y._glcanvas&&y._has("gl")&&(y._glcanvas=y._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(e){return e.key})),y._glcanvas.enter().append("canvas").attr("class",(function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),y._glcanvas){y._glcanvas.attr("width",y.width).attr("height",y.height);var n=y._glcanvas.data()[0].regl;if(n&&(Math.floor(y.width)!==n._gl.drawingBufferWidth||Math.floor(y.height)!==n._gl.drawingBufferHeight)){var i="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!C)return o.log(i+" Clearing graph and plotting again."),p.cleanPlot([],{},e._fullData,y),p.supplyDefaults(e),y=e._fullLayout,p.doCalcdata(e),C++,t();o.error(i)}}return"h"===y.modebar.orientation?y._modebardiv.style("height",null).style("width","100%"):y._modebardiv.style("width",null).style("height",y.height+"px"),p.previousPromises(e)},I,function(){if(p.didMarginChange(k,y._size))return o.syncOrAsync([I,_.layoutStyles],e)}];v&&M.push((function(){if(b)return o.syncOrAsync([d.getComponentMethod("shapes","calcAutorange"),d.getComponentMethod("annotations","calcAutorange"),T],e);T()})),M.push(_.layoutStyles),v&&M.push((function(){return g.draw(e,u?"":"redraw")})),M.push(_.drawData,_.finalDraw,m,p.addLinks,p.rehover,p.redrag,p.doAutoMargin,p.previousPromises);var O=o.syncOrAsync(M,e);return O&&O.then||(O=Promise.resolve()),O.then((function(){return D(e),e}))},t.purge=function(e){var t=(e=o.getGraphDiv(e))._fullLayout||{},r=e._fullData||[];return p.cleanPlot([],{},r,t),p.purge(e),s.purge(e),t._container&&t._container.remove(),delete e._context,e},t.react=function(e,r,a,n){var i,s;e=o.getGraphDiv(e),A.clearPromiseQueue(e);var c=e._fullData,f=e._fullLayout;if(o.isPlotDiv(e)&&c&&f){if(o.isPlainObject(r)){var g=r;r=g.data,a=g.layout,n=g.config,i=g.frames}var h=!1;if(n){var y=o.extendDeep({},e._context);e._context=void 0,P(e,n),h=function e(t,r){var a;for(a in t)if("_"!==a.charAt(0)){var n=t[a],i=r[a];if(n!==i)if(o.isPlainObject(n)&&o.isPlainObject(i)){if(e(n,i))return!0}else{if(!Array.isArray(n)||!Array.isArray(i))return!0;if(n.length!==i.length)return!0;for(var l=0;l<n.length;l++)if(n[l]!==i[l]){if(!o.isPlainObject(n[l])||!o.isPlainObject(i[l]))return!0;if(e(n[l],i[l]))return!0}}}}(y,e._context)}e.data=r||[],A.cleanData(e.data),e.layout=a||{},A.cleanLayout(e.layout),function(e,t,r,a){var n,i,s,c,d,u,p,f,g=a._preGUI,h=[],y={};for(n in g){if(d=te(n,K)){if(i=d.attr||d.head+".uirevision",(c=(s=l(a,i).get())&&re(i,t))&&c===s&&(null===(u=g[n])&&(u=void 0),ie(f=(p=l(t,n)).get(),u))){void 0===f&&"autorange"===n.substr(n.length-9)&&h.push(n.substr(0,n.length-10)),p.set(R(l(a,n).get()));continue}}else o.warn("unrecognized GUI edit: "+n);delete g[n],"range["===n.substr(n.length-8,6)&&(y[n.substr(0,n.length-9)]=1)}for(var m=0;m<h.length;m++){var v=h[m];if(y[v]){var x=l(t,v).get();x&&delete x.autorange}}var b=a._tracePreGUI;for(var w in b){var k,A=b[w],_=null;for(n in A){if(!_){var C=ae(w,r);if(C<0){delete b[w];break}var I=ne(w,e,(k=r[C]._fullInput).index);if(I<0){delete b[w];break}_=e[I]}if(d=te(n,ee)){if(d.attr?c=(s=l(a,d.attr).get())&&re(d.attr,t):(s=k.uirevision,void 0===(c=_.uirevision)&&(c=t.uirevision)),c&&c===s&&(null===(u=A[n])&&(u=void 0),ie(f=(p=l(_,n)).get(),u))){p.set(R(l(k,n).get()));continue}}else o.warn("unrecognized GUI edit: "+n+" in trace uid "+w);delete A[n]}}}(e.data,e.layout,c,f),p.supplyDefaults(e,{skipUpdateCalc:!0});var m=e._fullData,v=e._fullLayout,x=void 0===v.datarevision,b=v.transition,w=function(e,t,r,a,n){var i=C.layoutFlags();function o(e){return u.getLayoutValObject(r,e)}i.arrays={},i.rangesAltered={},i.nChanges=0,i.nChangesAnim=0,oe(t,r,[],{getValObject:o,flags:i,immutable:a,transition:n,gd:e}),(i.plot||i.calc)&&(i.layoutReplot=!0);n&&i.nChanges&&i.nChangesAnim&&(i.anim=i.nChanges===i.nChangesAnim?"all":"some");return i}(e,f,v,x,b),k=w.newDataRevision,I=function(e,t,r,a,n,i){var o=t.length===r.length;if(!n&&!o)return{fullReplot:!0,calc:!0};var l,s,c=C.traceFlags();c.arrays={},c.nChanges=0,c.nChangesAnim=0;var d={getValObject:function(e){var t=u.getTraceValObject(s,e);return!s._module.animatable&&t.anim&&(t.anim=!1),t},flags:c,immutable:a,transition:n,newDataRevision:i,gd:e},f={};for(l=0;l<t.length;l++)if(r[l]){if(s=r[l]._fullInput,p.hasMakesDataTransform(s)&&(s=r[l]),f[s.uid])continue;f[s.uid]=1,oe(t[l]._fullInput,s,[],d)}(c.calc||c.plot)&&(c.fullReplot=!0);n&&c.nChanges&&c.nChangesAnim&&(c.anim=c.nChanges===c.nChangesAnim&&o?"all":"some");return c}(e,c,m,x,b,k);$(e)&&(w.layoutReplot=!0),I.calc||w.calc?e.calcdata=void 0:p.supplyDefaultsUpdateCalc(e.calcdata,m);var T=[];if(i&&(e._transitionData={},p.createTransitionData(e),T.push((function(){return t.addFrames(e,i)}))),v.transition&&!h&&(I.anim||w.anim))p.doCalcdata(e),_.doAutoRangeAndConstraints(e),T.push((function(){return p.transitionFromReact(e,I,w,f)}));else if(I.fullReplot||w.layoutReplot||h)e._fullLayout._skipDefaults=!0,T.push(t.plot);else{for(var M in w.arrays){var O=w.arrays[M];if(O.length){var L=d.getComponentMethod(M,"drawOne");if(L!==o.noop)for(var S=0;S<O.length;S++)L(e,O[S]);else{var V=d.getComponentMethod(M,"draw");if(V===o.noop)throw new Error("cannot draw components: "+M);V(e)}}}T.push(p.previousPromises),I.style&&T.push(_.doTraceStyle),(I.colorbars||w.colorbars)&&T.push(_.doColorBars),w.legend&&T.push(_.doLegend),w.layoutstyle&&T.push(_.layoutStyles),w.axrange&&U(T),w.ticks&&T.push(_.doTicksRelayout),w.modebar&&T.push(_.doModeBar),w.camera&&T.push(_.doCamera),T.push(D)}T.push(p.rehover,p.redrag),(s=o.syncOrAsync(T,e))&&s.then||(s=Promise.resolve(e))}else s=t.newPlot(e,r,a,n);return s.then((function(){return e.emit("plotly_react",{data:r,layout:a}),e}))},t.redraw=function(e){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return A.cleanData(e.data),A.cleanLayout(e.layout),e.calcdata=void 0,t.plot(e).then((function(){return e.emit("plotly_redraw"),e}))},t.relayout=N,t.restyle=E,t.setPlotConfig=function(e){return o.extendFlat(w,e)},t.update=J,t._guiRelayout=Z(N),t._guiRestyle=Z(E),t._guiUpdate=Z(J),t._storeDirectGUIEdit=function(e,t,r){for(var a in r){q(a,l(e,a).get(),r[a],t)}}},691:function(e,t,r){var a=r(24),n=r(6).extendDeepAll,i=r(81).MID_SHIFT,o=e.exports={version:"0.2.2"};o.Axis=function(){var e,t,r,l,s={data:[],layout:{}},c={},d={},u=a.dispatch("hover"),p={};return p.render=function(c){return function(c){t=c||t;var u=s.data,p=s.layout;("string"==typeof t||t.nodeName)&&(t=a.select(t)),t.datum(u).each((function(t,s){var c=t.slice();d={data:o.util.cloneJson(c),layout:o.util.cloneJson(p)};var u=0;c.forEach((function(e,t){e.color||(e.color=p.defaultColorRange[u],u=(u+1)%p.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:a.rgb(e.color).darker().toString()),d.data[t].color=e.color,d.data[t].strokeColor=e.strokeColor,d.data[t].strokeDash=e.strokeDash,d.data[t].strokeSize=e.strokeSize}));var f=c.filter((function(e,t){var r=e.visible;return void 0===r||!0===r})),g=!1,h=f.map((function(e,t){return g=g||void 0!==e.groupId,e}));if(g){var y=a.nest().key((function(e,t){return void 0!==e.groupId?e.groupId:"unstacked"})).entries(h),m=[],v=y.map((function(e,t){if("unstacked"===e.key)return e.values;var r=e.values[0].r.map((function(e,t){return 0}));return e.values.forEach((function(e,t,a){e.yStack=[r],m.push(r),r=o.util.sumArrays(e.r,r)})),e.values}));f=a.merge(v)}f.forEach((function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]}));var x=Math.min(p.width-p.margin.left-p.margin.right,p.height-p.margin.top-p.margin.bottom)/2;x=Math.max(10,x);var b,w=[p.margin.left+x,p.margin.top+x];g?b=[0,a.max(o.util.sumArrays(o.util.arrayLast(f).r[0],o.util.arrayLast(m)))]:b=a.extent(o.util.flattenArray(f.map((function(e,t){return e.r}))));p.radialAxis.domain!=o.DATAEXTENT&&(b[0]=0),r=a.scale.linear().domain(p.radialAxis.domain!=o.DATAEXTENT&&p.radialAxis.domain?p.radialAxis.domain:b).range([0,x]),d.layout.radialAxis.domain=r.domain();var k,A=o.util.flattenArray(f.map((function(e,t){return e.t}))),_="string"==typeof A[0];_&&(A=o.util.deduplicate(A),k=A.slice(),A=a.range(A.length),f=f.map((function(e,t){var r=e;return e.t=[A],g&&(r.yStack=e.yStack),r})));var C=f.filter((function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry})).length===f.length,I=null===p.needsEndSpacing?_||!C:p.needsEndSpacing,T=p.angularAxis.domain&&p.angularAxis.domain!=o.DATAEXTENT&&!_&&p.angularAxis.domain[0]>=0?p.angularAxis.domain:a.extent(A),D=Math.abs(A[1]-A[0]);C&&!_&&(D=0);var M=T.slice();I&&_&&(M[1]+=D);var O=p.angularAxis.ticksCount||4;O>8&&(O=O/(O/8)+O%8),p.angularAxis.ticksStep&&(O=(M[1]-M[0])/O);var P=p.angularAxis.ticksStep||(M[1]-M[0])/(O*(p.minorTicks+1));k&&(P=Math.max(Math.round(P),1)),M[2]||(M[2]=P);var L=a.range.apply(this,M);if(L=L.map((function(e,t){return parseFloat(e.toPrecision(12))})),l=a.scale.linear().domain(M.slice(0,2)).range("clockwise"===p.direction?[0,360]:[360,0]),d.layout.angularAxis.domain=l.domain(),d.layout.angularAxis.endPadding=I?D:0,void 0===(e=a.select(this).select("svg.chart-root"))||e.empty()){var S=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),V=this.appendChild(this.ownerDocument.importNode(S.documentElement,!0));e=a.select(V)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var j,z=e.select(".chart-group"),E={fill:"none",stroke:p.tickColor},R={"font-size":p.font.size,"font-family":p.font.family,fill:p.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map((function(e,t){return" "+e+" 0 "+p.font.outlineColor})).join(",")};if(p.showLegend){j=e.select(".legend-group").attr({transform:"translate("+[x,p.margin.top]+")"}).style({display:"block"});var F=f.map((function(e,t){var r=o.util.cloneJson(e);return r.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",r.visibleInLegend=void 0===e.visibleInLegend||e.visibleInLegend,r.color="LinePlot"===e.geometry?e.strokeColor:e.color,r}));o.Legend().config({data:f.map((function(e,t){return e.name||"Element"+t})),legendConfig:n({},o.Legend.defaultConfig().legendConfig,{container:j,elements:F,reverseOrder:p.legend.reverseOrder})})();var q=j.node().getBBox();x=Math.min(p.width-q.width-p.margin.left-p.margin.right,p.height-p.margin.top-p.margin.bottom)/2,x=Math.max(10,x),w=[p.margin.left+x,p.margin.top+x],r.range([0,x]),d.layout.radialAxis.domain=r.domain(),j.attr("transform","translate("+[w[0]+x,w[1]-x]+")")}else j=e.select(".legend-group").style({display:"none"});e.attr({width:p.width,height:p.height}).style({opacity:p.opacity}),z.attr("transform","translate("+w+")").style({cursor:"crosshair"});var B=[(p.width-(p.margin.left+p.margin.right+2*x+(q?q.width:0)))/2,(p.height-(p.margin.top+p.margin.bottom+2*x))/2];if(B[0]=Math.max(0,B[0]),B[1]=Math.max(0,B[1]),e.select(".outer-group").attr("transform","translate("+B+")"),p.title&&p.title.text){var Q=e.select("g.title-group text").style(R).text(p.title.text),N=Q.node().getBBox();Q.attr({x:w[0]-N.width/2,y:w[1]-x-20})}var G=e.select(".radial.axis-group");if(p.radialAxis.gridLinesVisible){var U=G.selectAll("circle.grid-circle").data(r.ticks(5));U.enter().append("circle").attr({class:"grid-circle"}).style(E),U.attr("r",r),U.exit().remove()}G.select("circle.outside-circle").attr({r:x}).style(E);var Y=e.select("circle.background-circle").attr({r:x}).style({fill:p.backgroundColor,stroke:p.stroke});function H(e,t){return l(e)%360+p.orientation}if(p.radialAxis.visible){var W=a.svg.axis().scale(r).ticks(5).tickSize(5);G.call(W).attr({transform:"rotate("+p.radialAxis.orientation+")"}),G.selectAll(".domain").style(E),G.selectAll("g>text").text((function(e,t){return this.textContent+p.radialAxis.ticksSuffix})).style(R).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===p.radialAxis.tickOrientation?"rotate("+-p.radialAxis.orientation+") translate("+[0,R["font-size"]]+")":"translate("+[0,R["font-size"]]+")"}}),G.selectAll("g>line").style({stroke:"black"})}var X=e.select(".angular.axis-group").selectAll("g.angular-tick").data(L),$=X.enter().append("g").classed("angular-tick",!0);X.attr({transform:function(e,t){return"rotate("+H(e)+")"}}).style({display:p.angularAxis.visible?"block":"none"}),X.exit().remove(),$.append("line").classed("grid-line",!0).classed("major",(function(e,t){return t%(p.minorTicks+1)==0})).classed("minor",(function(e,t){return!(t%(p.minorTicks+1)==0)})).style(E),$.selectAll(".minor").style({stroke:p.minorTickColor}),X.select("line.grid-line").attr({x1:p.tickLength?x-p.tickLength:0,x2:x}).style({display:p.angularAxis.gridLinesVisible?"block":"none"}),$.append("text").classed("axis-text",!0).style(R);var J=X.select("text.axis-text").attr({x:x+p.labelOffset,dy:i+"em",transform:function(e,t){var r=H(e),a=x+p.labelOffset,n=p.angularAxis.tickOrientation;return"horizontal"==n?"rotate("+-r+" "+a+" 0)":"radial"==n?r<270&&r>90?"rotate(180 "+a+" 0)":null:"rotate("+(r<=180&&r>0?-90:90)+" "+a+" 0)"}}).style({"text-anchor":"middle",display:p.angularAxis.labelsVisible?"block":"none"}).text((function(e,t){return t%(p.minorTicks+1)!=0?"":k?k[e]+p.angularAxis.ticksSuffix:e+p.angularAxis.ticksSuffix})).style(R);p.angularAxis.rewriteTicks&&J.text((function(e,t){return t%(p.minorTicks+1)!=0?"":p.angularAxis.rewriteTicks(this.textContent,t)}));var Z=a.max(z.selectAll(".angular-tick text")[0].map((function(e,t){return e.getCTM().e+e.getBBox().width})));j.attr({transform:"translate("+[x+Z,p.margin.top]+")"});var K=e.select("g.geometry-group").selectAll("g").size()>0,ee=e.select("g.geometry-group").selectAll("g.geometry").data(f);if(ee.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),ee.exit().remove(),f[0]||K){var te=[];f.forEach((function(e,t){var a={};a.radialScale=r,a.angularScale=l,a.container=ee.filter((function(e,r){return r==t})),a.geometry=e.geometry,a.orientation=p.orientation,a.direction=p.direction,a.index=t,te.push({data:e,geometryConfig:a})}));var re=a.nest().key((function(e,t){return void 0!==e.data.groupId||"unstacked"})).entries(te),ae=[];re.forEach((function(e,t){"unstacked"===e.key?ae=ae.concat(e.values.map((function(e,t){return[e]}))):ae.push(e.values)})),ae.forEach((function(e,t){var r;r=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var a=e.map((function(e,t){return n(o[r].defaultConfig(),e)}));o[r]().config(a)()}))}var ne,ie,oe=e.select(".guides-group"),le=e.select(".tooltips-group"),se=o.tooltipPanel().config({container:le,fontSize:8})(),ce=o.tooltipPanel().config({container:le,fontSize:8})(),de=o.tooltipPanel().config({container:le,hasTick:!0})();if(!_){var ue=oe.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});z.on("mousemove.angular-guide",(function(e,t){var r=o.util.getMousePos(Y).angle;ue.attr({x2:-x,transform:"rotate("+r+")"}).style({opacity:.5});var a=(r+180+360-p.orientation)%360;ne=l.invert(a);var n=o.util.convertToCartesian(x+12,r+180);se.text(o.util.round(ne)).move([n[0]+w[0],n[1]+w[1]])})).on("mouseout.angular-guide",(function(e,t){oe.select("line").style({opacity:0})}))}var pe=oe.select("circle").style({stroke:"grey",fill:"none"});z.on("mousemove.radial-guide",(function(e,t){var a=o.util.getMousePos(Y).radius;pe.attr({r:a}).style({opacity:.5}),ie=r.invert(o.util.getMousePos(Y).radius);var n=o.util.convertToCartesian(a,p.radialAxis.orientation);ce.text(o.util.round(ie)).move([n[0]+w[0],n[1]+w[1]])})).on("mouseout.radial-guide",(function(e,t){pe.style({opacity:0}),de.hide(),se.hide(),ce.hide()})),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",(function(t,r){var n=a.select(this),i=this.style.fill,l="black",s=this.style.opacity||1;if(n.attr({"data-opacity":s}),i&&"none"!==i){n.attr({"data-fill":i}),l=a.hsl(i).darker().toString(),n.style({fill:l,opacity:1});var c={t:o.util.round(t[0]),r:o.util.round(t[1])};_&&(c.t=k[t[0]]);var d="t: "+c.t+", r: "+c.r,u=this.getBoundingClientRect(),p=e.node().getBoundingClientRect(),f=[u.left+u.width/2-B[0]-p.left,u.top+u.height/2-B[1]-p.top];de.config({color:l}).text(d),de.move(f)}else i=this.style.stroke||"black",n.attr({"data-stroke":i}),l=a.hsl(i).darker().toString(),n.style({stroke:l,opacity:1})})).on("mousemove.tooltip",(function(e,t){if(0!=a.event.which)return!1;a.select(this).attr("data-fill")&&de.show()})).on("mouseout.tooltip",(function(e,t){de.hide();var r=a.select(this),n=r.attr("data-fill");n?r.style({fill:n,opacity:r.attr("data-opacity")}):r.style({stroke:r.attr("data-stroke"),opacity:r.attr("data-opacity")})}))}))}(c),this},p.config=function(e){if(!arguments.length)return s;var t=o.util.cloneJson(e);return t.data.forEach((function(e,t){s.data[t]||(s.data[t]={}),n(s.data[t],o.Axis.defaultConfig().data[0]),n(s.data[t],e)})),n(s.layout,o.Axis.defaultConfig().layout),n(s.layout,t.layout),this},p.getLiveConfig=function(){return d},p.getinputConfig=function(){return c},p.radialScale=function(e){return r},p.angularScale=function(e){return l},p.svg=function(){return e},a.rebind(p,u,"on"),p},o.Axis.defaultConfig=function(e,t){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:a.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},o.util={},o.DATAEXTENT="dataExtent",o.AREA="AreaChart",o.LINE="LinePlot",o.DOT="DotPlot",o.BAR="BarChart",o.util._override=function(e,t){for(var r in e)r in t&&(t[r]=e[r])},o.util._extend=function(e,t){for(var r in e)t[r]=e[r]},o.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},o.util.dataFromEquation2=function(e,t){var r=t||6;return a.range(0,360+r,r).map((function(t,r){var a=t*Math.PI/180;return[t,e(a)]}))},o.util.dataFromEquation=function(e,t,r){var n=t||6,i=[],o=[];a.range(0,360+n,n).forEach((function(t,r){var a=t*Math.PI/180,n=e(a);i.push(t),o.push(n)}));var l={t:i,r:o};return r&&(l.name=r),l},o.util.ensureArray=function(e,t){if(void 0===e)return null;var r=[].concat(e);return a.range(t).map((function(e,t){return r[t]||r[0]}))},o.util.fillArrays=function(e,t,r){return t.forEach((function(t,a){e[t]=o.util.ensureArray(e[t],r)})),e},o.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},o.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var r=t.shift();return e[r]&&(!t.length||objHasKeys(e[r],t))},o.util.sumArrays=function(e,t){return a.zip(e,t).map((function(e,t){return a.sum(e)}))},o.util.arrayLast=function(e){return e[e.length-1]},o.util.arrayEqual=function(e,t){for(var r=Math.max(e.length,t.length,1);r-- >=0&&e[r]===t[r];);return-2===r},o.util.flattenArray=function(e){for(var t=[];!o.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},o.util.deduplicate=function(e){return e.filter((function(e,t,r){return r.indexOf(e)==t}))},o.util.convertToCartesian=function(e,t){var r=t*Math.PI/180;return[e*Math.cos(r),e*Math.sin(r)]},o.util.round=function(e,t){var r=t||2,a=Math.pow(10,r);return Math.round(e*a)/a},o.util.getMousePos=function(e){var t=a.mouse(e.node()),r=t[0],n=t[1],i={};return i.x=r,i.y=n,i.pos=t,i.angle=180*(Math.atan2(n,r)+Math.PI)/Math.PI,i.radius=Math.sqrt(r*r+n*n),i},o.util.duplicatesCount=function(e){for(var t,r={},a={},n=0,i=e.length;n<i;n++)(t=e[n])in r?(r[t]++,a[t]=r[t]):r[t]=1;return a},o.util.duplicates=function(e){return Object.keys(o.util.duplicatesCount(e))},o.util.translator=function(e,t,r,a){if(a){var n=r.slice();r=t,t=n}var i=t.reduce((function(e,t){if(void 0!==e)return e[t]}),e);void 0!==i&&(t.reduce((function(e,r,a){if(void 0!==e)return a===t.length-1&&delete e[r],e[r]}),e),r.reduce((function(e,t,a){return void 0===e[t]&&(e[t]={}),a===r.length-1&&(e[t]=i),e[t]}),e))},o.PolyChart=function(){var e=[o.PolyChart.defaultConfig()],t=a.dispatch("hover"),r={solid:"none",dash:[5,2],dot:[2,5]};function i(){var t=e[0].geometryConfig,n=t.container;"string"==typeof n&&(n=a.select(n)),n.datum(e).each((function(e,n){var i=!!e[0].data.yStack,o=e.map((function(e,t){return i?a.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):a.zip(e.data.t[0],e.data.r[0])})),l=t.angularScale,s=t.radialScale.domain()[0],c={bar:function(r,n,i){var o=e[i].data,s=t.radialScale(r[1])-t.radialScale(0),c=t.radialScale(r[2]||0),d=o.barWidth;a.select(this).attr({class:"mark bar",d:"M"+[[s+c,-d/2],[s+c,d/2],[c,d/2],[c,-d/2]].join("L")+"Z",transform:function(e,r){return"rotate("+(t.orientation+l(e[0]))+")"}})}};c.dot=function(r,n,i){var o=r[2]?[r[0],r[1]+r[2]]:r,l=a.svg.symbol().size(e[i].data.dotSize).type(e[i].data.dotType)(r,n);a.select(this).attr({class:"mark dot",d:l,transform:function(e,r){var a,n,i,l=(a=function(e,r){var a=t.radialScale(e[1]),n=(t.angularScale(e[0])+t.orientation)*Math.PI/180;return{r:a,t:n}}(o),n=a.r*Math.cos(a.t),i=a.r*Math.sin(a.t),{x:n,y:i});return"translate("+[l.x,l.y]+")"}})};var d=a.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius((function(e){return t.radialScale(e[1])})).angle((function(e){return t.angularScale(e[0])*Math.PI/180}));c.line=function(r,n,i){var l=r[2]?o[i].map((function(e,t){return[e[0],e[1]+e[2]]})):o[i];if(a.select(this).each(c.dot).style({opacity:function(t,r){return+e[i].data.dotVisible},fill:g.stroke(r,n,i)}).attr({class:"mark dot"}),!(n>0)){var s=a.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({class:"line",d:d(l),transform:function(e,r){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return g.fill(r,n,i)},"fill-opacity":0,stroke:function(e,t){return g.stroke(r,n,i)},"stroke-width":function(e,t){return g["stroke-width"](r,n,i)},"stroke-dasharray":function(e,t){return g["stroke-dasharray"](r,n,i)},opacity:function(e,t){return g.opacity(r,n,i)},display:function(e,t){return g.display(r,n,i)}})}};var u=t.angularScale.range(),p=Math.abs(u[1]-u[0])/o[0].length*Math.PI/180,f=a.svg.arc().startAngle((function(e){return-p/2})).endAngle((function(e){return p/2})).innerRadius((function(e){return t.radialScale(s+(e[2]||0))})).outerRadius((function(e){return t.radialScale(s+(e[2]||0))+t.radialScale(e[1])}));c.arc=function(e,r,n){a.select(this).attr({class:"mark arc",d:f,transform:function(e,r){return"rotate("+(t.orientation+l(e[0])+90)+")"}})};var g={fill:function(t,r,a){return e[a].data.color},stroke:function(t,r,a){return e[a].data.strokeColor},"stroke-width":function(t,r,a){return e[a].data.strokeSize+"px"},"stroke-dasharray":function(t,a,n){return r[e[n].data.strokeDash]},opacity:function(t,r,a){return e[a].data.opacity},display:function(t,r,a){return void 0===e[a].data.visible||e[a].data.visible?"block":"none"}},h=a.select(this).selectAll("g.layer").data(o);h.enter().append("g").attr({class:"layer"});var y=h.selectAll("path.mark").data((function(e,t){return e}));y.enter().append("path").attr({class:"mark"}),y.style(g).each(c[t.geometryType]),y.exit().remove(),h.exit().remove()}))}return i.config=function(t){return arguments.length?(t.forEach((function(t,r){e[r]||(e[r]={}),n(e[r],o.PolyChart.defaultConfig()),n(e[r],t)})),this):e},i.getColorScale=function(){},a.rebind(i,t,"on"),i},o.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:a.scale.category20()}}},o.BarChart=function(){return o.PolyChart()},o.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},o.AreaChart=function(){return o.PolyChart()},o.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},o.DotPlot=function(){return o.PolyChart()},o.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},o.LinePlot=function(){return o.PolyChart()},o.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},o.Legend=function(){var e=o.Legend.defaultConfig(),t=a.dispatch("hover");function r(){var t=e.legendConfig,i=e.data.map((function(e,r){return[].concat(e).map((function(e,a){var i=n({},t.elements[r]);return i.name=e,i.color=[].concat(t.elements[r].color)[a],i}))})),o=a.merge(i);o=o.filter((function(e,r){return t.elements[r]&&(t.elements[r].visibleInLegend||void 0===t.elements[r].visibleInLegend)})),t.reverseOrder&&(o=o.reverse());var l=t.container;("string"==typeof l||l.nodeName)&&(l=a.select(l));var s=o.map((function(e,t){return e.color})),c=t.fontSize,d=null==t.isContinuous?"number"==typeof o[0]:t.isContinuous,u=d?t.height:c*o.length,p=l.classed("legend-group",!0).selectAll("svg").data([0]),f=p.enter().append("svg").attr({width:300,height:u+c,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});f.append("g").classed("legend-axis",!0),f.append("g").classed("legend-marks",!0);var g=a.range(o.length),h=a.scale[d?"linear":"ordinal"]().domain(g).range(s),y=a.scale[d?"linear":"ordinal"]().domain(g)[d?"range":"rangePoints"]([0,u]);if(d){var m=p.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(s);m.enter().append("stop"),m.attr({offset:function(e,t){return t/(s.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),p.append("rect").classed("legend-mark",!0).attr({height:t.height,width:t.colorBandWidth,fill:"url(#grad1)"})}else{var v=p.select(".legend-marks").selectAll("path.legend-mark").data(o);v.enter().append("path").classed("legend-mark",!0),v.attr({transform:function(e,t){return"translate("+[c/2,y(t)+c/2]+")"},d:function(e,t){var r,n,i,o=e.symbol;return i=3*(n=c),"line"===(r=o)?"M"+[[-n/2,-n/12],[n/2,-n/12],[n/2,n/12],[-n/2,n/12]]+"Z":-1!=a.svg.symbolTypes.indexOf(r)?a.svg.symbol().type(r).size(i)():a.svg.symbol().type("square").size(i)()},fill:function(e,t){return h(t)}}),v.exit().remove()}var x=a.svg.axis().scale(y).orient("right"),b=p.select("g.legend-axis").attr({transform:"translate("+[d?t.colorBandWidth:c,c/2]+")"}).call(x);return b.selectAll(".domain").style({fill:"none",stroke:"none"}),b.selectAll("line").style({fill:"none",stroke:d?t.textColor:"none"}),b.selectAll("text").style({fill:t.textColor,"font-size":t.fontSize}).text((function(e,t){return o[t].name})),r}return r.config=function(t){return arguments.length?(n(e,t),this):e},a.rebind(r,t,"on"),r},o.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},o.tooltipPanel=function(){var e,t,r,i={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},l="tooltip-"+o.tooltipPanel.uid++,s=10,c=function(){var a=(e=i.container.selectAll("g."+l).data([0])).enter().append("g").classed(l,!0).style({"pointer-events":"none",display:"none"});return r=a.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=a.append("text").attr({dx:i.padding+s,dy:.3*+i.fontSize}),c};return c.text=function(n){var o=a.hsl(i.color).l,l=o>=.5?"#aaa":"white",d=o>=.5?"black":"white",u=n||"";t.style({fill:d,"font-size":i.fontSize+"px"}).text(u);var p=i.padding,f=t.node().getBBox(),g={fill:i.color,stroke:l,"stroke-width":"2px"},h=f.width+2*p+s,y=f.height+2*p;return r.attr({d:"M"+[[s,-y/2],[s,-y/4],[i.hasTick?0:s,0],[s,y/4],[s,y/2],[h,y/2],[h,-y/2]].join("L")+"Z"}).style(g),e.attr({transform:"translate("+[s,-y/2+2*p]+")"}),e.style({display:"block"}),c},c.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),c},c.hide=function(){if(e)return e.style({display:"none"}),c},c.show=function(){if(e)return e.style({display:"block"}),c},c.config=function(e){return n(i,e),c},c},o.tooltipPanel.uid=1,o.adapter={},o.adapter.plotly=function(){var e={convert:function(e,t){var r={};if(e.data&&(r.data=e.data.map((function(e,r){var a=n({},e);return[[a,["marker","color"],["color"]],[a,["marker","opacity"],["opacity"]],[a,["marker","line","color"],["strokeColor"]],[a,["marker","line","dash"],["strokeDash"]],[a,["marker","line","width"],["strokeSize"]],[a,["marker","symbol"],["dotType"]],[a,["marker","size"],["dotSize"]],[a,["marker","barWidth"],["barWidth"]],[a,["line","interpolation"],["lineInterpolation"]],[a,["showlegend"],["visibleInLegend"]]].forEach((function(e,r){o.util.translator.apply(null,e.concat(t))})),t||delete a.marker,t&&delete a.groupId,t?("LinePlot"===a.geometry?(a.type="scatter",!0===a.dotVisible?(delete a.dotVisible,a.mode="lines+markers"):a.mode="lines"):"DotPlot"===a.geometry?(a.type="scatter",a.mode="markers"):"AreaChart"===a.geometry?a.type="area":"BarChart"===a.geometry&&(a.type="bar"),delete a.geometry):("scatter"===a.type?"lines"===a.mode?a.geometry="LinePlot":"markers"===a.mode?a.geometry="DotPlot":"lines+markers"===a.mode&&(a.geometry="LinePlot",a.dotVisible=!0):"area"===a.type?a.geometry="AreaChart":"bar"===a.type&&(a.geometry="BarChart"),delete a.mode,delete a.type),a})),!t&&e.layout&&"stack"===e.layout.barmode)){var i=o.util.duplicates(r.data.map((function(e,t){return e.geometry})));r.data.forEach((function(e,t){var a=i.indexOf(e.geometry);-1!=a&&(r.data[t].groupId=a)}))}if(e.layout){var l=n({},e.layout);if([[l,["plot_bgcolor"],["backgroundColor"]],[l,["showlegend"],["showLegend"]],[l,["radialaxis"],["radialAxis"]],[l,["angularaxis"],["angularAxis"]],[l.angularaxis,["showline"],["gridLinesVisible"]],[l.angularaxis,["showticklabels"],["labelsVisible"]],[l.angularaxis,["nticks"],["ticksCount"]],[l.angularaxis,["tickorientation"],["tickOrientation"]],[l.angularaxis,["ticksuffix"],["ticksSuffix"]],[l.angularaxis,["range"],["domain"]],[l.angularaxis,["endpadding"],["endPadding"]],[l.radialaxis,["showline"],["gridLinesVisible"]],[l.radialaxis,["tickorientation"],["tickOrientation"]],[l.radialaxis,["ticksuffix"],["ticksSuffix"]],[l.radialaxis,["range"],["domain"]],[l.angularAxis,["showline"],["gridLinesVisible"]],[l.angularAxis,["showticklabels"],["labelsVisible"]],[l.angularAxis,["nticks"],["ticksCount"]],[l.angularAxis,["tickorientation"],["tickOrientation"]],[l.angularAxis,["ticksuffix"],["ticksSuffix"]],[l.angularAxis,["range"],["domain"]],[l.angularAxis,["endpadding"],["endPadding"]],[l.radialAxis,["showline"],["gridLinesVisible"]],[l.radialAxis,["tickorientation"],["tickOrientation"]],[l.radialAxis,["ticksuffix"],["ticksSuffix"]],[l.radialAxis,["range"],["domain"]],[l.font,["outlinecolor"],["outlineColor"]],[l.legend,["traceorder"],["reverseOrder"]],[l,["labeloffset"],["labelOffset"]],[l,["defaultcolorrange"],["defaultColorRange"]]].forEach((function(e,r){o.util.translator.apply(null,e.concat(t))})),t?(void 0!==l.tickLength&&(l.angularaxis.ticklen=l.tickLength,delete l.tickLength),l.tickColor&&(l.angularaxis.tickcolor=l.tickColor,delete l.tickColor)):(l.angularAxis&&void 0!==l.angularAxis.ticklen&&(l.tickLength=l.angularAxis.ticklen),l.angularAxis&&void 0!==l.angularAxis.tickcolor&&(l.tickColor=l.angularAxis.tickcolor)),l.legend&&"boolean"!=typeof l.legend.reverseOrder&&(l.legend.reverseOrder="normal"!=l.legend.reverseOrder),l.legend&&"boolean"==typeof l.legend.traceorder&&(l.legend.traceorder=l.legend.traceorder?"reversed":"normal",delete l.legend.reverseOrder),l.margin&&void 0!==l.margin.t){var s=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],d={};a.entries(l.margin).forEach((function(e,t){d[c[s.indexOf(e.key)]]=e.value})),l.margin=d}t&&(delete l.needsEndSpacing,delete l.minorTickColor,delete l.minorTicks,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksStep,delete l.angularaxis.rewriteTicks,delete l.angularaxis.nticks,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksStep,delete l.radialaxis.rewriteTicks,delete l.radialaxis.nticks),r.layout=l}return r}};return e}},694:function(e,t,r){"use strict";var a=r(6),n=r(153).dfltConfig;var i={add:function(e,t,r,a,i){var o,l;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},l=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(l,e.undoQueue.queue.length-l,o),e.undoQueue.index+=1):o=e.undoQueue.queue[l-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(t),o.undo.args.unshift(r),o.redo.calls.push(a),o.redo.args.push(i)),e.undoQueue.queue.length>n.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,r;if(e.framework&&e.framework.isPolar)e.framework.undo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,r=0;r<t.undo.calls.length;r++)i.plotDo(e,t.undo.calls[r],t.undo.args[r]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,r;if(e.framework&&e.framework.isPolar)e.framework.redo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,r=0;r<t.redo.calls.length;r++)i.plotDo(e,t.redo.calls[r],t.redo.args[r]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}}};i.plotDo=function(e,t,r){e.autoplay=!0,r=function(e,t){for(var r,n=[],i=0;i<t.length;i++)r=t[i],n[i]=r===e?r:"object"==typeof r?Array.isArray(r)?a.extendDeep([],r):a.extendDeepAll({},r):r;return n}(e,r),t.apply(null,r)},e.exports=i},729:function(e,t,r){"use strict";var a=r(155);function n(e){return[e]}e.exports={keyFun:function(e){return e.key},repeat:n,descend:a,wrap:n,unwrap:function(e){return e[0]}}},734:function(e,t){e.exports=function(e,t){var r=t[0],a=t[1],n=t[2],i=t[3],o=r+r,l=a+a,s=n+n,c=r*o,d=a*o,u=a*l,p=n*o,f=n*l,g=n*s,h=i*o,y=i*l,m=i*s;return e[0]=1-u-g,e[1]=d+m,e[2]=p-y,e[3]=0,e[4]=d-m,e[5]=1-c-g,e[6]=f+h,e[7]=0,e[8]=p+y,e[9]=f-h,e[10]=1-c-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},771:function(e,t,r){"use strict";(e.exports=r(691)).manager=r(772)},772:function(e,t,r){"use strict";var a=r(24),n=r(6),i=r(57),o=r(691),l=r(773),s=n.extendDeepAll,c=e.exports={};c.framework=function(e){var t,r,n,i,d,u=new l;function p(r,l){return l&&(d=l),a.select(a.select(d).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),t=t?s(t,r):r,n||(n=o.Axis()),i=o.adapter.plotly().convert(t),n.config(i).render(d),e.data=t.data,e.layout=t.layout,c.fillLayout(e),t}return p.isPolar=!0,p.svg=function(){return n.svg()},p.getConfig=function(){return t},p.getLiveConfig=function(){return o.adapter.plotly().convert(n.getLiveConfig(),!0)},p.getLiveScales=function(){return{t:n.angularScale(),r:n.radialScale()}},p.setUndoPoint=function(){var e,a,n=this,i=o.util.cloneJson(t);e=i,a=r,u.add({undo:function(){a&&n(a)},redo:function(){n(e)}}),r=o.util.cloneJson(i)},p.undo=function(){u.undo()},p.redo=function(){u.redo()},p},c.fillLayout=function(e){var t=a.select(e).selectAll(".plot-container"),r=t.selectAll(".svg-container"),n=e.framework&&e.framework.svg&&e.framework.svg(),o={width:800,height:600,paper_bgcolor:i.background,_container:t,_paperdiv:r,_paper:n};e._fullLayout=s(o,e.layout)}},773:function(e,t,r){"use strict";e.exports=function(){var e,t=[],r=-1,a=!1;function n(e,t){return e?(a=!0,e[t](),a=!1,this):this}return{add:function(e){return a||(t.splice(r+1,t.length-r),t.push(e),r=t.length-1),this},setCallback:function(t){e=t},undo:function(){var a=t[r];return a?(n(a,"undo"),r-=1,e&&e(a.undo),this):this},redo:function(){var a=t[r+1];return a?(n(a,"redo"),r+=1,e&&e(a.redo),this):this},clear:function(){t=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<t.length-1},getCommands:function(){return t},getPreviousCommand:function(){return t[r-1]},getIndex:function(){return r}}}},775:function(e,t,r){"use strict";var a=r(83),n=r(154),i=r(62),o=r(227).sorterAsc,l=r(23);t.containerArrayMatch=r(776);var s=t.isAddVal=function(e){return"add"===e||a(e)},c=t.isRemoveVal=function(e){return null===e||"remove"===e};t.applyContainerArrayChanges=function(e,t,r,a,d){var u=t.astr,p=l.getComponentMethod(u,"supplyLayoutDefaults"),f=l.getComponentMethod(u,"draw"),g=l.getComponentMethod(u,"drawOne"),h=a.replot||a.recalc||p===n||f===n,y=e.layout,m=e._fullLayout;if(r[""]){Object.keys(r).length>1&&i.warn("Full array edits are incompatible with other edits",u);var v=r[""][""];if(c(v))t.set(null);else{if(!Array.isArray(v))return i.warn("Unrecognized full array edit value",u,v),!0;t.set(v)}return!h&&(p(y,m),f(e),!0)}var x,b,w,k,A,_,C,I,T=Object.keys(r).map(Number).sort(o),D=t.get(),M=D||[],O=d(m,u).get(),P=[],L=-1,S=M.length;for(x=0;x<T.length;x++)if(k=r[w=T[x]],A=Object.keys(k),_=k[""],C=s(_),w<0||w>M.length-(C?0:1))i.warn("index out of range",u,w);else if(void 0!==_)A.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",u,w),c(_)?P.push(w):C?("add"===_&&(_={}),M.splice(w,0,_),O&&O.splice(w,0,{})):i.warn("Unrecognized full object edit value",u,w,_),-1===L&&(L=w);else for(b=0;b<A.length;b++)I=u+"["+w+"].",d(M[w],A[b],I).set(k[A[b]]);for(x=P.length-1;x>=0;x--)M.splice(P[x],1),O&&O.splice(P[x],1);if(M.length?D||t.set(M):t.set(null),h)return!1;if(p(y,m),g!==n){var V;if(-1===L)V=T;else{for(S=Math.max(M.length,S),V=[],x=0;x<T.length&&!((w=T[x])>=L);x++)V.push(w);for(x=L;x<S;x++)V.push(x)}for(x=0;x<V.length;x++)g(e,V[x])}else f(e);return!0}},776:function(e,t,r){"use strict";var a=r(23);e.exports=function(e){for(var t,r,n=a.layoutArrayContainers,i=a.layoutArrayRegexes,o=e.split("[")[0],l=0;l<i.length;l++)if((r=e.match(i[l]))&&0===r.index){t=r[0];break}if(t||(t=n[n.indexOf(o)]),!t)return!1;var s=e.substr(t.length);return s?!!(r=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(r[1]),property:r[3]||""}:{array:t,index:"",property:""}}},777:function(e,t,r){"use strict";var a=r(12),n=r(734),i=r(23),o=r(6),l=r(107),s=r(110),c=r(57),d=s.cleanId,u=s.getFromTrace,p=i.traceIs;function f(e,t){var r=e[t],a=t.charAt(0);r&&"paper"!==r&&(e[t]=d(r,a))}function g(e){function t(t,r){var a=e[t],n=e.title&&e.title[r];a&&!n&&(e.title||(e.title={}),e.title[r]=e[t],delete e[t])}e&&("string"!=typeof e.title&&"number"!=typeof e.title||(e.title={text:e.title}),t("titlefont","font"),t("titleposition","position"),t("titleside","side"),t("titleoffset","offset"))}function h(e){if(!o.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"==typeof t||"number"==typeof t)&&String(t)}function y(e,t,r,a){if(r&&!a)return e;if(a&&!r)return t;if(!e.trim())return t;if(!t.trim())return e;var n,i=Math.min(e.length,t.length);for(n=0;n<i&&e.charAt(n)===t.charAt(n);n++);return e.substr(0,n).trim()}function m(e){var t="middle",r="center";return"string"==typeof e&&(-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?r="left":-1!==e.indexOf("right")&&(r="right")),t+" "+r}function v(e,t){return t in e&&"object"==typeof e[t]&&0===Object.keys(e[t]).length}t.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&o.log("Clearing previous rejected promises from queue."),e._promises=[]},t.cleanLayout=function(e){var r,a;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var i=(l.subplotsRegistry.cartesian||{}).attrRegex,s=(l.subplotsRegistry.polar||{}).attrRegex,u=(l.subplotsRegistry.ternary||{}).attrRegex,p=(l.subplotsRegistry.gl3d||{}).attrRegex,h=Object.keys(e);for(r=0;r<h.length;r++){var y=h[r];if(i&&i.test(y)){var m=e[y];m.anchor&&"free"!==m.anchor&&(m.anchor=d(m.anchor)),m.overlaying&&(m.overlaying=d(m.overlaying)),m.type||(m.isdate?m.type="date":m.islog?m.type="log":!1===m.isdate&&!1===m.islog&&(m.type="linear")),"withzero"!==m.autorange&&"tozero"!==m.autorange||(m.autorange=!0,m.rangemode="tozero"),delete m.islog,delete m.isdate,delete m.categories,v(m,"domain")&&delete m.domain,void 0!==m.autotick&&(void 0===m.tickmode&&(m.tickmode=m.autotick?"auto":"linear"),delete m.autotick),g(m)}else if(s&&s.test(y)){g(e[y].radialaxis)}else if(u&&u.test(y)){var x=e[y];g(x.aaxis),g(x.baxis),g(x.caxis)}else if(p&&p.test(y)){var b=e[y],w=b.cameraposition;if(Array.isArray(w)&&4===w[0].length){var k=w[0],A=w[1],_=w[2],C=n([],k),I=[];for(a=0;a<3;++a)I[a]=A[a]+_*C[2+4*a];b.camera={eye:{x:I[0],y:I[1],z:I[2]},center:{x:A[0],y:A[1],z:A[2]},up:{x:0,y:0,z:1}},delete b.cameraposition}g(b.xaxis),g(b.yaxis),g(b.zaxis)}}var T=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<T;r++){var D=e.annotations[r];o.isPlainObject(D)&&(D.ref&&("paper"===D.ref?(D.xref="paper",D.yref="paper"):"data"===D.ref&&(D.xref="x",D.yref="y"),delete D.ref),f(D,"xref"),f(D,"yref"))}var M=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<M;r++){var O=e.shapes[r];o.isPlainObject(O)&&(f(O,"xref"),f(O,"yref"))}var P=e.legend;return P&&(P.x>3?(P.x=1.02,P.xanchor="left"):P.x<-2&&(P.x=-.02,P.xanchor="right"),P.y>3?(P.y=1.02,P.yanchor="bottom"):P.y<-2&&(P.y=-.02,P.yanchor="top")),g(e),"rotate"===e.dragmode&&(e.dragmode="orbit"),c.clean(e),e.template&&e.template.layout&&t.cleanLayout(e.template.layout),e},t.cleanData=function(e){for(var r=0;r<e.length;r++){var a,n=e[r];if("histogramy"===n.type&&"xbins"in n&&!("ybins"in n)&&(n.ybins=n.xbins,delete n.xbins),n.error_y&&"opacity"in n.error_y){var s=c.defaults,u=n.error_y.color||(p(n,"bar")?c.defaultLine:s[r%s.length]);n.error_y.color=c.addOpacity(c.rgb(u),c.opacity(u)*n.error_y.opacity),delete n.error_y.opacity}if("bardir"in n&&("h"!==n.bardir||!p(n,"bar")&&"histogram"!==n.type.substr(0,9)||(n.orientation="h",t.swapXYData(n)),delete n.bardir),"histogramy"===n.type&&t.swapXYData(n),"histogramx"!==n.type&&"histogramy"!==n.type||(n.type="histogram"),"scl"in n&&!("colorscale"in n)&&(n.colorscale=n.scl,delete n.scl),"reversescl"in n&&!("reversescale"in n)&&(n.reversescale=n.reversescl,delete n.reversescl),n.xaxis&&(n.xaxis=d(n.xaxis,"x")),n.yaxis&&(n.yaxis=d(n.yaxis,"y")),p(n,"gl3d")&&n.scene&&(n.scene=l.subplotsRegistry.gl3d.cleanId(n.scene)),!p(n,"pie-like")&&!p(n,"bar-like"))if(Array.isArray(n.textposition))for(a=0;a<n.textposition.length;a++)n.textposition[a]=m(n.textposition[a]);else n.textposition&&(n.textposition=m(n.textposition));var f=i.getModule(n);if(f&&f.colorbar){var x=f.colorbar.container,b=x?n[x]:n;b&&b.colorscale&&("YIGnBu"===b.colorscale&&(b.colorscale="YlGnBu"),"YIOrRd"===b.colorscale&&(b.colorscale="YlOrRd"))}if("surface"===n.type&&o.isPlainObject(n.contours)){var w=["x","y","z"];for(a=0;a<w.length;a++){var k=n.contours[w[a]];o.isPlainObject(k)&&(k.highlightColor&&(k.highlightcolor=k.highlightColor,delete k.highlightColor),k.highlightWidth&&(k.highlightwidth=k.highlightWidth,delete k.highlightWidth))}}if("candlestick"===n.type||"ohlc"===n.type){var A=!1!==(n.increasing||{}).showlegend,_=!1!==(n.decreasing||{}).showlegend,C=h(n.increasing),I=h(n.decreasing);if(!1!==C&&!1!==I){var T=y(C,I,A,_);T&&(n.name=T)}else!C&&!I||n.name||(n.name=C||I)}if(Array.isArray(n.transforms)){var D=n.transforms;for(a=0;a<D.length;a++){var M=D[a];if(o.isPlainObject(M))switch(M.type){case"filter":M.filtersrc&&(M.target=M.filtersrc,delete M.filtersrc),M.calendar&&(M.valuecalendar||(M.valuecalendar=M.calendar),delete M.calendar);break;case"groupby":if(M.styles=M.styles||M.style,M.styles&&!Array.isArray(M.styles)){var O=M.styles,P=Object.keys(O);M.styles=[];for(var L=0;L<P.length;L++)M.styles.push({target:P[L],value:O[P[L]]})}}}}v(n,"line")&&delete n.line,"marker"in n&&(v(n.marker,"line")&&delete n.marker.line,v(n,"marker")&&delete n.marker),c.clean(n),n.autobinx&&(delete n.autobinx,delete n.xbins),n.autobiny&&(delete n.autobiny,delete n.ybins),g(n),n.colorbar&&g(n.colorbar),n.marker&&n.marker.colorbar&&g(n.marker.colorbar),n.line&&n.line.colorbar&&g(n.line.colorbar),n.aaxis&&g(n.aaxis),n.baxis&&g(n.baxis)}},t.swapXYData=function(e){var t;if(o.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var r=e.error_y,a="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);o.swapAttrs(e,["error_?.copy_ystyle"]),a&&o.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof e.hoverinfo){var n=e.hoverinfo.split("+");for(t=0;t<n.length;t++)"x"===n[t]?n[t]="y":"y"===n[t]&&(n[t]="x");e.hoverinfo=n.join("+")}},t.coerceTraceIndices=function(e,t){if(a(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map((function(e,t){return t}));if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++)o.isIndex(t[n],e.data.length)?r.push(t[n]):o.warn("trace index (",t[n],") is not a number or is out of bounds");return r}return t},t.manageArrayContainers=function(e,t,r){var n=e.obj,i=e.parts,l=i.length,s=i[l-1],c=a(s);if(c&&null===t){var d=i.slice(0,l-1).join(".");o.nestedProperty(n,d).get().splice(s,1)}else c&&void 0===e.get()?(void 0===e.get()&&(r[e.astr]=null),e.set(t)):e.set(t)};var x=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function b(e){var t=e.search(x);if(t>0)return e.substr(0,t)}t.hasParent=function(e,t){for(var r=b(t);r;){if(r in e)return!0;r=b(r)}return!1};var w=["x","y","z"];t.clearAxisTypes=function(e,t,r){for(var a=0;a<t.length;a++)for(var n=e._fullData[a],i=0;i<3;i++){var l=u(e,n,w[i]);if(l&&"log"!==l.type){var s=l._name,c=l._id.substr(1);if("scene"===c.substr(0,5)){if(void 0!==r[c])continue;s=c+"."+s}var d=s+".type";void 0===r[s]&&void 0===r[d]&&o.nestedProperty(e.layout,d).set(null)}}}}}]);