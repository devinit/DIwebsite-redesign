(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{1159:function(e,t,i){"use strict";e.exports=i(1344)},1344:function(e,t,i){"use strict";e.exports={moduleType:"trace",name:"ohlc",basePlotModule:i(407),categories:["cartesian","svg","showLegend"],meta:{description:["The ohlc (short for Open-High-Low-Close) is a style of financial chart describing","open, high, low and close for a given `x` coordinate (most likely time).","The tip of the lines represent the `low` and `high` values and","the horizontal segments represent the `open` and `close` values.","Sample points where the close value is higher (lower) then the open","value are called increasing (decreasing).","By default, increasing items are drawn in green whereas","decreasing are drawn in red."].join(" ")},attributes:i(850),supplyDefaults:i(1345),calc:i(928).calc,plot:i(1346),style:i(1347),hoverPoints:i(929).hoverPoints,selectPoints:i(930)}},1345:function(e,t,i){"use strict";var n=i(378),a=i(927),r=i(850);function o(e,t,i,n){i(n+".line.color"),i(n+".line.width",t.line.width),i(n+".line.dash",t.line.dash)}e.exports=function(e,t,i,l){function s(i,a){return n.coerce(e,t,r,i,a)}a(e,t,s,l)?(s("line.width"),s("line.dash"),o(e,t,s,"increasing"),o(e,t,s,"decreasing"),s("text"),s("hovertext"),s("tickwidth"),l._requestRangeslider[t.xaxis]=!0):t.visible=!1}},1346:function(e,t,i){"use strict";var n=i(381),a=i(378);e.exports=function(e,t,i,r){var o=t.xaxis,l=t.yaxis;a.makeTraceGroups(r,i,"trace ohlc").each((function(e){var t=n.select(this),i=e[0],r=i.t;if(!0!==i.trace.visible||r.empty)t.remove();else{var s=r.tickLen,c=t.selectAll("path").data(a.identity);c.enter().append("path"),c.exit().remove(),c.attr("d",(function(e){if(e.empty)return"M0,0Z";var t=o.c2p(e.pos,!0),i=o.c2p(e.pos-s,!0),n=o.c2p(e.pos+s,!0);return"M"+i+","+l.c2p(e.o,!0)+"H"+t+"M"+t+","+l.c2p(e.h,!0)+"V"+l.c2p(e.l,!0)+"M"+n+","+l.c2p(e.c,!0)+"H"+t}))}}))}},1347:function(e,t,i){"use strict";var n=i(381),a=i(384),r=i(380);e.exports=function(e,t,i){var o=i||n.select(e).selectAll("g.ohlclayer").selectAll("g.trace");o.style("opacity",(function(e){return e[0].trace.opacity})),o.each((function(e){var t=e[0].trace;n.select(this).selectAll("path").each((function(e){if(!e.empty){var i=t[e.dir].line;n.select(this).style("fill","none").call(r.stroke,i.color).call(a.dashLine,i.dash,i.width).style("opacity",t.selectedpoints&&!e.selected?.3:1)}}))}))}},567:function(e,t,i){"use strict";e.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},850:function(e,t,i){"use strict";var n=i(378).extendFlat,a=i(396),r=i(488).dash,o=i(915),l=i(567),s=l.INCREASING.COLOR,c=l.DECREASING.COLOR,h=a.line;function d(e){return{line:{color:n({},h.color,{dflt:e}),width:h.width,dash:r,editType:"style"},editType:"style"}}e.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the x coordinates.","If absent, linear coordinate will be generated."].join(" ")},open:{valType:"data_array",editType:"calc",description:"Sets the open values."},high:{valType:"data_array",editType:"calc",description:"Sets the high values."},low:{valType:"data_array",editType:"calc",description:"Sets the low values."},close:{valType:"data_array",editType:"calc",description:"Sets the close values."},line:{width:n({},h.width,{description:[h.width,"Note that this style setting can also be set per","direction via `increasing.line.width` and","`decreasing.line.width`."].join(" ")}),dash:n({},r,{description:[r.description,"Note that this style setting can also be set per","direction via `increasing.line.dash` and","`decreasing.line.dash`."].join(" ")}),editType:"style"},increasing:d(s),decreasing:d(c),text:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"calc",description:["Sets hover text elements associated with each sample point.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to","this trace's sample points."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"calc",description:"Same as `text`."},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,role:"style",editType:"calc",description:["Sets the width of the open/close tick marks","relative to the *x* minimal interval."].join(" ")},hoverlabel:n({},o.hoverlabel,{split:{valType:"boolean",role:"info",dflt:!1,editType:"style",description:["Show hover information (open, close, high, low) in","separate labels."].join(" ")}})}},927:function(e,t,i){"use strict";var n=i(379),a=i(378);e.exports=function(e,t,i,r){var o=i("x"),l=i("open"),s=i("high"),c=i("low"),h=i("close");if(i("hoverlabel.split"),n.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x"],r),l&&s&&c&&h){var d=Math.min(l.length,s.length,c.length,h.length);return o&&(d=Math.min(d,a.minRowLength(o))),t._length=d,d}}},928:function(e,t,i){"use strict";var n=i(378),a=n._,r=i(382),o=i(388).BADNUM;function l(e,t,i,n){return{o:e,h:t,l:i,c:n}}function s(e,t,i,l,s){for(var c=l.makeCalcdata(t,"open"),h=l.makeCalcdata(t,"high"),d=l.makeCalcdata(t,"low"),p=l.makeCalcdata(t,"close"),u=Array.isArray(t.text),f=Array.isArray(t.hovertext),v=!0,x=null,y=[],g=0;g<i.length;g++){var m=i[g],w=c[g],b=h[g],T=d[g],k=p[g];if(m!==o&&w!==o&&b!==o&&T!==o&&k!==o){k===w?null!==x&&k!==x&&(v=k>x):v=k>w,x=k;var S=s(w,b,T,k);S.pos=m,S.yc=(w+k)/2,S.i=g,S.dir=v?"increasing":"decreasing",S.x=S.pos,S.y=[T,b],u&&(S.tx=t.text[g]),f&&(S.htx=t.hovertext[g]),y.push(S)}else y.push({pos:m,empty:!0})}return t._extremes[l._id]=r.findExtremes(l,n.concat(d,h),{padded:!0}),y.length&&(y[0].t={labels:{open:a(e,"open:")+" ",high:a(e,"high:")+" ",low:a(e,"low:")+" ",close:a(e,"close:")+" "}}),y}e.exports={calc:function(e,t){var i=r.getFromId(e,t.xaxis),a=r.getFromId(e,t.yaxis),o=function(e,t,i){var a=i._minDiff;if(!a){var r,o=e._fullData,l=[];for(a=1/0,r=0;r<o.length;r++){var s=o[r];if("ohlc"===s.type&&!0===s.visible&&s.xaxis===t._id){l.push(s);var c=t.makeCalcdata(s,"x");s._xcalc=c;var h=n.distinctVals(c).minDiff;h&&isFinite(h)&&(a=Math.min(a,h))}}for(a===1/0&&(a=1),r=0;r<l.length;r++)l[r]._minDiff=a}return a*i.tickwidth}(e,i,t),c=t._minDiff;t._minDiff=null;var h=t._xcalc;t._xcalc=null;var d=s(e,t,h,a,l);return t._extremes[i._id]=r.findExtremes(i,h,{vpad:c/2}),d.length?(n.extendFlat(d[0].t,{wHover:c/2,tickLen:o}),d):[{t:{empty:!0}}]},calcCommon:s}},929:function(e,t,i){"use strict";var n=i(382),a=i(378),r=i(395),o=i(380),l=i(378).fillText,s=i(567),c={increasing:s.INCREASING.SYMBOL,decreasing:s.DECREASING.SYMBOL};function h(e,t,i,n){var a,l,s=e.cd,c=e.xa,h=s[0].trace,d=s[0].t,p=h.type,u="ohlc"===p?"l":"min",f="ohlc"===p?"h":"max",v=d.bPos||0,x=d.bdPos||d.tickLen,y=d.wHover,g=Math.min(1,x/Math.abs(c.r2c(c.range[1])-c.r2c(c.range[0])));function m(e){var i=function(e){return e.pos+v-t}(e);return r.inbox(i-y,i+y,a)}function w(e){var t=e[u],n=e[f];return t===n||r.inbox(t-i,n-i,a)}function b(e){return(m(e)+w(e))/2}a=e.maxHoverDistance-g,l=e.maxSpikeDistance-g;var T=r.getDistanceFunction(n,m,w,b);if(r.getClosest(s,T,e),!1===e.index)return null;var k=s[e.index];if(k.empty)return null;var S=h[k.dir],L=S.line.color;return o.opacity(L)&&S.line.width?e.color=L:e.color=S.fillcolor,e.x0=c.c2p(k.pos+v-x,!0),e.x1=c.c2p(k.pos+v+x,!0),e.xLabelVal=k.pos,e.spikeDistance=b(k)*l/a,e.xSpike=c.c2p(k.pos,!0),e}function d(e,t,i,r){var o=e.cd,l=e.ya,s=o[0].trace,c=o[0].t,d=[],p=h(e,t,i,r);if(!p)return[];var u=o[p.index].hi||s.hoverinfo,f=u.split("+");if(!("all"===u||-1!==f.indexOf("y")))return[];for(var v=["high","open","close","low"],x={},y=0;y<v.length;y++){var g,m=v[y],w=s[m][p.index],b=l.c2p(w,!0);w in x?(g=x[w]).yLabel+="<br>"+c.labels[m]+n.hoverLabelText(l,w):((g=a.extendFlat({},p)).y0=g.y1=b,g.yLabelVal=w,g.yLabel=c.labels[m]+n.hoverLabelText(l,w),g.name="",d.push(g),x[w]=g)}return d}function p(e,t,i,a){var r=e.cd,o=e.ya,s=r[0].trace,d=r[0].t,p=h(e,t,i,a);if(!p)return[];var u=r[p.index],f=p.index=u.i,v=u.dir;function x(e){return d.labels[e]+n.hoverLabelText(o,s[e][f])}var y=u.hi||s.hoverinfo,g=y.split("+"),m="all"===y,w=m||-1!==g.indexOf("y"),b=m||-1!==g.indexOf("text"),T=w?[x("open"),x("high"),x("low"),x("close")+"  "+c[v]]:[];return b&&l(u,s,T),p.extraText=T.join("<br>"),p.y0=p.y1=o.c2p(u.yc,!0),[p]}e.exports={hoverPoints:function(e,t,i,n){return e.cd[0].trace.hoverlabel.split?d(e,t,i,n):p(e,t,i,n)},hoverSplit:d,hoverOnPoints:p}},930:function(e,t,i){"use strict";e.exports=function(e,t){var i,n=e.cd,a=e.xaxis,r=e.yaxis,o=[],l=n[0].t.bPos||0;if(!1===t)for(i=0;i<n.length;i++)n[i].selected=0;else for(i=0;i<n.length;i++){var s=n[i];t.contains([a.c2p(s.pos+l),r.c2p(s.yc)],null,s.i,e)?(o.push({pointNumber:s.i,x:a.c2d(s.pos),y:r.c2d(s.yc)}),s.selected=1):s.selected=0}return o}}}]);