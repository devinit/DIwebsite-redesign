(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1212:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"a",(function(){return i}));function r(){}function a(t,n){var e=new r;if(t instanceof r)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var a,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(a=t[i],i,t),a)}else if(t)for(var u in t)e.set(u,t[u]);return e}r.prototype=a.prototype={constructor:r,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var i=a,o=function(){var t,n,e,r=[],a=[];function o(e,a,u,l){if(a>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var c,s,f,h=-1,d=e.length,y=r[a++],g=i(),p=u();++h<d;)(f=g.get(c=y(s=e[h])+""))?f.push(s):g.set(c,[s]);return g.each((function(t,n){l(p,n,o(t,a,u,l))})),p}return e={object:function(t){return o(t,0,u,l)},map:function(t){return o(t,0,c,s)},entries:function(t){return function t(e,i){if(++i>r.length)return e;var o,u=a[i-1];return null!=n&&i>=r.length?o=e.entries():(o=[],e.each((function(n,e){o.push({key:e,values:t(n,i)})}))),null!=u?o.sort((function(t,n){return u(t.key,n.key)})):o}(o(t,0,c,s),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return a[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}};function u(){return{}}function l(t,n,e){t[n]=e}function c(){return i()}function s(t,n,e){t.set(n,e)}function f(){}var h=i.prototype;function d(t,n){var e=new f;if(t instanceof f)t.each((function(t){e.add(t)}));else if(t){var r=-1,a=t.length;if(null==n)for(;++r<a;)e.add(t[r]);else for(;++r<a;)e.add(n(t[r],r,t))}return e}f.prototype=d.prototype={constructor:f,has:h.has,add:function(t){return this["$"+(t+="")]=t,this},remove:h.remove,clear:h.clear,values:h.keys,size:h.size,empty:h.empty,each:h.each}},1322:function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return l})),e.d(n,"c",(function(){return c})),e.d(n,"d",(function(){return s})),e.d(n,"e",(function(){return f}));var r=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN};var a,i;1===(a=r).length&&(i=a,a=function(t,n){return r(i(t),n)});var o=function(t){return null===t?NaN:+t},u=Array.prototype;u.slice,u.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var l=function(t,n){var e,r,a=t.length,i=-1;if(null==n){for(;++i<a;)if(null!=(e=t[i])&&e>=e)for(r=e;++i<a;)null!=(e=t[i])&&e>r&&(r=e)}else for(;++i<a;)if(null!=(e=n(t[i],i,t))&&e>=e)for(r=e;++i<a;)null!=(e=n(t[i],i,t))&&e>r&&(r=e);return r},c=function(t,n){var e,r=t.length,a=r,i=-1,u=0;if(null==n)for(;++i<r;)isNaN(e=o(t[i]))?--a:u+=e;else for(;++i<r;)isNaN(e=o(n(t[i],i,t)))?--a:u+=e;if(a)return u/a},s=function(t,n){var e,r,a=t.length,i=-1;if(null==n){for(;++i<a;)if(null!=(e=t[i])&&e>=e)for(r=e;++i<a;)null!=(e=t[i])&&r>e&&(r=e)}else for(;++i<a;)if(null!=(e=n(t[i],i,t))&&e>=e)for(r=e;++i<a;)null!=(e=n(t[i],i,t))&&r>e&&(r=e);return r},f=function(t,n){var e,r=t.length,a=-1,i=0;if(null==n)for(;++a<r;)(e=+t[a])&&(i+=e);else for(;++a<r;)(e=+n(t[a],a,t))&&(i+=e);return i}},1646:function(t,n,e){"use strict";var r=e(46),a=e(59),i=e(113),o=e(252),u=e(647).attributes,l=e(154).hovertemplateAttrs,c=e(112),s=e(53).templatedArray,f=e(32).extendFlat,h=e(111).overrideAll,d=e(86).FORMAT_LINK;(t.exports=h({hoverinfo:f({},a.hoverinfo,{flags:[],arrayOk:!1,description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired.","Note that this attribute is superseded by `node.hoverinfo` and `node.hoverinfo`","for nodes and links respectively."].join(" ")}),hoverlabel:o.hoverlabel,domain:u({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h",role:"style",description:"Sets the orientation of the Sankey diagram."},valueformat:{valType:"string",dflt:".3s",role:"style",description:["Sets the value formatting rule using d3 formatting mini-language","which is similar to those of Python. See",d].join(" ")},valuesuffix:{valType:"string",dflt:"",role:"style",description:["Adds a unit to follow the value in the hover tooltip. Add a space if a separation","is necessary from the value."].join(" ")},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap",role:"style",description:["If value is `snap` (the default), the node arrangement is assisted by automatic snapping of elements to","preserve space between nodes specified via `nodepad`.","If value is `perpendicular`, the nodes can only move along a line perpendicular to the flow.","If value is `freeform`, the nodes can freely move on the plane.","If value is `fixed`, the nodes are stationary."].join(" ")},textfont:r({description:"Sets the font for node labels"}),customdata:void 0,node:{label:{valType:"data_array",dflt:[],role:"info",description:"The shown name of the node."},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"},role:"info",description:["Groups of nodes.","Each group is defined by an array with the indices of the nodes it contains.","Multiple groups can be specified."].join(" ")},x:{valType:"data_array",dflt:[],role:"info",description:"The normalized horizontal position of the node."},y:{valType:"data_array",dflt:[],role:"info",description:"The normalized vertical position of the node."},color:{valType:"color",role:"style",arrayOk:!0,description:["Sets the `node` color. It can be a single value, or an array for specifying color for each `node`.","If `node.color` is omitted, then the default `Plotly` color palette will be cycled through","to have a variety of colors. These defaults are not fully opaque, to allow some visibility of","what is beneath the node."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data to each node."].join(" ")},line:{color:{valType:"color",role:"style",dflt:i.defaultLine,arrayOk:!0,description:["Sets the color of the `line` around each `node`."].join(" ")},width:{valType:"number",role:"style",min:0,dflt:.5,arrayOk:!0,description:["Sets the width (in px) of the `line` around each `node`."].join(" ")}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20,role:"style",description:"Sets the padding (in px) between the `nodes`."},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20,role:"style",description:"Sets the thickness (in px) of the `nodes`."},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all",role:"info",description:["Determines which trace information appear when hovering nodes.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:o.hoverlabel,hovertemplate:l({},{description:"Variables `sourceLinks` and `targetLinks` are arrays of link objects.",keys:["value","label"]}),description:"The nodes of the Sankey plot."},link:{label:{valType:"data_array",dflt:[],role:"info",description:"The shown name of the link."},color:{valType:"color",role:"style",arrayOk:!0,description:["Sets the `link` color. It can be a single value, or an array for specifying color for each `link`.","If `link.color` is omitted, then by default, a translucent grey link will be used."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data to each link."].join(" ")},line:{color:{valType:"color",role:"style",dflt:i.defaultLine,arrayOk:!0,description:["Sets the color of the `line` around each `link`."].join(" ")},width:{valType:"number",role:"style",min:0,dflt:0,arrayOk:!0,description:["Sets the width (in px) of the `line` around each `link`."].join(" ")}},source:{valType:"data_array",role:"info",dflt:[],description:"An integer number `[0..nodes.length - 1]` that represents the source node."},target:{valType:"data_array",role:"info",dflt:[],description:"An integer number `[0..nodes.length - 1]` that represents the target node."},value:{valType:"data_array",dflt:[],role:"info",description:"A numeric value representing the flow volume value."},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all",role:"info",description:["Determines which trace information appear when hovering links.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:o.hoverlabel,hovertemplate:l({},{description:"Variables `source` and `target` are node objects.",keys:["value","label"]}),colorscales:s("concentrationscales",{editType:"calc",label:{valType:"string",role:"info",editType:"calc",description:"The label of the links to color based on their concentration within a flow.",dflt:""},cmax:{valType:"number",role:"info",editType:"calc",dflt:1,description:["Sets the upper bound of the color domain."].join("")},cmin:{valType:"number",role:"info",editType:"calc",dflt:0,description:["Sets the lower bound of the color domain."].join("")},colorscale:f(c().colorscale,{dflt:[[0,"white"],[1,"black"]]})}),description:"The links of the Sankey plot.",role:"info"}},"calc","nested")).transforms=void 0},1647:function(t,n,e){"use strict";t.exports=function(t){for(var n=t.length,e=new Array(n),r=new Array(n),a=new Array(n),i=new Array(n),o=new Array(n),u=new Array(n),l=0;l<n;++l)e[l]=-1,r[l]=0,a[l]=!1,i[l]=0,o[l]=-1,u[l]=[];var c,s=0,f=[],h=[];function d(n){var l=[n],c=[n];for(e[n]=r[n]=s,a[n]=!0,s+=1;c.length>0;){n=c[c.length-1];var d=t[n];if(i[n]<d.length){for(var y=i[n];y<d.length;++y){var g=d[y];if(e[g]<0){e[g]=r[g]=s,a[g]=!0,s+=1,l.push(g),c.push(g);break}a[g]&&(r[n]=0|Math.min(r[n],r[g])),o[g]>=0&&u[n].push(o[g])}i[n]=y}else{if(r[n]===e[n]){var p=[],v=[],x=0;for(y=l.length-1;y>=0;--y){var m=l[y];if(a[m]=!1,p.push(m),v.push(u[m]),x+=u[m].length,o[m]=f.length,m===n){l.length=y;break}}f.push(p);var k=new Array(x);for(y=0;y<v.length;y++)for(var b=0;b<v[y].length;b++)k[--x]=v[y][b];h.push(k)}c.pop()}}}for(l=0;l<n;++l)e[l]<0&&d(l);for(l=0;l<h.length;l++){var y=h[l];if(0!==y.length){y.sort((function(t,n){return t-n})),c=[y[0]];for(var g=1;g<y.length;g++)y[g]!==y[g-1]&&c.push(y[g]);h[l]=c}}return{components:f,adjacencyList:h}}},1648:function(t,n,e){"use strict";var r=e(24),a=e(1729),i=e(646),o=e(52),u=e(3),l=e(1649).cn,c=u._;function s(t){return""!==t}function f(t,n){return t.filter((function(t){return t.key===n.traceId}))}function h(t,n){r.select(t).select("path").style("fill-opacity",n),r.select(t).select("rect").style("fill-opacity",n)}function d(t){r.select(t).select("text.name").style("fill","black")}function y(t){return function(n){return-1!==t.node.sourceLinks.indexOf(n.link)||-1!==t.node.targetLinks.indexOf(n.link)}}function g(t){return function(n){return-1!==n.node.sourceLinks.indexOf(t.link)||-1!==n.node.targetLinks.indexOf(t.link)}}function p(t,n,e){n&&e&&f(e,n).selectAll("."+l.sankeyLink).filter(y(n)).call(x.bind(0,n,e,!1))}function v(t,n,e){n&&e&&f(e,n).selectAll("."+l.sankeyLink).filter(y(n)).call(m.bind(0,n,e,!1))}function x(t,n,e,r){var a=r.datum().link.label;r.style("fill-opacity",(function(t){if(!t.link.concentrationscale)return.4})),a&&f(n,t).selectAll("."+l.sankeyLink).filter((function(t){return t.link.label===a})).style("fill-opacity",(function(t){if(!t.link.concentrationscale)return.4})),e&&f(n,t).selectAll("."+l.sankeyNode).filter(g(t)).call(p)}function m(t,n,e,r){var a=r.datum().link.label;r.style("fill-opacity",(function(t){return t.tinyColorAlpha})),a&&f(n,t).selectAll("."+l.sankeyLink).filter((function(t){return t.link.label===a})).style("fill-opacity",(function(t){return t.tinyColorAlpha})),e&&f(n,t).selectAll(l.sankeyNode).filter(g(t)).call(v)}function k(t,n){var e=t.hoverlabel||{},r=u.nestedProperty(e,n).get();return!Array.isArray(r)&&r}t.exports=function(t,n){for(var e=t._fullLayout,u=e._paper,f=e._size,y=0;y<t._fullData.length;y++)if(t._fullData[y].visible&&t._fullData[y].type===l.sankey&&!t._fullData[y]._viewInitial){var g=t._fullData[y].node;t._fullData[y]._viewInitial={node:{groups:g.groups.slice(),x:g.x.slice(),y:g.y.slice()}}}var b=c(t,"source:")+" ",w=c(t,"target:")+" ",L=c(t,"concentration:")+" ",_=c(t,"incoming flow count:")+" ",A=c(t,"outgoing flow count:")+" ";a(t,u,n,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{linkEvents:{hover:function(n,e,a){!1!==t._fullLayout.hovermode&&(r.select(n).call(x.bind(0,e,a,!0)),"skip"!==e.link.trace.link.hoverinfo&&(e.link.fullData=e.link.trace,t.emit("plotly_hover",{event:r.event,points:[e.link]})))},follow:function(n,a){if(!1!==t._fullLayout.hovermode){var u=a.link.trace.link;if("none"!==u.hoverinfo&&"skip"!==u.hoverinfo){for(var l=[],c=0,f=0;f<a.flow.links.length;f++){var y=a.flow.links[f];if("closest"!==t._fullLayout.hovermode||a.link.pointNumber===y.pointNumber){a.link.pointNumber===y.pointNumber&&(c=f),y.fullData=y.trace,u=a.link.trace.link;var g=v(y),p={valueLabel:r.format(a.valueFormat)(y.value)+a.valueSuffix};l.push({x:g[0],y:g[1],name:p.valueLabel,text:[y.label||"",b+y.source.label,w+y.target.label,y.concentrationscale?L+r.format("%0.2f")(y.flow.labelConcentration):""].filter(s).join("<br>"),color:k(u,"bgcolor")||o.addOpacity(y.color,1),borderColor:k(u,"bordercolor"),fontFamily:k(u,"font.family"),fontSize:k(u,"font.size"),fontColor:k(u,"font.color"),nameLength:k(u,"namelength"),textAlign:k(u,"align"),idealAlign:r.event.x<g[0]?"right":"left",hovertemplate:u.hovertemplate,hovertemplateLabels:p,eventData:[y]})}}i.loneHover(l,{container:e._hoverlayer.node(),outerContainer:e._paper.node(),gd:t,anchorIndex:c}).each((function(){a.link.concentrationscale||h(this,.65),d(this)}))}}function v(t){var n,e;t.circular?(n=(t.circularPathData.leftInnerExtent+t.circularPathData.rightInnerExtent)/2,e=t.circularPathData.verticalFullExtent):(n=(t.source.x1+t.target.x0)/2,e=(t.y0+t.y1)/2);var r=[n,e];return"v"===t.trace.orientation&&r.reverse(),r[0]+=a.parent.translateX,r[1]+=a.parent.translateY,r}},unhover:function(n,a,o){!1!==t._fullLayout.hovermode&&(r.select(n).call(m.bind(0,a,o,!0)),"skip"!==a.link.trace.link.hoverinfo&&(a.link.fullData=a.link.trace,t.emit("plotly_unhover",{event:r.event,points:[a.link]})),i.loneUnhover(e._hoverlayer.node()))},select:function(n,e){var a=e.link;a.originalEvent=r.event,t._hoverdata=[a],i.click(t,{target:!0})}},nodeEvents:{hover:function(n,e,a){!1!==t._fullLayout.hovermode&&(r.select(n).call(p,e,a),"skip"!==e.node.trace.node.hoverinfo&&(e.node.fullData=e.node.trace,t.emit("plotly_hover",{event:r.event,points:[e.node]})))},follow:function(n,a){if(!1!==t._fullLayout.hovermode){var o=a.node.trace.node;if("none"!==o.hoverinfo&&"skip"!==o.hoverinfo){var u=r.select(n).select("."+l.nodeRect),c=t._fullLayout._paperdiv.node().getBoundingClientRect(),f=u.node().getBoundingClientRect(),y=f.left-2-c.left,g=f.right+2-c.left,p=f.top+f.height/4-c.top,v={valueLabel:r.format(a.valueFormat)(a.node.value)+a.valueSuffix};a.node.fullData=a.node.trace;var x=i.loneHover({x0:y,x1:g,y:p,name:r.format(a.valueFormat)(a.node.value)+a.valueSuffix,text:[a.node.label,_+a.node.targetLinks.length,A+a.node.sourceLinks.length].filter(s).join("<br>"),color:k(o,"bgcolor")||a.tinyColorHue,borderColor:k(o,"bordercolor"),fontFamily:k(o,"font.family"),fontSize:k(o,"font.size"),fontColor:k(o,"font.color"),nameLength:k(o,"namelength"),textAlign:k(o,"align"),idealAlign:"left",hovertemplate:o.hovertemplate,hovertemplateLabels:v,eventData:[a.node]},{container:e._hoverlayer.node(),outerContainer:e._paper.node(),gd:t});h(x,.85),d(x)}}},unhover:function(n,a,o){!1!==t._fullLayout.hovermode&&(r.select(n).call(v,a,o),"skip"!==a.node.trace.node.hoverinfo&&(a.node.fullData=a.node.trace,t.emit("plotly_unhover",{event:r.event,points:[a.node]})),i.loneUnhover(e._hoverlayer.node()))},select:function(n,e,a){var o=e.node;o.originalEvent=r.event,t._hoverdata=[o],r.select(n).call(v,e,a),i.click(t,{target:!0})}}})}},1649:function(t,n,e){"use strict";t.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeCapture:"node-capture",nodeCentered:"node-entered",nodeLabelGuide:"node-label-guide",nodeLabel:"node-label",nodeLabelTextPath:"node-label-text-path"}}},1726:function(t,n,e){"use strict";t.exports={attributes:e(1646),supplyDefaults:e(1727),calc:e(1728),plot:e(1648),moduleType:"trace",name:"sankey",basePlotModule:e(1732),selectPoints:e(1733),categories:["noOpacity"],meta:{description:["Sankey plots for network flow data analysis.","The nodes are specified in `nodes` and the links between sources and targets in `links`.","The colors are set in `nodes[i].color` and `links[i].color`, otherwise defaults are used."].join(" ")}}},1727:function(t,n,e){"use strict";var r=e(3),a=e(1646),i=e(52),o=e(61),u=e(647).defaults,l=e(1327),c=e(53),s=e(220);function f(t,n){function e(e,i){return r.coerce(t,n,a.link.colorscales,e,i)}e("label"),e("cmin"),e("cmax"),e("colorscale")}t.exports=function(t,n,e,h){function d(e,i){return r.coerce(t,n,a,e,i)}var y=r.extendDeep(h.hoverlabel,t.hoverlabel),g=t.node,p=c.newContainer(n,"node");function v(t,n){return r.coerce(g,p,a.node,t,n)}v("label"),v("groups"),v("x"),v("y"),v("pad"),v("thickness"),v("line.color"),v("line.width"),v("hoverinfo",t.hoverinfo),l(g,p,v,y),v("hovertemplate");var x=h.colorway;v("color",p.label.map((function(t,n){return i.addOpacity(function(t){return x[t%x.length]}(n),.8)}))),v("customdata");var m=t.link||{},k=c.newContainer(n,"link");function b(t,n){return r.coerce(m,k,a.link,t,n)}b("label"),b("source"),b("target"),b("value"),b("line.color"),b("line.width"),b("hoverinfo",t.hoverinfo),l(m,k,b,y),b("hovertemplate");var w,L=o(h.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";b("color",r.repeat(L,k.value.length)),b("customdata"),s(m,k,{name:"colorscales",handleItemDefaults:f}),u(n,h,d),d("orientation"),d("valueformat"),d("valuesuffix"),p.x.length&&p.y.length&&(w="freeform"),d("arrangement",w),r.coerceFont(d,"textfont",r.extendFlat({},h.font)),n._length=null}},1728:function(t,n,e){"use strict";var r=e(1647),a=e(3),i=e(750).wrap,o=a.isArrayOrTypedArray,u=a.isIndex,l=e(219);function c(t){var n,e=t.node,i=t.link,c=[],s=o(i.color),f=o(i.customdata),h={},d={},y=i.colorscales.length;for(n=0;n<y;n++){var g=i.colorscales[n],p=l.extractScale(g,{cLetter:"c"}),v=l.makeColorScaleFunc(p);d[g.label]=v}var x=0;for(n=0;n<i.value.length;n++)i.source[n]>x&&(x=i.source[n]),i.target[n]>x&&(x=i.target[n]);var m,k=x+1;t.node._count=k;var b=t.node.groups,w={};for(n=0;n<b.length;n++){var L=b[n];for(m=0;m<L.length;m++){var _=L[m],A=k+n;w.hasOwnProperty(_)?a.warn("Node "+_+" is already part of a group."):w[_]=A}}var E={source:[],target:[]};for(n=0;n<i.value.length;n++){var P=i.value[n],D=i.source[n],T=i.target[n];if(P>0&&u(D,k)&&u(T,k)&&(!w.hasOwnProperty(D)||!w.hasOwnProperty(T)||w[D]!==w[T])){w.hasOwnProperty(T)&&(T=w[T]),w.hasOwnProperty(D)&&(D=w[D]),T=+T,h[D=+D]=h[T]=!0;var N="";i.label&&i.label[n]&&(N=i.label[n]);var M=null;N&&d.hasOwnProperty(N)&&(M=d[N]),c.push({pointNumber:n,label:N,color:s?i.color[n]:i.color,customdata:f?i.customdata[n]:i.customdata,concentrationscale:M,source:D,target:T,value:+P}),E.source.push(D),E.target.push(T)}}var R=k+b.length,I=o(e.color),S=o(e.customdata),O=[];for(n=0;n<R;n++)if(h[n]){var F=e.label[n];O.push({group:n>k-1,childrenNodes:[],pointNumber:n,label:F,color:I?e.color[n]:e.color,customdata:S?e.customdata[n]:e.customdata})}var j=!1;return function(t,n,e){for(var i=a.init2dArray(t,0),o=0;o<Math.min(n.length,e.length);o++)if(a.isIndex(n[o],t)&&a.isIndex(e[o],t)){if(n[o]===e[o])return!0;i[n[o]].push(e[o])}return r(i).components.some((function(t){return t.length>1}))}(R,E.source,E.target)&&(j=!0),{circular:j,links:c,nodes:O,groups:b,groupLookup:w}}t.exports=function(t,n){var e=c(n);return i({circular:e.circular,_nodes:e.nodes,_links:e.links,_groups:e.groups,_groupLookup:e.groupLookup})}},1729:function(t,n,e){"use strict";var r=e(1649),a=e(24),i=e(61),o=e(52),u=e(81),l=e(1758),c=e(1730),s=e(1757),f=e(3),h=e(750),d=h.keyFun,y=h.repeat,g=h.unwrap,p=e(1756).interpolateNumber,v=e(15);function x(t,n,e){var a,o=g(n),u=o.trace,s=u.domain,h="h"===u.orientation,d=u.node.pad,y=u.node.thickness,p=t.width*(s.x[1]-s.x[0]),v=t.height*(s.y[1]-s.y[0]),x=o._nodes,m=o._links,k=o.circular;(a=k?c.sankeyCircular().circularLinkGap(0):l.sankey()).iterations(r.sankeyIterations).size(h?[p,v]:[v,p]).nodeWidth(y).nodePadding(d).nodeId((function(t){return t.pointNumber})).nodes(x).links(m);var b,w,L,_=a();for(var A in a.nodePadding()<d&&f.warn("node.pad was reduced to ",a.nodePadding()," to fit within the figure."),o._groupLookup){var E,P=parseInt(o._groupLookup[A]);for(b=0;b<_.nodes.length;b++)if(_.nodes[b].pointNumber===P){E=_.nodes[b];break}if(E){var D={pointNumber:parseInt(A),x0:E.x0,x1:E.x1,y0:E.y0,y1:E.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};_.nodes.unshift(D),E.childrenNodes.unshift(D)}}if(function(){for(b=0;b<_.nodes.length;b++){var t,n,e=_.nodes[b],r={};for(w=0;w<e.targetLinks.length;w++)t=(n=e.targetLinks[w]).source.pointNumber+":"+n.target.pointNumber,r.hasOwnProperty(t)||(r[t]=[]),r[t].push(n);var a=Object.keys(r);for(w=0;w<a.length;w++){var o=r[t=a[w]],u=0,l={};for(L=0;L<o.length;L++)l[(n=o[L]).label]||(l[n.label]=0),l[n.label]+=n.value,u+=n.value;for(L=0;L<o.length;L++)(n=o[L]).flow={value:u,labelConcentration:l[n.label]/u,concentration:n.value/u,links:o},n.concentrationscale&&(n.color=i(n.concentrationscale(n.flow.labelConcentration)))}var c=0;for(w=0;w<e.sourceLinks.length;w++)c+=e.sourceLinks[w].value;for(w=0;w<e.sourceLinks.length;w++)(n=e.sourceLinks[w]).concentrationOut=n.value/c;var s=0;for(w=0;w<e.targetLinks.length;w++)s+=e.targetLinks[w].value;for(w=0;w<e.targetLinks.length;w++)(n=e.targetLinks[w]).concenrationIn=n.value/s}}(),u.node.x.length&&u.node.y.length){for(b=0;b<Math.min(u.node.x.length,u.node.y.length,_.nodes.length);b++)if(u.node.x[b]&&u.node.y[b]){var T=[u.node.x[b]*p,u.node.y[b]*v];_.nodes[b].x0=T[0]-y/2,_.nodes[b].x1=T[0]+y/2;var N=_.nodes[b].y1-_.nodes[b].y0;_.nodes[b].y0=T[1]-N/2,_.nodes[b].y1=T[1]+N/2}if("snap"===u.arrangement)!function(t){t.forEach((function(t){var n,e,r,a=0,i=t.length;for(t.sort((function(t,n){return t.y0-n.y0})),r=0;r<i;++r)(n=t[r]).y0>=a||(e=a-n.y0)>1e-6&&(n.y0+=e,n.y1+=e),a=n.y1+d}))}(function(t){var n,e,r=t.map((function(t,n){return{x0:t.x0,index:n}})).sort((function(t,n){return t.x0-n.x0})),a=[],i=-1,o=-1/0;for(b=0;b<r.length;b++){var u=t[r[b].index];u.x0>o+y&&(i+=1,n=u.x0),o=u.x0,a[i]||(a[i]=[]),a[i].push(u),e=n-u.x0,u.x0+=e,u.x1+=e}return a}(x=_.nodes));a.update(_)}return{circular:k,key:e,trace:u,guid:f.randstr(),horizontal:h,width:p,height:v,nodePad:u.node.pad,nodeLineColor:u.node.line.color,nodeLineWidth:u.node.line.width,linkLineColor:u.link.line.color,linkLineWidth:u.link.line.width,valueFormat:u.valueformat,valueSuffix:u.valuesuffix,textFont:u.textfont,translateX:s.x[0]*t.width+t.margin.l,translateY:t.height-s.y[1]*t.height+t.margin.t,dragParallel:h?v:p,dragPerpendicular:h?p:v,arrangement:u.arrangement,sankey:a,graph:_,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function m(t,n,e){var r=i(n.color),a=n.source.label+"|"+n.target.label+"__"+e;return n.trace=t.trace,n.curveNumber=t.trace.index,{circular:t.circular,key:a,traceId:t.key,pointNumber:n.pointNumber,link:n,tinyColorHue:o.tinyRGB(r),tinyColorAlpha:r.getAlpha(),linkPath:k,linkLineColor:t.linkLineColor,linkLineWidth:t.linkLineWidth,valueFormat:t.valueFormat,valueSuffix:t.valueSuffix,sankey:t.sankey,parent:t,interactionState:t.interactionState,flow:n.flow}}function k(){return function(t){if(t.link.circular)return n=t.link,e=n.width/2,r=n.circularPathData,"top"===n.circularLinkType?"M "+r.targetX+" "+(r.targetY+e)+" L"+r.rightInnerExtent+" "+(r.targetY+e)+"A"+(r.rightLargeArcRadius+e)+" "+(r.rightSmallArcRadius+e)+" 0 0 1 "+(r.rightFullExtent-e)+" "+(r.targetY-r.rightSmallArcRadius)+"L"+(r.rightFullExtent-e)+" "+r.verticalRightInnerExtent+"A"+(r.rightLargeArcRadius+e)+" "+(r.rightLargeArcRadius+e)+" 0 0 1 "+r.rightInnerExtent+" "+(r.verticalFullExtent-e)+"L"+r.leftInnerExtent+" "+(r.verticalFullExtent-e)+"A"+(r.leftLargeArcRadius+e)+" "+(r.leftLargeArcRadius+e)+" 0 0 1 "+(r.leftFullExtent+e)+" "+r.verticalLeftInnerExtent+"L"+(r.leftFullExtent+e)+" "+(r.sourceY-r.leftSmallArcRadius)+"A"+(r.leftLargeArcRadius+e)+" "+(r.leftSmallArcRadius+e)+" 0 0 1 "+r.leftInnerExtent+" "+(r.sourceY+e)+"L"+r.sourceX+" "+(r.sourceY+e)+"L"+r.sourceX+" "+(r.sourceY-e)+"L"+r.leftInnerExtent+" "+(r.sourceY-e)+"A"+(r.leftLargeArcRadius-e)+" "+(r.leftSmallArcRadius-e)+" 0 0 0 "+(r.leftFullExtent-e)+" "+(r.sourceY-r.leftSmallArcRadius)+"L"+(r.leftFullExtent-e)+" "+r.verticalLeftInnerExtent+"A"+(r.leftLargeArcRadius-e)+" "+(r.leftLargeArcRadius-e)+" 0 0 0 "+r.leftInnerExtent+" "+(r.verticalFullExtent+e)+"L"+r.rightInnerExtent+" "+(r.verticalFullExtent+e)+"A"+(r.rightLargeArcRadius-e)+" "+(r.rightLargeArcRadius-e)+" 0 0 0 "+(r.rightFullExtent+e)+" "+r.verticalRightInnerExtent+"L"+(r.rightFullExtent+e)+" "+(r.targetY-r.rightSmallArcRadius)+"A"+(r.rightLargeArcRadius-e)+" "+(r.rightSmallArcRadius-e)+" 0 0 0 "+r.rightInnerExtent+" "+(r.targetY-e)+"L"+r.targetX+" "+(r.targetY-e)+"Z":"M "+r.targetX+" "+(r.targetY-e)+" L"+r.rightInnerExtent+" "+(r.targetY-e)+"A"+(r.rightLargeArcRadius+e)+" "+(r.rightSmallArcRadius+e)+" 0 0 0 "+(r.rightFullExtent-e)+" "+(r.targetY+r.rightSmallArcRadius)+"L"+(r.rightFullExtent-e)+" "+r.verticalRightInnerExtent+"A"+(r.rightLargeArcRadius+e)+" "+(r.rightLargeArcRadius+e)+" 0 0 0 "+r.rightInnerExtent+" "+(r.verticalFullExtent+e)+"L"+r.leftInnerExtent+" "+(r.verticalFullExtent+e)+"A"+(r.leftLargeArcRadius+e)+" "+(r.leftLargeArcRadius+e)+" 0 0 0 "+(r.leftFullExtent+e)+" "+r.verticalLeftInnerExtent+"L"+(r.leftFullExtent+e)+" "+(r.sourceY+r.leftSmallArcRadius)+"A"+(r.leftLargeArcRadius+e)+" "+(r.leftSmallArcRadius+e)+" 0 0 0 "+r.leftInnerExtent+" "+(r.sourceY-e)+"L"+r.sourceX+" "+(r.sourceY-e)+"L"+r.sourceX+" "+(r.sourceY+e)+"L"+r.leftInnerExtent+" "+(r.sourceY+e)+"A"+(r.leftLargeArcRadius-e)+" "+(r.leftSmallArcRadius-e)+" 0 0 1 "+(r.leftFullExtent-e)+" "+(r.sourceY+r.leftSmallArcRadius)+"L"+(r.leftFullExtent-e)+" "+r.verticalLeftInnerExtent+"A"+(r.leftLargeArcRadius-e)+" "+(r.leftLargeArcRadius-e)+" 0 0 1 "+r.leftInnerExtent+" "+(r.verticalFullExtent-e)+"L"+r.rightInnerExtent+" "+(r.verticalFullExtent-e)+"A"+(r.rightLargeArcRadius-e)+" "+(r.rightLargeArcRadius-e)+" 0 0 1 "+(r.rightFullExtent+e)+" "+r.verticalRightInnerExtent+"L"+(r.rightFullExtent+e)+" "+(r.targetY+r.rightSmallArcRadius)+"A"+(r.rightLargeArcRadius-e)+" "+(r.rightSmallArcRadius-e)+" 0 0 1 "+r.rightInnerExtent+" "+(r.targetY+e)+"L"+r.targetX+" "+(r.targetY+e)+"Z";var n,e,r,a=t.link.source.x1,i=t.link.target.x0,o=p(a,i),u=o(.5),l=o(.5),c=t.link.y0-t.link.width/2,s=t.link.y0+t.link.width/2,f=t.link.y1-t.link.width/2,h=t.link.y1+t.link.width/2;return"M"+a+","+c+"C"+u+","+c+" "+l+","+f+" "+i+","+f+"L"+i+","+h+"C"+l+","+h+" "+u+","+s+" "+a+","+s+"Z"}}function b(t,n){var e=i(n.color),a=r.nodePadAcross,u=t.nodePad/2;n.dx=n.x1-n.x0,n.dy=n.y1-n.y0;var l=n.dx,c=Math.max(.5,n.dy),s="node_"+n.pointNumber;return n.group&&(s=f.randstr()),n.trace=t.trace,n.curveNumber=t.trace.index,{index:n.pointNumber,key:s,partOfGroup:n.partOfGroup||!1,group:n.group,traceId:t.key,trace:t.trace,node:n,nodePad:t.nodePad,nodeLineColor:t.nodeLineColor,nodeLineWidth:t.nodeLineWidth,textFont:t.textFont,size:t.horizontal?t.height:t.width,visibleWidth:Math.ceil(l),visibleHeight:c,zoneX:-a,zoneY:-u,zoneWidth:l+2*a,zoneHeight:c+2*u,labelY:t.horizontal?n.dy/2+1:n.dx/2+1,left:1===n.originalLayer,sizeAcross:t.width,forceLayouts:t.forceLayouts,horizontal:t.horizontal,darkBackground:e.getBrightness()<=128,tinyColorHue:o.tinyRGB(e),tinyColorAlpha:e.getAlpha(),valueFormat:t.valueFormat,valueSuffix:t.valueSuffix,sankey:t.sankey,graph:t.graph,arrangement:t.arrangement,uniqueNodeLabelPathId:[t.guid,t.key,s].join("_"),interactionState:t.interactionState,figure:t}}function w(t){t.attr("transform",(function(t){return"translate("+t.node.x0.toFixed(3)+", "+t.node.y0.toFixed(3)+")"}))}function L(t){t.call(w)}function _(t,n){t.call(L),n.attr("d",k())}function A(t){t.attr("width",(function(t){return t.node.x1-t.node.x0})).attr("height",(function(t){return t.visibleHeight}))}function E(t){return t.link.width>1||t.linkLineWidth>0}function P(t){return"translate("+t.translateX+","+t.translateY+")"+(t.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function D(t){return"translate("+(t.horizontal?0:t.labelY)+" "+(t.horizontal?t.labelY:0)+")"}function T(t){return a.svg.line()([[t.horizontal?t.left?-t.sizeAcross:t.visibleWidth+r.nodeTextOffsetHorizontal:r.nodeTextOffsetHorizontal,0],[t.horizontal?t.left?-r.nodeTextOffsetHorizontal:t.sizeAcross:t.visibleHeight-r.nodeTextOffsetHorizontal,0]])}function N(t){return t.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)"}function M(t){return t.horizontal?"scale(1 1)":"scale(-1 1)"}function R(t){return t.darkBackground&&!t.horizontal?"rgb(255,255,255)":"rgb(0,0,0)"}function I(t){return t.horizontal&&t.left?"100%":"0%"}function S(t,n,e){t.on(".basic",null).on("mouseover.basic",(function(t){t.interactionState.dragInProgress||t.partOfGroup||(e.hover(this,t,n),t.interactionState.hovered=[this,t])})).on("mousemove.basic",(function(t){t.interactionState.dragInProgress||t.partOfGroup||(e.follow(this,t),t.interactionState.hovered=[this,t])})).on("mouseout.basic",(function(t){t.interactionState.dragInProgress||t.partOfGroup||(e.unhover(this,t,n),t.interactionState.hovered=!1)})).on("click.basic",(function(t){t.interactionState.hovered&&(e.unhover(this,t,n),t.interactionState.hovered=!1),t.interactionState.dragInProgress||t.partOfGroup||e.select(this,t,n)}))}function O(t,n,e,i){var o=a.behavior.drag().origin((function(t){return{x:t.node.x0+t.visibleWidth/2,y:t.node.y0+t.visibleHeight/2}})).on("dragstart",(function(a){if("fixed"!==a.arrangement&&(f.ensureSingle(i._fullLayout._infolayer,"g","dragcover",(function(t){i._fullLayout._dragCover=t})),f.raiseToTop(this),a.interactionState.dragInProgress=a.node,j(a.node),a.interactionState.hovered&&(e.nodeEvents.unhover.apply(0,a.interactionState.hovered),a.interactionState.hovered=!1),"snap"===a.arrangement)){var o=a.traceId+"|"+a.key;a.forceLayouts[o]?a.forceLayouts[o].alpha(1):function(t,n,e,a){!function(t){for(var n=0;n<t.length;n++)t[n].y=(t[n].y0+t[n].y1)/2,t[n].x=(t[n].x0+t[n].x1)/2}(e.graph.nodes);var i=e.graph.nodes.filter((function(t){return t.originalX===e.node.originalX})).filter((function(t){return!t.partOfGroup}));e.forceLayouts[n]=s.forceSimulation(i).alphaDecay(0).force("collide",s.forceCollide().radius((function(t){return t.dy/2+e.nodePad/2})).strength(1).iterations(r.forceIterations)).force("constrain",function(t,n,e,a){return function(){for(var t=0,i=0;i<e.length;i++){var o=e[i];o===a.interactionState.dragInProgress?(o.x=o.lastDraggedX,o.y=o.lastDraggedY):(o.vx=(o.originalX-o.x)/r.forceTicksPerFrame,o.y=Math.min(a.size-o.dy/2,Math.max(o.dy/2,o.y))),t=Math.max(t,Math.abs(o.vx),Math.abs(o.vy))}!a.interactionState.dragInProgress&&t<.1&&a.forceLayouts[n].alpha()>0&&a.forceLayouts[n].alpha(0)}}(0,n,i,e)).stop()}(0,o,a),function(t,n,e,a,i){window.requestAnimationFrame((function o(){var u;for(u=0;u<r.forceTicksPerFrame;u++)e.forceLayouts[a].tick();if(function(t){for(var n=0;n<t.length;n++)t[n].y0=t[n].y-t[n].dy/2,t[n].y1=t[n].y0+t[n].dy,t[n].x0=t[n].x-t[n].dx/2,t[n].x1=t[n].x0+t[n].dx}(e.graph.nodes),e.sankey.update(e.graph),_(t.filter(C(e)),n),e.forceLayouts[a].alpha()>0)window.requestAnimationFrame(o);else{var l=e.node.originalX;e.node.x0=l-e.visibleWidth/2,e.node.x1=l+e.visibleWidth/2,F(e,i)}}))}(t,n,a,o,i)}})).on("drag",(function(e){if("fixed"!==e.arrangement){var r=a.event.x,i=a.event.y;"snap"===e.arrangement?(e.node.x0=r-e.visibleWidth/2,e.node.x1=r+e.visibleWidth/2,e.node.y0=i-e.visibleHeight/2,e.node.y1=i+e.visibleHeight/2):("freeform"===e.arrangement&&(e.node.x0=r-e.visibleWidth/2,e.node.x1=r+e.visibleWidth/2),i=Math.max(0,Math.min(e.size-e.visibleHeight/2,i)),e.node.y0=i-e.visibleHeight/2,e.node.y1=i+e.visibleHeight/2),j(e.node),"snap"!==e.arrangement&&(e.sankey.update(e.graph),_(t.filter(C(e)),n))}})).on("dragend",(function(t){if("fixed"!==t.arrangement){t.interactionState.dragInProgress=!1;for(var n=0;n<t.node.childrenNodes.length;n++)t.node.childrenNodes[n].x=t.node.x,t.node.childrenNodes[n].y=t.node.y;"snap"!==t.arrangement&&F(t,i)}}));t.on(".drag",null).call(o)}function F(t,n){for(var e=[],r=[],a=0;a<t.graph.nodes.length;a++){var i=(t.graph.nodes[a].x0+t.graph.nodes[a].x1)/2,o=(t.graph.nodes[a].y0+t.graph.nodes[a].y1)/2;e.push(i/t.figure.width),r.push(o/t.figure.height)}v.call("_guiRestyle",n,{"node.x":[e],"node.y":[r]},t.trace.index).then((function(){n._fullLayout._dragCover&&n._fullLayout._dragCover.remove()}))}function j(t){t.lastDraggedX=t.x0+t.dx/2,t.lastDraggedY=t.y0+t.dy/2}function C(t){return function(n){return n.node.originalX===t.node.originalX}}t.exports=function(t,n,e,l,c){var s=!1;f.ensureSingle(t._fullLayout._infolayer,"g","first-render",(function(){s=!0}));var h=t._fullLayout._dragCover,p=e.filter((function(t){return g(t).trace.visible})).map(x.bind(null,l)),v=n.selectAll("."+r.cn.sankey).data(p,d);v.exit().remove(),v.enter().append("g").classed(r.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events","auto").attr("transform",P),v.each((function(n,e){t._fullData[e]._sankey=n;var r="bgsankey-"+n.trace.uid+"-"+e;f.ensureSingle(t._fullLayout._draggers,"rect",r),t._fullData[e]._bgRect=a.select("."+r),t._fullData[e]._bgRect.style("pointer-events","all").attr("width",n.width).attr("height",n.height).attr("x",n.translateX).attr("y",n.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})})),v.transition().ease(r.ease).duration(r.duration).attr("transform",P);var L=v.selectAll("."+r.cn.sankeyLinks).data(y,d);L.enter().append("g").classed(r.cn.sankeyLinks,!0).style("fill","none");var _=L.selectAll("."+r.cn.sankeyLink).data((function(t){return t.graph.links.filter((function(t){return t.value})).map(m.bind(null,t))}),d);_.enter().append("path").classed(r.cn.sankeyLink,!0).call(S,v,c.linkEvents),_.style("stroke",(function(t){return E(t)?o.tinyRGB(i(t.linkLineColor)):t.tinyColorHue})).style("stroke-opacity",(function(t){return E(t)?o.opacity(t.linkLineColor):t.tinyColorAlpha})).style("fill",(function(t){return t.tinyColorHue})).style("fill-opacity",(function(t){return t.tinyColorAlpha})).style("stroke-width",(function(t){return E(t)?t.linkLineWidth:1})).attr("d",k()),_.style("opacity",(function(){return t._context.staticPlot||s||h?1:0})).transition().ease(r.ease).duration(r.duration).style("opacity",1),_.exit().transition().ease(r.ease).duration(r.duration).style("opacity",0).remove();var F=v.selectAll("."+r.cn.sankeyNodeSet).data(y,d);F.enter().append("g").classed(r.cn.sankeyNodeSet,!0),F.style("cursor",(function(t){switch(t.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}}));var j=F.selectAll("."+r.cn.sankeyNode).data((function(t){var n=t.graph.nodes;return function(t){var n,e=[];for(n=0;n<t.length;n++)t[n].originalX=(t[n].x0+t[n].x1)/2,t[n].originalY=(t[n].y0+t[n].y1)/2,-1===e.indexOf(t[n].originalX)&&e.push(t[n].originalX);for(e.sort((function(t,n){return t-n})),n=0;n<t.length;n++)t[n].originalLayerIndex=e.indexOf(t[n].originalX),t[n].originalLayer=t[n].originalLayerIndex/(e.length-1)}(n),n.map(b.bind(null,t))}),d);j.enter().append("g").classed(r.cn.sankeyNode,!0).call(w).style("opacity",(function(n){return!t._context.staticPlot&&!s||n.partOfGroup?0:1})),j.call(S,v,c.nodeEvents).call(O,_,c,t),j.transition().ease(r.ease).duration(r.duration).call(w).style("opacity",(function(t){return t.partOfGroup?0:1})),j.exit().transition().ease(r.ease).duration(r.duration).style("opacity",0).remove();var C=j.selectAll("."+r.cn.nodeRect).data(y);C.enter().append("rect").classed(r.cn.nodeRect,!0).call(A),C.style("stroke-width",(function(t){return t.nodeLineWidth})).style("stroke",(function(t){return o.tinyRGB(i(t.nodeLineColor))})).style("stroke-opacity",(function(t){return o.opacity(t.nodeLineColor)})).style("fill",(function(t){return t.tinyColorHue})).style("fill-opacity",(function(t){return t.tinyColorAlpha})),C.transition().ease(r.ease).duration(r.duration).call(A);var z=j.selectAll("."+r.cn.nodeCapture).data(y);z.enter().append("rect").classed(r.cn.nodeCapture,!0).style("fill-opacity",0),z.attr("x",(function(t){return t.zoneX})).attr("y",(function(t){return t.zoneY})).attr("width",(function(t){return t.zoneWidth})).attr("height",(function(t){return t.zoneHeight}));var Y=j.selectAll("."+r.cn.nodeCentered).data(y);Y.enter().append("g").classed(r.cn.nodeCentered,!0).attr("transform",D),Y.transition().ease(r.ease).duration(r.duration).attr("transform",D);var X=Y.selectAll("."+r.cn.nodeLabelGuide).data(y);X.enter().append("path").classed(r.cn.nodeLabelGuide,!0).attr("id",(function(t){return t.uniqueNodeLabelPathId})).attr("d",T).attr("transform",N),X.transition().ease(r.ease).duration(r.duration).attr("d",T).attr("transform",N);var q=Y.selectAll("."+r.cn.nodeLabel).data(y);q.enter().append("text").classed(r.cn.nodeLabel,!0).attr("transform",M).style("user-select","none").style("cursor","default").style("fill","black"),q.style("text-shadow",(function(t){return t.horizontal?"-1px 1px 1px #fff, 1px 1px 1px #fff, 1px -1px 1px #fff, -1px -1px 1px #fff":"none"})).each((function(t){u.font(q,t.textFont)})),q.transition().ease(r.ease).duration(r.duration).attr("transform",M);var H=q.selectAll("."+r.cn.nodeLabelTextPath).data(y);H.enter().append("textPath").classed(r.cn.nodeLabelTextPath,!0).attr("alignment-baseline","middle").attr("xlink:href",(function(t){return"#"+t.uniqueNodeLabelPathId})).attr("startOffset",I).style("fill",R),H.text((function(t){return t.horizontal||t.node.dy>5?t.node.label:""})).attr("text-anchor",(function(t){return t.horizontal&&t.left?"end":"start"})),H.transition().ease(r.ease).duration(r.duration).attr("startOffset",I).style("fill",R)}},1730:function(t,n,e){"use strict";e.r(n),e.d(n,"sankeyCircular",(function(){return P})),e.d(n,"sankeyCenter",(function(){return h})),e.d(n,"sankeyLeft",(function(){return c})),e.d(n,"sankeyRight",(function(){return s})),e.d(n,"sankeyJustify",(function(){return f}));var r=e(1322),a=e(1212),i=e(1787),o=e(1731),u=e.n(o);function l(t){return t.target.depth}function c(t){return t.depth}function s(t,n){return n-1-t.height}function f(t,n){return t.sourceLinks.length?t.depth:n-1}function h(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Object(r.d)(t.sourceLinks,l)-1:0}function d(t){return function(){return t}}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function g(t,n){return v(t.source,n.source)||t.index-n.index}function p(t,n){return v(t.target,n.target)||t.index-n.index}function v(t,n){return t.partOfCycle===n.partOfCycle?t.y0-n.y0:"top"===t.circularLinkType||"bottom"===n.circularLinkType?-1:1}function x(t){return t.value}function m(t){return(t.y0+t.y1)/2}function k(t){return m(t.source)}function b(t){return m(t.target)}function w(t){return t.index}function L(t){return t.nodes}function _(t){return t.links}function A(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}function E(t,n){return n(t)}function P(){var t,n,e=0,i=0,o=1,u=1,l=24,c=w,s=f,h=L,E=_,P=32,N=2,R=null;function I(){var t={nodes:h.apply(null,arguments),links:E.apply(null,arguments)};O(t),D(t,c,R),F(t),j(t),T(t,c),C(t,P,c),z(t);for(var n=4,e=0;e<n;e++)$(t,u,c),V(t,u,c),B(t,i,u,c),$(t,u,c),V(t,u,c);return Q(t,i,u),S(t,N,u,c),t}function O(t){t.nodes.forEach((function(t,n){t.index=n,t.sourceLinks=[],t.targetLinks=[]}));var n=Object(a.a)(t.nodes,c);return t.links.forEach((function(t,e){t.index=e;var r=t.source,a=t.target;"object"!==(void 0===r?"undefined":y(r))&&(r=t.source=A(n,r)),"object"!==(void 0===a?"undefined":y(a))&&(a=t.target=A(n,a)),r.sourceLinks.push(t),a.targetLinks.push(t)})),t}function F(t){t.nodes.forEach((function(t){t.partOfCycle=!1,t.value=Math.max(Object(r.e)(t.sourceLinks,x),Object(r.e)(t.targetLinks,x)),t.sourceLinks.forEach((function(n){n.circular&&(t.partOfCycle=!0,t.circularLinkType=n.circularLinkType)})),t.targetLinks.forEach((function(n){n.circular&&(t.partOfCycle=!0,t.circularLinkType=n.circularLinkType)}))}))}function j(t){var n,e,r;for(n=t.nodes,e=[],r=0;n.length;++r,n=e,e=[])n.forEach((function(t){t.depth=r,t.sourceLinks.forEach((function(t){e.indexOf(t.target)<0&&!t.circular&&e.push(t.target)}))}));for(n=t.nodes,e=[],r=0;n.length;++r,n=e,e=[])n.forEach((function(t){t.height=r,t.targetLinks.forEach((function(t){e.indexOf(t.source)<0&&!t.circular&&e.push(t.source)}))}));t.nodes.forEach((function(t){t.column=Math.floor(s.call(null,t,r))}))}function C(c,s,f){var h=Object(a.b)().key((function(t){return t.column})).sortKeys(r.a).entries(c.nodes).map((function(t){return t.values}));!function(a){if(n){var s=1/0;h.forEach((function(t){var e=u*n/(t.length+1);s=e<s?e:s})),t=s}var f=Object(r.d)(h,(function(n){return(u-i-(n.length-1)*t)/Object(r.e)(n,x)}));f*=.3,c.links.forEach((function(t){t.width=t.value*f}));var d=function(t){var n=0,e=0,a=0,i=0,o=Object(r.b)(t.nodes,(function(t){return t.column}));return t.links.forEach((function(t){t.circular&&("top"==t.circularLinkType?n+=t.width:e+=t.width,0==t.target.column&&(i+=t.width),t.source.column==o&&(a+=t.width))})),{top:n=n>0?n+25+10:n,bottom:e=e>0?e+25+10:e,left:i=i>0?i+25+10:i,right:a=a>0?a+25+10:a}}(c),y=function(t,n){var a=Object(r.b)(t.nodes,(function(t){return t.column})),c=o-e,s=u-i,f=c/(c+n.right+n.left),h=s/(s+n.top+n.bottom);return e=e*f+n.left,o=0==n.right?o:o*f,i=i*h+n.top,u*=h,t.nodes.forEach((function(t){t.x0=e+t.column*((o-e-l)/a),t.x1=t.x0+l})),h}(c,d);f*=y,c.links.forEach((function(t){t.width=t.value*f})),h.forEach((function(t){var n=t.length;t.forEach((function(t,e){t.depth==h.length-1&&1==n||0==t.depth&&1==n?(t.y0=u/2-t.value*f,t.y1=t.y0+t.value*f):t.partOfCycle?0==M(t,a)?(t.y0=u/2+e,t.y1=t.y0+t.value*f):"top"==t.circularLinkType?(t.y0=i+e,t.y1=t.y0+t.value*f):(t.y0=u-t.value*f-e,t.y1=t.y0+t.value*f):0==d.top||0==d.bottom?(t.y0=(u-i)/n*e,t.y1=t.y0+t.value*f):(t.y0=(u-i)/2-n/2+e,t.y1=t.y0+t.value*f)}))}))}(f),p();for(var d=1,y=s;y>0;--y)g(d*=.99,f),p();function g(t,n){var e=h.length;h.forEach((function(a){var i=a.length,o=a[0].depth;a.forEach((function(a){var l;if(a.sourceLinks.length||a.targetLinks.length)if(a.partOfCycle&&M(a,n)>0);else if(0==o&&1==i)l=a.y1-a.y0,a.y0=u/2-l/2,a.y1=u/2+l/2;else if(o==e-1&&1==i)l=a.y1-a.y0,a.y0=u/2-l/2,a.y1=u/2+l/2;else{var c=Object(r.c)(a.sourceLinks,b),s=Object(r.c)(a.targetLinks,k),f=((c&&s?(c+s)/2:c||s)-m(a))*t;a.y0+=f,a.y1+=f}}))}))}function p(){h.forEach((function(n){var e,r,a,o=i,l=n.length;for(n.sort(v),a=0;a<l;++a)(r=o-(e=n[a]).y0)>0&&(e.y0+=r,e.y1+=r),o=e.y1+t;if((r=o-t-u)>0)for(o=e.y0-=r,e.y1-=r,a=l-2;a>=0;--a)(r=(e=n[a]).y1+t-o)>0&&(e.y0-=r,e.y1-=r),o=e.y0}))}}function z(t){t.nodes.forEach((function(t){t.sourceLinks.sort(p),t.targetLinks.sort(g)})),t.nodes.forEach((function(t){var n=t.y0,e=n,r=t.y1,a=r;t.sourceLinks.forEach((function(t){t.circular?(t.y0=r-t.width/2,r-=t.width):(t.y0=n+t.width/2,n+=t.width)})),t.targetLinks.forEach((function(t){t.circular?(t.y1=a-t.width/2,a-=t.width):(t.y1=e+t.width/2,e+=t.width)}))}))}return I.nodeId=function(t){return arguments.length?(c="function"==typeof t?t:d(t),I):c},I.nodeAlign=function(t){return arguments.length?(s="function"==typeof t?t:d(t),I):s},I.nodeWidth=function(t){return arguments.length?(l=+t,I):l},I.nodePadding=function(n){return arguments.length?(t=+n,I):t},I.nodes=function(t){return arguments.length?(h="function"==typeof t?t:d(t),I):h},I.links=function(t){return arguments.length?(E="function"==typeof t?t:d(t),I):E},I.size=function(t){return arguments.length?(e=i=0,o=+t[0],u=+t[1],I):[o-e,u-i]},I.extent=function(t){return arguments.length?(e=+t[0][0],o=+t[1][0],i=+t[0][1],u=+t[1][1],I):[[e,i],[o,u]]},I.iterations=function(t){return arguments.length?(P=+t,I):P},I.circularLinkGap=function(t){return arguments.length?(N=+t,I):N},I.nodePaddingRatio=function(t){return arguments.length?(n=+t,I):n},I.sortNodes=function(t){return arguments.length?(R=t,I):R},I.update=function(t){return T(t,c),z(t),t.links.forEach((function(t){t.circular&&(t.circularLinkType=t.y0+t.y1<u?"top":"bottom",t.source.circularLinkType=t.circularLinkType,t.target.circularLinkType=t.circularLinkType)})),$(t,u,c,!1),V(t,u,c),S(t,N,u,c),t},I}function D(t,n,e){var r=0;if(null===e){for(var a=[],i=0;i<t.links.length;i++){var o=t.links[i],l=o.source.index,c=o.target.index;a[l]||(a[l]=[]),a[c]||(a[c]=[]),-1===a[l].indexOf(c)&&a[l].push(c)}var s=u()(a);s.sort((function(t,n){return t.length-n.length}));var f={};for(i=0;i<s.length;i++){var h=s[i].slice(-2);f[h[0]]||(f[h[0]]={}),f[h[0]][h[1]]=!0}t.links.forEach((function(t){var n=t.target.index,e=t.source.index;n===e||f[e]&&f[e][n]?(t.circular=!0,t.circularLinkID=r,r+=1):t.circular=!1}))}else t.links.forEach((function(t){t.source[e]<t.target[e]?t.circular=!1:(t.circular=!0,t.circularLinkID=r,r+=1)}))}function T(t,n){var e=0,r=0;t.links.forEach((function(a){a.circular&&(a.source.circularLinkType||a.target.circularLinkType?a.circularLinkType=a.source.circularLinkType?a.source.circularLinkType:a.target.circularLinkType:a.circularLinkType=e<r?"top":"bottom","top"==a.circularLinkType?e+=1:r+=1,t.nodes.forEach((function(t){E(t,n)!=E(a.source,n)&&E(t,n)!=E(a.target,n)||(t.circularLinkType=a.circularLinkType)})))})),t.links.forEach((function(t){t.circular&&(t.source.circularLinkType==t.target.circularLinkType&&(t.circularLinkType=t.source.circularLinkType),K(t,n)&&(t.circularLinkType=t.source.circularLinkType))}))}function N(t){var n=Math.abs(t.y1-t.y0),e=Math.abs(t.target.x0-t.source.x1);return Math.atan(e/n)}function M(t,n){var e=0;t.sourceLinks.forEach((function(t){e=t.circular&&!K(t,n)?e+1:e}));var r=0;return t.targetLinks.forEach((function(t){r=t.circular&&!K(t,n)?r+1:r})),e+r}function R(t){var n=t.source.sourceLinks,e=0;n.forEach((function(t){e=t.circular?e+1:e}));var r=t.target.targetLinks,a=0;return r.forEach((function(t){a=t.circular?a+1:a})),!(e>1||a>1)}function I(t,n,e){return t.sort(O),t.forEach((function(r,a){var i,o,u=0;if(K(r,e)&&R(r))r.circularPathData.verticalBuffer=u+r.width/2;else{for(var l=0;l<a;l++)if(i=t[a],o=t[l],!(i.source.column<o.target.column||i.target.column>o.source.column)){var c=t[l].circularPathData.verticalBuffer+t[l].width/2+n;u=c>u?c:u}r.circularPathData.verticalBuffer=u+r.width/2}})),t}function S(t,n,e,a){var o=Object(r.d)(t.links,(function(t){return t.source.y0}));t.links.forEach((function(t){t.circular&&(t.circularPathData={})})),I(t.links.filter((function(t){return"top"==t.circularLinkType})),n,a),I(t.links.filter((function(t){return"bottom"==t.circularLinkType})),n,a),t.links.forEach((function(r){if(r.circular){if(r.circularPathData.arcRadius=r.width+10,r.circularPathData.leftNodeBuffer=5,r.circularPathData.rightNodeBuffer=5,r.circularPathData.sourceWidth=r.source.x1-r.source.x0,r.circularPathData.sourceX=r.source.x0+r.circularPathData.sourceWidth,r.circularPathData.targetX=r.target.x0,r.circularPathData.sourceY=r.y0,r.circularPathData.targetY=r.y1,K(r,a)&&R(r))r.circularPathData.leftSmallArcRadius=10+r.width/2,r.circularPathData.leftLargeArcRadius=10+r.width/2,r.circularPathData.rightSmallArcRadius=10+r.width/2,r.circularPathData.rightLargeArcRadius=10+r.width/2,"bottom"==r.circularLinkType?(r.circularPathData.verticalFullExtent=r.source.y1+25+r.circularPathData.verticalBuffer,r.circularPathData.verticalLeftInnerExtent=r.circularPathData.verticalFullExtent-r.circularPathData.leftLargeArcRadius,r.circularPathData.verticalRightInnerExtent=r.circularPathData.verticalFullExtent-r.circularPathData.rightLargeArcRadius):(r.circularPathData.verticalFullExtent=r.source.y0-25-r.circularPathData.verticalBuffer,r.circularPathData.verticalLeftInnerExtent=r.circularPathData.verticalFullExtent+r.circularPathData.leftLargeArcRadius,r.circularPathData.verticalRightInnerExtent=r.circularPathData.verticalFullExtent+r.circularPathData.rightLargeArcRadius);else{var u=r.source.column,l=r.circularLinkType,c=t.links.filter((function(t){return t.source.column==u&&t.circularLinkType==l}));"bottom"==r.circularLinkType?c.sort(j):c.sort(F);var s=0;c.forEach((function(t,e){t.circularLinkID==r.circularLinkID&&(r.circularPathData.leftSmallArcRadius=10+r.width/2+s,r.circularPathData.leftLargeArcRadius=10+r.width/2+e*n+s),s+=t.width})),u=r.target.column,c=t.links.filter((function(t){return t.target.column==u&&t.circularLinkType==l})),"bottom"==r.circularLinkType?c.sort(z):c.sort(C),s=0,c.forEach((function(t,e){t.circularLinkID==r.circularLinkID&&(r.circularPathData.rightSmallArcRadius=10+r.width/2+s,r.circularPathData.rightLargeArcRadius=10+r.width/2+e*n+s),s+=t.width})),"bottom"==r.circularLinkType?(r.circularPathData.verticalFullExtent=Math.max(e,r.source.y1,r.target.y1)+25+r.circularPathData.verticalBuffer,r.circularPathData.verticalLeftInnerExtent=r.circularPathData.verticalFullExtent-r.circularPathData.leftLargeArcRadius,r.circularPathData.verticalRightInnerExtent=r.circularPathData.verticalFullExtent-r.circularPathData.rightLargeArcRadius):(r.circularPathData.verticalFullExtent=o-25-r.circularPathData.verticalBuffer,r.circularPathData.verticalLeftInnerExtent=r.circularPathData.verticalFullExtent+r.circularPathData.leftLargeArcRadius,r.circularPathData.verticalRightInnerExtent=r.circularPathData.verticalFullExtent+r.circularPathData.rightLargeArcRadius)}r.circularPathData.leftInnerExtent=r.circularPathData.sourceX+r.circularPathData.leftNodeBuffer,r.circularPathData.rightInnerExtent=r.circularPathData.targetX-r.circularPathData.rightNodeBuffer,r.circularPathData.leftFullExtent=r.circularPathData.sourceX+r.circularPathData.leftLargeArcRadius+r.circularPathData.leftNodeBuffer,r.circularPathData.rightFullExtent=r.circularPathData.targetX-r.circularPathData.rightLargeArcRadius-r.circularPathData.rightNodeBuffer}if(r.circular)r.path=function(t){var n="";n="top"==t.circularLinkType?"M"+t.circularPathData.sourceX+" "+t.circularPathData.sourceY+" L"+t.circularPathData.leftInnerExtent+" "+t.circularPathData.sourceY+" A"+t.circularPathData.leftLargeArcRadius+" "+t.circularPathData.leftSmallArcRadius+" 0 0 0 "+t.circularPathData.leftFullExtent+" "+(t.circularPathData.sourceY-t.circularPathData.leftSmallArcRadius)+" L"+t.circularPathData.leftFullExtent+" "+t.circularPathData.verticalLeftInnerExtent+" A"+t.circularPathData.leftLargeArcRadius+" "+t.circularPathData.leftLargeArcRadius+" 0 0 0 "+t.circularPathData.leftInnerExtent+" "+t.circularPathData.verticalFullExtent+" L"+t.circularPathData.rightInnerExtent+" "+t.circularPathData.verticalFullExtent+" A"+t.circularPathData.rightLargeArcRadius+" "+t.circularPathData.rightLargeArcRadius+" 0 0 0 "+t.circularPathData.rightFullExtent+" "+t.circularPathData.verticalRightInnerExtent+" L"+t.circularPathData.rightFullExtent+" "+(t.circularPathData.targetY-t.circularPathData.rightSmallArcRadius)+" A"+t.circularPathData.rightLargeArcRadius+" "+t.circularPathData.rightSmallArcRadius+" 0 0 0 "+t.circularPathData.rightInnerExtent+" "+t.circularPathData.targetY+" L"+t.circularPathData.targetX+" "+t.circularPathData.targetY:"M"+t.circularPathData.sourceX+" "+t.circularPathData.sourceY+" L"+t.circularPathData.leftInnerExtent+" "+t.circularPathData.sourceY+" A"+t.circularPathData.leftLargeArcRadius+" "+t.circularPathData.leftSmallArcRadius+" 0 0 1 "+t.circularPathData.leftFullExtent+" "+(t.circularPathData.sourceY+t.circularPathData.leftSmallArcRadius)+" L"+t.circularPathData.leftFullExtent+" "+t.circularPathData.verticalLeftInnerExtent+" A"+t.circularPathData.leftLargeArcRadius+" "+t.circularPathData.leftLargeArcRadius+" 0 0 1 "+t.circularPathData.leftInnerExtent+" "+t.circularPathData.verticalFullExtent+" L"+t.circularPathData.rightInnerExtent+" "+t.circularPathData.verticalFullExtent+" A"+t.circularPathData.rightLargeArcRadius+" "+t.circularPathData.rightLargeArcRadius+" 0 0 1 "+t.circularPathData.rightFullExtent+" "+t.circularPathData.verticalRightInnerExtent+" L"+t.circularPathData.rightFullExtent+" "+(t.circularPathData.targetY+t.circularPathData.rightSmallArcRadius)+" A"+t.circularPathData.rightLargeArcRadius+" "+t.circularPathData.rightSmallArcRadius+" 0 0 1 "+t.circularPathData.rightInnerExtent+" "+t.circularPathData.targetY+" L"+t.circularPathData.targetX+" "+t.circularPathData.targetY;return n}(r);else{var f=Object(i.a)().source((function(t){return[t.source.x0+(t.source.x1-t.source.x0),t.y0]})).target((function(t){return[t.target.x0,t.y1]}));r.path=f(r)}}))}function O(t,n){return Y(t)==Y(n)?"bottom"==t.circularLinkType?j(t,n):F(t,n):Y(n)-Y(t)}function F(t,n){return t.y0-n.y0}function j(t,n){return n.y0-t.y0}function C(t,n){return t.y1-n.y1}function z(t,n){return n.y1-t.y1}function Y(t){return t.target.column-t.source.column}function X(t){return t.target.x0-t.source.x1}function q(t,n){var e=N(t),r=X(n)/Math.tan(e);return"up"==J(t)?t.y1+r:t.y1-r}function H(t,n){var e=N(t),r=X(n)/Math.tan(e);return"up"==J(t)?t.y1-r:t.y1+r}function B(t,n,e,r){t.links.forEach((function(a){if(!a.circular&&a.target.column-a.source.column>1){var i=a.source.column+1,o=a.target.column-1,u=1,l=o-i+1;for(u=1;i<=o;i++,u++)t.nodes.forEach((function(o){if(o.column==i){var c,s=u/(l+1),f=Math.pow(1-s,3),h=3*s*Math.pow(1-s,2),d=3*Math.pow(s,2)*(1-s),y=Math.pow(s,3),g=f*a.y0+h*a.y0+d*a.y1+y*a.y1,p=g-a.width/2,v=g+a.width/2;p>o.y0&&p<o.y1?(c=o.y1-p+10,c="bottom"==o.circularLinkType?c:-c,o=G(o,c,n,e),t.nodes.forEach((function(t){E(t,r)!=E(o,r)&&t.column==o.column&&W(o,t)&&G(t,c,n,e)}))):(v>o.y0&&v<o.y1||p<o.y0&&v>o.y1)&&(c=v-o.y0+10,o=G(o,c,n,e),t.nodes.forEach((function(t){E(t,r)!=E(o,r)&&t.column==o.column&&t.y0<o.y1&&t.y1>o.y1&&G(t,c,n,e)})))}}))}}))}function W(t,n){return t.y0>n.y0&&t.y0<n.y1||(t.y1>n.y0&&t.y1<n.y1||t.y0<n.y0&&t.y1>n.y1)}function G(t,n,e,r){return t.y0+n>=e&&t.y1+n<=r&&(t.y0=t.y0+n,t.y1=t.y1+n,t.targetLinks.forEach((function(t){t.y1=t.y1+n})),t.sourceLinks.forEach((function(t){t.y0=t.y0+n}))),t}function $(t,n,e,r){t.nodes.forEach((function(a){r&&a.y+(a.y1-a.y0)>n&&(a.y=a.y-(a.y+(a.y1-a.y0)-n));var i=t.links.filter((function(t){return E(t.source,e)==E(a,e)})),o=i.length;o>1&&i.sort((function(t,n){if(!t.circular&&!n.circular){if(t.target.column==n.target.column)return t.y1-n.y1;if(!Z(t,n))return t.y1-n.y1;if(t.target.column>n.target.column){var e=H(n,t);return t.y1-e}if(n.target.column>t.target.column)return H(t,n)-n.y1}return t.circular&&!n.circular?"top"==t.circularLinkType?-1:1:n.circular&&!t.circular?"top"==n.circularLinkType?1:-1:t.circular&&n.circular?t.circularLinkType===n.circularLinkType&&"top"==t.circularLinkType?t.target.column===n.target.column?t.target.y1-n.target.y1:n.target.column-t.target.column:t.circularLinkType===n.circularLinkType&&"bottom"==t.circularLinkType?t.target.column===n.target.column?n.target.y1-t.target.y1:t.target.column-n.target.column:"top"==t.circularLinkType?-1:1:void 0}));var u=a.y0;i.forEach((function(t){t.y0=u+t.width/2,u+=t.width})),i.forEach((function(t,n){if("bottom"==t.circularLinkType){for(var e=n+1,r=0;e<o;e++)r+=i[e].width;t.y0=a.y1-r-t.width/2}}))}))}function V(t,n,e){t.nodes.forEach((function(n){var r=t.links.filter((function(t){return E(t.target,e)==E(n,e)})),a=r.length;a>1&&r.sort((function(t,n){if(!t.circular&&!n.circular){if(t.source.column==n.source.column)return t.y0-n.y0;if(!Z(t,n))return t.y0-n.y0;if(n.source.column<t.source.column){var e=q(n,t);return t.y0-e}if(t.source.column<n.source.column)return q(t,n)-n.y0}return t.circular&&!n.circular?"top"==t.circularLinkType?-1:1:n.circular&&!t.circular?"top"==n.circularLinkType?1:-1:t.circular&&n.circular?t.circularLinkType===n.circularLinkType&&"top"==t.circularLinkType?t.source.column===n.source.column?t.source.y1-n.source.y1:t.source.column-n.source.column:t.circularLinkType===n.circularLinkType&&"bottom"==t.circularLinkType?t.source.column===n.source.column?t.source.y1-n.source.y1:n.source.column-t.source.column:"top"==t.circularLinkType?-1:1:void 0}));var i=n.y0;r.forEach((function(t){t.y1=i+t.width/2,i+=t.width})),r.forEach((function(t,e){if("bottom"==t.circularLinkType){for(var i=e+1,o=0;i<a;i++)o+=r[i].width;t.y1=n.y1-o-t.width/2}}))}))}function Z(t,n){return J(t)==J(n)}function J(t){return t.y0-t.y1>0?"up":"down"}function K(t,n){return E(t.source,n)==E(t.target,n)}function Q(t,n,e){var a=t.nodes,i=t.links,o=!1,u=!1;if(i.forEach((function(t){"top"==t.circularLinkType?o=!0:"bottom"==t.circularLinkType&&(u=!0)})),0==o||0==u){var l=Object(r.d)(a,(function(t){return t.y0})),c=(e-n)/(Object(r.b)(a,(function(t){return t.y1}))-l);a.forEach((function(t){var n=(t.y1-t.y0)*c;t.y0=(t.y0-l)*c,t.y1=t.y0+n})),i.forEach((function(t){t.y0=(t.y0-l)*c,t.y1=(t.y1-l)*c,t.width=t.width*c}))}}},1731:function(t,n,e){var r=e(1647);t.exports=function(t,n){var e,a=[],i=[],o=[],u={},l=[];function c(t){var n,r,a=!1;for(i.push(t),o[t]=!0,n=0;n<l[t].length;n++)(r=l[t][n])===e?(s(e,i),a=!0):o[r]||(a=c(r));if(a)!function t(n){o[n]=!1,u.hasOwnProperty(n)&&Object.keys(u[n]).forEach((function(e){delete u[n][e],o[e]&&t(e)}))}(t);else for(n=0;n<l[t].length;n++){r=l[t][n];var f=u[r];f||(f={},u[r]=f),f[r]=!0}return i.pop(),a}function s(t,e){var r=[].concat(e).concat(t);n?n(c):a.push(r)}function f(n){!function(n){for(var e=0;e<t.length;e++)e<n&&(t[e]=[]),t[e]=t[e].filter((function(t){return t>=n}))}(n);for(var e,a=r(t).components.filter((function(t){return t.length>1})),i=1/0,o=0;o<a.length;o++)for(var u=0;u<a[o].length;u++)a[o][u]<i&&(i=a[o][u],e=o);var l=a[e];return!!l&&{leastVertex:i,adjList:t.map((function(t,n){return-1===l.indexOf(n)?[]:t.filter((function(t){return-1!==l.indexOf(t)}))}))}}e=0;for(var h=t.length;e<h;){var d=f(e);if(e=d.leastVertex,l=d.adjList){for(var y=0;y<l.length;y++)for(var g=0;g<l[y].length;g++){var p=l[y][g];o[+p]=!1,u[p]={}}c(e),e+=1}else e=h}return n?void 0:a}},1732:function(t,n,e){"use strict";var r=e(111).overrideAll,a=e(222).getModuleCalcData,i=e(1648),o=e(240),u=e(223),l=e(158),c=e(664).prepSelect,s=e(3),f=e(15);function h(t,n){var e=t._fullData[n],r=t._fullLayout,a=r.dragmode,i="pan"===r.dragmode?"move":"crosshair",o=e._bgRect;if("pan"!==a&&"zoom"!==a){u(o,i);var h={_id:"x",c2p:s.identity,_offset:e._sankey.translateX,_length:e._sankey.width},d={_id:"y",c2p:s.identity,_offset:e._sankey.translateY,_length:e._sankey.height},y={gd:t,element:o.node(),plotinfo:{id:n,xaxis:h,yaxis:d,fillRangeItems:s.noop},subplot:n,xaxes:[h],yaxes:[d],doneFnCompleted:function(e){var r,a=t._fullData[n],i=a.node.groups.slice(),o=[];function u(t){for(var n=a._sankey.graph.nodes,e=0;e<n.length;e++)if(n[e].pointNumber===t)return n[e]}for(var l=0;l<e.length;l++){var c=u(e[l].pointNumber);if(c)if(c.group){for(var s=0;s<c.childrenNodes.length;s++)o.push(c.childrenNodes[s].pointNumber);i[c.pointNumber-a.node._count]=!1}else o.push(c.pointNumber)}r=i.filter(Boolean).concat([o]),f.call("_guiRestyle",t,{"node.groups":[r]},n)},prepFn:function(t,n,e){c(t,n,e,y,a)}};l.init(y)}}n.name="sankey",n.baseLayoutAttrOverrides=r({hoverlabel:o.hoverlabel},"plot","nested"),n.plot=function(t){var e=a(t.calcdata,"sankey")[0];i(t,e),n.updateFx(t)},n.clean=function(t,n,e,r){var a=r._has&&r._has("sankey"),i=n._has&&n._has("sankey");a&&!i&&(r._paperdiv.selectAll(".sankey").remove(),r._paperdiv.selectAll(".bgsankey").remove())},n.updateFx=function(t){for(var n=0;n<t._fullData.length;n++)h(t,n)}},1733:function(t,n,e){"use strict";t.exports=function(t,n){for(var e=[],r=t.cd[0].trace,a=r._sankey.graph.nodes,i=0;i<a.length;i++){var o=a[i];if(!o.partOfGroup){var u=[(o.x0+o.x1)/2,(o.y0+o.y1)/2];"v"===r.orientation&&u.reverse(),n&&n.contains(u,!1,i,t)&&e.push({pointNumber:o.pointNumber})}}return e}},1756:function(t,n,e){"use strict";e.r(n),e.d(n,"interpolate",(function(){return it})),e.d(n,"interpolateArray",(function(){return $})),e.d(n,"interpolateBasis",(function(){return S})),e.d(n,"interpolateBasisClosed",(function(){return O})),e.d(n,"interpolateDate",(function(){return Z})),e.d(n,"interpolateDiscrete",(function(){return ot})),e.d(n,"interpolateHue",(function(){return ut})),e.d(n,"interpolateNumber",(function(){return J})),e.d(n,"interpolateNumberArray",(function(){return W})),e.d(n,"interpolateObject",(function(){return K})),e.d(n,"interpolateRound",(function(){return lt})),e.d(n,"interpolateString",(function(){return at})),e.d(n,"interpolateTransformCss",(function(){return dt})),e.d(n,"interpolateTransformSvg",(function(){return yt})),e.d(n,"interpolateZoom",(function(){return vt})),e.d(n,"interpolateRgb",(function(){return X})),e.d(n,"interpolateRgbBasis",(function(){return H})),e.d(n,"interpolateRgbBasisClosed",(function(){return B})),e.d(n,"interpolateHsl",(function(){return mt})),e.d(n,"interpolateHslLong",(function(){return kt})),e.d(n,"interpolateLab",(function(){return Ft})),e.d(n,"interpolateHcl",(function(){return Ct})),e.d(n,"interpolateHclLong",(function(){return zt})),e.d(n,"interpolateCubehelix",(function(){return Qt})),e.d(n,"interpolateCubehelixLong",(function(){return Ut})),e.d(n,"piecewise",(function(){return tn})),e.d(n,"quantize",(function(){return nn}));var r=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function a(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function i(){}var o="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),f=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgba\\("+[o,o,o,u]+"\\)$"),d=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),y=new RegExp("^hsl\\("+[u,l,l]+"\\)$"),g=new RegExp("^hsla\\("+[u,l,l,u]+"\\)$"),p={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function x(){return this.rgb().formatRgb()}function m(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=c.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?k(n):3===e?new _(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?b(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?b(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=s.exec(t))?new _(n[1],n[2],n[3],1):(n=f.exec(t))?new _(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=h.exec(t))?b(n[1],n[2],n[3],n[4]):(n=d.exec(t))?b(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=y.exec(t))?D(n[1],n[2]/100,n[3]/100,1):(n=g.exec(t))?D(n[1],n[2]/100,n[3]/100,n[4]):p.hasOwnProperty(t)?k(p[t]):"transparent"===t?new _(NaN,NaN,NaN,0):null}function k(t){return new _(t>>16&255,t>>8&255,255&t,1)}function b(t,n,e,r){return r<=0&&(t=n=e=NaN),new _(t,n,e,r)}function w(t){return t instanceof i||(t=m(t)),t?new _((t=t.rgb()).r,t.g,t.b,t.opacity):new _}function L(t,n,e,r){return 1===arguments.length?w(t):new _(t,n,e,null==r?1:r)}function _(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function A(){return"#"+P(this.r)+P(this.g)+P(this.b)}function E(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function P(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function D(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new M(t,n,e,r)}function T(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=m(t)),!t)return new M;if(t instanceof M)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,a=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,l=o-a,c=(o+a)/2;return l?(u=n===o?(e-r)/l+6*(e<r):e===o?(r-n)/l+2:(n-e)/l+4,l/=c<.5?o+a:2-o-a,u*=60):l=c>0&&c<1?0:u,new M(u,l,c,t.opacity)}function N(t,n,e,r){return 1===arguments.length?T(t):new M(t,n,e,null==r?1:r)}function M(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function R(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function I(t,n,e,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*n+(4-6*i+3*o)*e+(1+3*t+3*i-3*o)*r+o*a)/6}r(i,m,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:v,formatHex:v,formatHsl:function(){return T(this).formatHsl()},formatRgb:x,toString:x}),r(_,L,a(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new _(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new _(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A,formatHex:A,formatRgb:E,toString:E})),r(M,N,a(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new M(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new M(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,a=2*e-r;return new _(R(t>=240?t-240:t+120,a,r),R(t,a,r),R(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var S=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),a=t[r],i=t[r+1],o=r>0?t[r-1]:2*a-i,u=r<n-1?t[r+2]:2*i-a;return I((e-r/n)*n,o,a,i,u)}},O=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),a=t[(r+n-1)%n],i=t[r%n],o=t[(r+1)%n],u=t[(r+2)%n];return I((e-r/n)*n,a,i,o,u)}},F=function(t){return function(){return t}};function j(t,n){return function(e){return t+e*n}}function C(t,n){var e=n-t;return e?j(t,e>180||e<-180?e-360*Math.round(e/360):e):F(isNaN(t)?n:t)}function z(t){return 1==(t=+t)?Y:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):F(isNaN(n)?e:n)}}function Y(t,n){var e=n-t;return e?j(t,e):F(isNaN(t)?n:t)}var X=function t(n){var e=z(n);function r(t,n){var r=e((t=L(t)).r,(n=L(n)).r),a=e(t.g,n.g),i=e(t.b,n.b),o=Y(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=a(n),t.b=i(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function q(t){return function(n){var e,r,a=n.length,i=new Array(a),o=new Array(a),u=new Array(a);for(e=0;e<a;++e)r=L(n[e]),i[e]=r.r||0,o[e]=r.g||0,u[e]=r.b||0;return i=t(i),o=t(o),u=t(u),r.opacity=1,function(t){return r.r=i(t),r.g=o(t),r.b=u(t),r+""}}}var H=q(S),B=q(O),W=function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,a=n.slice();return function(i){for(e=0;e<r;++e)a[e]=t[e]*(1-i)+n[e]*i;return a}};function G(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var $=function(t,n){return(G(n)?W:V)(t,n)};function V(t,n){var e,r=n?n.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(e=0;e<a;++e)i[e]=it(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<a;++e)o[e]=i[e](t);return o}}var Z=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},J=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},K=function(t,n){var e,r={},a={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=it(t[e],n[e]):a[e]=n[e];return function(t){for(e in r)a[e]=r[e](t);return a}},Q=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,U=new RegExp(Q.source,"g");var tt,nt,et,rt,at=function(t,n){var e,r,a,i=Q.lastIndex=U.lastIndex=0,o=-1,u=[],l=[];for(t+="",n+="";(e=Q.exec(t))&&(r=U.exec(n));)(a=r.index)>i&&(a=n.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(e=e[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,l.push({i:o,x:J(e,r)})),i=U.lastIndex;return i<n.length&&(a=n.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)u[(e=l[r]).i]=e.x(t);return u.join("")})},it=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?F(n):("number"===r?J:"string"===r?(e=m(n))?(n=e,X):at:n instanceof m?X:n instanceof Date?Z:G(n)?W:Array.isArray(n)?V:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?K:J)(t,n)},ot=function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},ut=function(t,n){var e=C(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},lt=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}},ct=180/Math.PI,st={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ft=function(t,n,e,r,a,i){var o,u,l;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,l/=u),t*r<n*e&&(t=-t,n=-n,l=-l,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(n,t)*ct,skewX:Math.atan(l)*ct,scaleX:o,scaleY:u}};function ht(t,n,e,r){function a(t){return t.length?t.pop()+" ":""}return function(i,o){var u=[],l=[];return i=t(i),o=t(o),function(t,r,a,i,o,u){if(t!==a||r!==i){var l=o.push("translate(",null,n,null,e);u.push({i:l-4,x:J(t,a)},{i:l-2,x:J(r,i)})}else(a||i)&&o.push("translate("+a+n+i+e)}(i.translateX,i.translateY,o.translateX,o.translateY,u,l),function(t,n,e,i){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),i.push({i:e.push(a(e)+"rotate(",null,r)-2,x:J(t,n)})):n&&e.push(a(e)+"rotate("+n+r)}(i.rotate,o.rotate,u,l),function(t,n,e,i){t!==n?i.push({i:e.push(a(e)+"skewX(",null,r)-2,x:J(t,n)}):n&&e.push(a(e)+"skewX("+n+r)}(i.skewX,o.skewX,u,l),function(t,n,e,r,i,o){if(t!==e||n!==r){var u=i.push(a(i)+"scale(",null,",",null,")");o.push({i:u-4,x:J(t,e)},{i:u-2,x:J(n,r)})}else 1===e&&1===r||i.push(a(i)+"scale("+e+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,u,l),i=o=null,function(t){for(var n,e=-1,r=l.length;++e<r;)u[(n=l[e]).i]=n.x(t);return u.join("")}}}var dt=ht((function(t){return"none"===t?st:(tt||(tt=document.createElement("DIV"),nt=document.documentElement,et=document.defaultView),tt.style.transform=t,t=et.getComputedStyle(nt.appendChild(tt),null).getPropertyValue("transform"),nt.removeChild(tt),t=t.slice(7,-1).split(","),ft(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),yt=ht((function(t){return null==t?st:(rt||(rt=document.createElementNS("http://www.w3.org/2000/svg","g")),rt.setAttribute("transform",t),(t=rt.transform.baseVal.consolidate())?(t=t.matrix,ft(t.a,t.b,t.c,t.d,t.e,t.f)):st)}),", ",")",")"),gt=Math.SQRT2;function pt(t){return((t=Math.exp(t))+1/t)/2}var vt=function(t,n){var e,r,a=t[0],i=t[1],o=t[2],u=n[0],l=n[1],c=n[2],s=u-a,f=l-i,h=s*s+f*f;if(h<1e-12)r=Math.log(c/o)/gt,e=function(t){return[a+t*s,i+t*f,o*Math.exp(gt*t*r)]};else{var d=Math.sqrt(h),y=(c*c-o*o+4*h)/(2*o*2*d),g=(c*c-o*o-4*h)/(2*c*2*d),p=Math.log(Math.sqrt(y*y+1)-y),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-p)/gt,e=function(t){var n,e=t*r,u=pt(p),l=o/(2*d)*(u*(n=gt*e+p,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[a+l*s,i+l*f,o*u/pt(gt*e+p)]}}return e.duration=1e3*r,e};function xt(t){return function(n,e){var r=t((n=N(n)).h,(e=N(e)).h),a=Y(n.s,e.s),i=Y(n.l,e.l),o=Y(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=a(t),n.l=i(t),n.opacity=o(t),n+""}}}var mt=xt(C),kt=xt(Y),bt=Math.PI/180,wt=180/Math.PI,Lt=6/29,_t=3*Lt*Lt;function At(t){if(t instanceof Pt)return new Pt(t.l,t.a,t.b,t.opacity);if(t instanceof St)return Ot(t);t instanceof _||(t=w(t));var n,e,r=Mt(t.r),a=Mt(t.g),i=Mt(t.b),o=Dt((.2225045*r+.7168786*a+.0606169*i)/1);return r===a&&a===i?n=e=o:(n=Dt((.4360747*r+.3850649*a+.1430804*i)/.96422),e=Dt((.0139322*r+.0971045*a+.7141733*i)/.82521)),new Pt(116*o-16,500*(n-o),200*(o-e),t.opacity)}function Et(t,n,e,r){return 1===arguments.length?At(t):new Pt(t,n,e,null==r?1:r)}function Pt(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Dt(t){return t>.008856451679035631?Math.pow(t,1/3):t/_t+4/29}function Tt(t){return t>Lt?t*t*t:_t*(t-4/29)}function Nt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Mt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Rt(t){if(t instanceof St)return new St(t.h,t.c,t.l,t.opacity);if(t instanceof Pt||(t=At(t)),0===t.a&&0===t.b)return new St(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*wt;return new St(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function It(t,n,e,r){return 1===arguments.length?Rt(t):new St(t,n,e,null==r?1:r)}function St(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Ot(t){if(isNaN(t.h))return new Pt(t.l,0,0,t.opacity);var n=t.h*bt;return new Pt(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}function Ft(t,n){var e=Y((t=Et(t)).l,(n=Et(n)).l),r=Y(t.a,n.a),a=Y(t.b,n.b),i=Y(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=a(n),t.opacity=i(n),t+""}}function jt(t){return function(n,e){var r=t((n=It(n)).h,(e=It(e)).h),a=Y(n.c,e.c),i=Y(n.l,e.l),o=Y(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=a(t),n.l=i(t),n.opacity=o(t),n+""}}}r(Pt,Et,a(i,{brighter:function(t){return new Pt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Pt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new _(Nt(3.1338561*(n=.96422*Tt(n))-1.6168667*(t=1*Tt(t))-.4906146*(e=.82521*Tt(e))),Nt(-.9787684*n+1.9161415*t+.033454*e),Nt(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),r(St,It,a(i,{brighter:function(t){return new St(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new St(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ot(this).rgb()}}));var Ct=jt(C),zt=jt(Y),Yt=-.14861,Xt=1.78277,qt=-.29227,Ht=-.90649,Bt=1.97294,Wt=Bt*Ht,Gt=Bt*Xt,$t=Xt*qt-Ht*Yt;function Vt(t){if(t instanceof Jt)return new Jt(t.h,t.s,t.l,t.opacity);t instanceof _||(t=w(t));var n=t.r/255,e=t.g/255,r=t.b/255,a=($t*r+Wt*n-Gt*e)/($t+Wt-Gt),i=r-a,o=(Bt*(e-a)-qt*i)/Ht,u=Math.sqrt(o*o+i*i)/(Bt*a*(1-a)),l=u?Math.atan2(o,i)*wt-120:NaN;return new Jt(l<0?l+360:l,u,a,t.opacity)}function Zt(t,n,e,r){return 1===arguments.length?Vt(t):new Jt(t,n,e,null==r?1:r)}function Jt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Kt(t){return function n(e){function r(n,r){var a=t((n=Zt(n)).h,(r=Zt(r)).h),i=Y(n.s,r.s),o=Y(n.l,r.l),u=Y(n.opacity,r.opacity);return function(t){return n.h=a(t),n.s=i(t),n.l=o(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}r(Jt,Zt,a(i,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Jt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Jt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*bt,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),a=Math.sin(t);return new _(255*(n+e*(Yt*r+Xt*a)),255*(n+e*(qt*r+Ht*a)),255*(n+e*(Bt*r)),this.opacity)}}));var Qt=Kt(C),Ut=Kt(Y);function tn(t,n){for(var e=0,r=n.length-1,a=n[0],i=new Array(r<0?0:r);e<r;)i[e]=t(a,a=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return i[n](t-n)}}var nn=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}},1757:function(t,n,e){"use strict";e.r(n),e.d(n,"forceCenter",(function(){return r})),e.d(n,"forceCollide",(function(){return p})),e.d(n,"forceLink",(function(){return k})),e.d(n,"forceManyBody",(function(){return Z})),e.d(n,"forceRadial",(function(){return J})),e.d(n,"forceSimulation",(function(){return V})),e.d(n,"forceX",(function(){return K})),e.d(n,"forceY",(function(){return Q}));var r=function(t,n){var e;function r(){var r,a,i=e.length,o=0,u=0;for(r=0;r<i;++r)o+=(a=e[r]).x,u+=a.y;for(o=o/i-t,u=u/i-n,r=0;r<i;++r)(a=e[r]).x-=o,a.y-=u}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r},a=function(t){return function(){return t}},i=function(){return 1e-6*(Math.random()-.5)};function o(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var a,i,o,u,l,c,s,f,h,d=t._root,y={data:r},g=t._x0,p=t._y0,v=t._x1,x=t._y1;if(!d)return t._root=y,t;for(;d.length;)if((c=n>=(i=(g+v)/2))?g=i:v=i,(s=e>=(o=(p+x)/2))?p=o:x=o,a=d,!(d=d[f=s<<1|c]))return a[f]=y,t;if(u=+t._x.call(null,d.data),l=+t._y.call(null,d.data),n===u&&e===l)return y.next=d,a?a[f]=y:t._root=y,t;do{a=a?a[f]=new Array(4):t._root=new Array(4),(c=n>=(i=(g+v)/2))?g=i:v=i,(s=e>=(o=(p+x)/2))?p=o:x=o}while((f=s<<1|c)==(h=(l>=o)<<1|u>=i));return a[h]=d,a[f]=y,t}var u=function(t,n,e,r,a){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=a};function l(t){return t[0]}function c(t){return t[1]}function s(t,n,e){var r=new f(null==n?l:n,null==e?c:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function f(t,n,e,r,a,i){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=a,this._y1=i,this._root=void 0}function h(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var d=s.prototype=f.prototype;function y(t){return t.x+t.vx}function g(t){return t.y+t.vy}d.copy=function(){var t,n,e=new f(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=h(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var a=0;a<4;++a)(n=r.source[a])&&(n.length?t.push({source:n,target:r.target[a]=new Array(4)}):r.target[a]=h(n));return e},d.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return o(this.cover(n,e),n,e,t)},d.addAll=function(t){var n,e,r,a,i=t.length,u=new Array(i),l=new Array(i),c=1/0,s=1/0,f=-1/0,h=-1/0;for(e=0;e<i;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(a=+this._y.call(null,n))||(u[e]=r,l[e]=a,r<c&&(c=r),r>f&&(f=r),a<s&&(s=a),a>h&&(h=a));if(c>f||s>h)return this;for(this.cover(c,s).cover(f,h),e=0;e<i;++e)o(this,u[e],l[e],t[e]);return this},d.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,a=this._x1,i=this._y1;if(isNaN(e))a=(e=Math.floor(t))+1,i=(r=Math.floor(n))+1;else{for(var o,u,l=a-e,c=this._root;e>t||t>=a||r>n||n>=i;)switch(u=(n<r)<<1|t<e,(o=new Array(4))[u]=c,c=o,l*=2,u){case 0:a=e+l,i=r+l;break;case 1:e=a-l,i=r+l;break;case 2:a=e+l,r=i-l;break;case 3:e=a-l,r=i-l}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=a,this._y1=i,this},d.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},d.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},d.find=function(t,n,e){var r,a,i,o,l,c,s,f=this._x0,h=this._y0,d=this._x1,y=this._y1,g=[],p=this._root;for(p&&g.push(new u(p,f,h,d,y)),null==e?e=1/0:(f=t-e,h=n-e,d=t+e,y=n+e,e*=e);c=g.pop();)if(!(!(p=c.node)||(a=c.x0)>d||(i=c.y0)>y||(o=c.x1)<f||(l=c.y1)<h))if(p.length){var v=(a+o)/2,x=(i+l)/2;g.push(new u(p[3],v,x,o,l),new u(p[2],a,x,v,l),new u(p[1],v,i,o,x),new u(p[0],a,i,v,x)),(s=(n>=x)<<1|t>=v)&&(c=g[g.length-1],g[g.length-1]=g[g.length-1-s],g[g.length-1-s]=c)}else{var m=t-+this._x.call(null,p.data),k=n-+this._y.call(null,p.data),b=m*m+k*k;if(b<e){var w=Math.sqrt(e=b);f=t-w,h=n-w,d=t+w,y=n+w,r=p.data}}return r},d.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var n,e,r,a,i,o,u,l,c,s,f,h,d=this._root,y=this._x0,g=this._y0,p=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(u=(y+p)/2))?y=u:p=u,(s=o>=(l=(g+v)/2))?g=l:v=l,n=d,!(d=d[f=s<<1|c]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(a=d.next)&&delete d.next,r?(a?r.next=a:delete r.next,this):n?(a?n[f]=a:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=a,this)},d.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},d.root=function(){return this._root},d.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},d.visit=function(t){var n,e,r,a,i,o,l=[],c=this._root;for(c&&l.push(new u(c,this._x0,this._y0,this._x1,this._y1));n=l.pop();)if(!t(c=n.node,r=n.x0,a=n.y0,i=n.x1,o=n.y1)&&c.length){var s=(r+i)/2,f=(a+o)/2;(e=c[3])&&l.push(new u(e,s,f,i,o)),(e=c[2])&&l.push(new u(e,r,f,s,o)),(e=c[1])&&l.push(new u(e,s,a,i,f)),(e=c[0])&&l.push(new u(e,r,a,s,f))}return this},d.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new u(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var a=n.node;if(a.length){var i,o=n.x0,l=n.y0,c=n.x1,s=n.y1,f=(o+c)/2,h=(l+s)/2;(i=a[0])&&e.push(new u(i,o,l,f,h)),(i=a[1])&&e.push(new u(i,f,l,c,h)),(i=a[2])&&e.push(new u(i,o,h,f,s)),(i=a[3])&&e.push(new u(i,f,h,c,s))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},d.x=function(t){return arguments.length?(this._x=t,this):this._x},d.y=function(t){return arguments.length?(this._y=t,this):this._y};var p=function(t){var n,e,r=1,o=1;function u(){for(var t,a,u,c,f,h,d,p=n.length,v=0;v<o;++v)for(a=s(n,y,g).visitAfter(l),t=0;t<p;++t)u=n[t],h=e[u.index],d=h*h,c=u.x+u.vx,f=u.y+u.vy,a.visit(x);function x(t,n,e,a,o){var l=t.data,s=t.r,y=h+s;if(!l)return n>c+y||a<c-y||e>f+y||o<f-y;if(l.index>u.index){var g=c-l.x-l.vx,p=f-l.y-l.vy,v=g*g+p*p;v<y*y&&(0===g&&(v+=(g=i())*g),0===p&&(v+=(p=i())*p),v=(y-(v=Math.sqrt(v)))/v*r,u.vx+=(g*=v)*(y=(s*=s)/(d+s)),u.vy+=(p*=v)*y,l.vx-=g*(y=1-y),l.vy-=p*y)}}}function l(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function c(){if(n){var r,a,i=n.length;for(e=new Array(i),r=0;r<i;++r)a=n[r],e[a.index]=+t(a,r,n)}}return"function"!=typeof t&&(t=a(null==t?1:+t)),u.initialize=function(t){n=t,c()},u.iterations=function(t){return arguments.length?(o=+t,u):o},u.strength=function(t){return arguments.length?(r=+t,u):r},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:a(+n),c(),u):t},u},v=e(1212);function x(t){return t.index}function m(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var k=function(t){var n,e,r,o,u,l=x,c=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},s=a(30),f=1;function h(r){for(var a=0,o=t.length;a<f;++a)for(var l,c,s,h,d,y,g,p=0;p<o;++p)c=(l=t[p]).source,h=(s=l.target).x+s.vx-c.x-c.vx||i(),d=s.y+s.vy-c.y-c.vy||i(),h*=y=((y=Math.sqrt(h*h+d*d))-e[p])/y*r*n[p],d*=y,s.vx-=h*(g=u[p]),s.vy-=d*g,c.vx+=h*(g=1-g),c.vy+=d*g}function d(){if(r){var a,i,c=r.length,s=t.length,f=Object(v.a)(r,l);for(a=0,o=new Array(c);a<s;++a)(i=t[a]).index=a,"object"!=typeof i.source&&(i.source=m(f,i.source)),"object"!=typeof i.target&&(i.target=m(f,i.target)),o[i.source.index]=(o[i.source.index]||0)+1,o[i.target.index]=(o[i.target.index]||0)+1;for(a=0,u=new Array(s);a<s;++a)i=t[a],u[a]=o[i.source.index]/(o[i.source.index]+o[i.target.index]);n=new Array(s),y(),e=new Array(s),g()}}function y(){if(r)for(var e=0,a=t.length;e<a;++e)n[e]=+c(t[e],e,t)}function g(){if(r)for(var n=0,a=t.length;n<a;++n)e[n]=+s(t[n],n,t)}return null==t&&(t=[]),h.initialize=function(t){r=t,d()},h.links=function(n){return arguments.length?(t=n,d(),h):t},h.id=function(t){return arguments.length?(l=t,h):l},h.iterations=function(t){return arguments.length?(f=+t,h):f},h.strength=function(t){return arguments.length?(c="function"==typeof t?t:a(+t),y(),h):c},h.distance=function(t){return arguments.length?(s="function"==typeof t?t:a(+t),g(),h):s},h},b={value:function(){}};function w(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new L(r)}function L(t){this._=t}function _(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function A(t,n){for(var e,r=0,a=t.length;r<a;++r)if((e=t[r]).name===n)return e.value}function E(t,n,e){for(var r=0,a=t.length;r<a;++r)if(t[r].name===n){t[r]=b,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}L.prototype=w.prototype={constructor:L,on:function(t,n){var e,r=this._,a=_(t+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++i<o;)if(e=(t=a[i]).type)r[e]=E(r[e],t.name,n);else if(null==n)for(e in r)r[e]=E(r[e],t.name,null);return this}for(;++i<o;)if((e=(t=a[i]).type)&&(e=A(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new L(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,a=new Array(e),i=0;i<e;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,e=(r=this._[t]).length;i<e;++i)r[i].value.apply(n,a)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(n,e)}};var P,D,T=w,N=0,M=0,R=0,I=0,S=0,O=0,F="object"==typeof performance&&performance.now?performance:Date,j="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function C(){return S||(j(z),S=F.now()+O)}function z(){S=0}function Y(){this._call=this._time=this._next=null}function X(t,n,e){var r=new Y;return r.restart(t,n,e),r}function q(){S=(I=F.now())+O,N=M=0;try{!function(){C(),++N;for(var t,n=P;n;)(t=S-n._time)>=0&&n._call.call(null,t),n=n._next;--N}()}finally{N=0,function(){var t,n,e=P,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:P=n);D=t,B(r)}(),S=0}}function H(){var t=F.now(),n=t-I;n>1e3&&(O-=n,I=t)}function B(t){N||(M&&(M=clearTimeout(M)),t-S>24?(t<1/0&&(M=setTimeout(q,t-F.now()-O)),R&&(R=clearInterval(R))):(R||(I=F.now(),R=setInterval(H,1e3)),N=1,j(q)))}function W(t){return t.x}function G(t){return t.y}Y.prototype=X.prototype={constructor:Y,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?C():+e)+(null==n?0:+n),this._next||D===this||(D?D._next=this:P=this,D=this),this._call=t,this._time=e,B()},stop:function(){this._call&&(this._call=null,this._time=1/0,B())}};var $=Math.PI*(3-Math.sqrt(5)),V=function(t){var n,e=1,r=.001,a=1-Math.pow(r,1/300),i=0,o=.6,u=Object(v.a)(),l=X(s),c=T("tick","end");function s(){f(),c.call("tick",n),e<r&&(l.stop(),c.call("end",n))}function f(r){var l,c,s=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(e+=(i-e)*a,u.each((function(t){t(e)})),l=0;l<s;++l)null==(c=t[l]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return n}function h(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var a=10*Math.sqrt(e),i=e*$;n.x=a*Math.cos(i),n.y=a*Math.sin(i)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:f,restart:function(){return l.restart(s),n},stop:function(){return l.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),u.each(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(a=+t,n):+a},alphaTarget:function(t){return arguments.length?(i=+t,n):i},velocityDecay:function(t){return arguments.length?(o=1-t,n):1-o},force:function(t,e){return arguments.length>1?(null==e?u.remove(t):u.set(t,d(e)),n):u.get(t)},find:function(n,e,r){var a,i,o,u,l,c=0,s=t.length;for(null==r?r=1/0:r*=r,c=0;c<s;++c)(o=(a=n-(u=t[c]).x)*a+(i=e-u.y)*i)<r&&(l=u,r=o);return l},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}},Z=function(){var t,n,e,r,o=a(-30),u=1,l=1/0,c=.81;function f(r){var a,i=t.length,o=s(t,W,G).visitAfter(d);for(e=r,a=0;a<i;++a)n=t[a],o.visit(y)}function h(){if(t){var n,e,a=t.length;for(r=new Array(a),n=0;n<a;++n)e=t[n],r[e.index]=+o(e,n,t)}}function d(t){var n,e,a,i,o,u=0,l=0;if(t.length){for(a=i=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(u+=n.value,l+=e,a+=e*n.x,i+=e*n.y);t.x=a/l,t.y=i/l}else{(n=t).x=n.data.x,n.y=n.data.y;do{u+=r[n.data.index]}while(n=n.next)}t.value=u}function y(t,a,o,s){if(!t.value)return!0;var f=t.x-n.x,h=t.y-n.y,d=s-a,y=f*f+h*h;if(d*d/c<y)return y<l&&(0===f&&(y+=(f=i())*f),0===h&&(y+=(h=i())*h),y<u&&(y=Math.sqrt(u*y)),n.vx+=f*t.value*e/y,n.vy+=h*t.value*e/y),!0;if(!(t.length||y>=l)){(t.data!==n||t.next)&&(0===f&&(y+=(f=i())*f),0===h&&(y+=(h=i())*h),y<u&&(y=Math.sqrt(u*y)));do{t.data!==n&&(d=r[t.data.index]*e/y,n.vx+=f*d,n.vy+=h*d)}while(t=t.next)}}return f.initialize=function(n){t=n,h()},f.strength=function(t){return arguments.length?(o="function"==typeof t?t:a(+t),h(),f):o},f.distanceMin=function(t){return arguments.length?(u=t*t,f):Math.sqrt(u)},f.distanceMax=function(t){return arguments.length?(l=t*t,f):Math.sqrt(l)},f.theta=function(t){return arguments.length?(c=t*t,f):Math.sqrt(c)},f},J=function(t,n,e){var r,i,o,u=a(.1);function l(t){for(var a=0,u=r.length;a<u;++a){var l=r[a],c=l.x-n||1e-6,s=l.y-e||1e-6,f=Math.sqrt(c*c+s*s),h=(o[a]-f)*i[a]*t/f;l.vx+=c*h,l.vy+=s*h}}function c(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+u(r[n],n,r)}}return"function"!=typeof t&&(t=a(+t)),null==n&&(n=0),null==e&&(e=0),l.initialize=function(t){r=t,c()},l.strength=function(t){return arguments.length?(u="function"==typeof t?t:a(+t),c(),l):u},l.radius=function(n){return arguments.length?(t="function"==typeof n?n:a(+n),c(),l):t},l.x=function(t){return arguments.length?(n=+t,l):n},l.y=function(t){return arguments.length?(e=+t,l):e},l},K=function(t){var n,e,r,i=a(.1);function o(t){for(var a,i=0,o=n.length;i<o;++i)(a=n[i]).vx+=(r[i]-a.x)*e[i]*t}function u(){if(n){var a,o=n.length;for(e=new Array(o),r=new Array(o),a=0;a<o;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!=typeof t&&(t=a(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:a(+t),u(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:a(+n),u(),o):t},o},Q=function(t){var n,e,r,i=a(.1);function o(t){for(var a,i=0,o=n.length;i<o;++i)(a=n[i]).vy+=(r[i]-a.y)*e[i]*t}function u(){if(n){var a,o=n.length;for(e=new Array(o),r=new Array(o),a=0;a<o;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!=typeof t&&(t=a(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:a(+t),u(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:a(+n),u(),o):t},o}},1758:function(t,n,e){"use strict";e.r(n),e.d(n,"sankey",(function(){return w})),e.d(n,"sankeyCenter",(function(){return c})),e.d(n,"sankeyLeft",(function(){return o})),e.d(n,"sankeyRight",(function(){return u})),e.d(n,"sankeyJustify",(function(){return l})),e.d(n,"sankeyLinkHorizontal",(function(){return E}));var r=e(1322),a=e(1212);function i(t){return t.target.depth}function o(t){return t.depth}function u(t,n){return n-1-t.height}function l(t,n){return t.sourceLinks.length?t.depth:n-1}function c(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Object(r.d)(t.sourceLinks,i)-1:0}function s(t){return function(){return t}}function f(t,n){return d(t.source,n.source)||t.index-n.index}function h(t,n){return d(t.target,n.target)||t.index-n.index}function d(t,n){return t.y0-n.y0}function y(t){return t.value}function g(t){return(t.y0+t.y1)/2}function p(t){return g(t.source)*t.value}function v(t){return g(t.target)*t.value}function x(t){return t.index}function m(t){return t.nodes}function k(t){return t.links}function b(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var w=function(){var t=0,n=0,e=1,i=1,o=24,u=8,c=x,w=l,L=m,_=k,A=32;function E(){var t={nodes:L.apply(null,arguments),links:_.apply(null,arguments)};return P(t),D(t),T(t),N(t),M(t),t}function P(t){t.nodes.forEach((function(t,n){t.index=n,t.sourceLinks=[],t.targetLinks=[]}));var n=Object(a.a)(t.nodes,c);t.links.forEach((function(t,e){t.index=e;var r=t.source,a=t.target;"object"!=typeof r&&(r=t.source=b(n,r)),"object"!=typeof a&&(a=t.target=b(n,a)),r.sourceLinks.push(t),a.targetLinks.push(t)}))}function D(t){t.nodes.forEach((function(t){t.value=Math.max(Object(r.e)(t.sourceLinks,y),Object(r.e)(t.targetLinks,y))}))}function T(n){var r,a,i;for(r=n.nodes,a=[],i=0;r.length;++i,r=a,a=[])r.forEach((function(t){t.depth=i,t.sourceLinks.forEach((function(t){a.indexOf(t.target)<0&&a.push(t.target)}))}));for(r=n.nodes,a=[],i=0;r.length;++i,r=a,a=[])r.forEach((function(t){t.height=i,t.targetLinks.forEach((function(t){a.indexOf(t.source)<0&&a.push(t.source)}))}));var u=(e-t-o)/(i-1);n.nodes.forEach((function(n){n.x1=(n.x0=t+Math.max(0,Math.min(i-1,Math.floor(w.call(null,n,i))))*u)+o}))}function N(t){var e=Object(a.b)().key((function(t){return t.x0})).sortKeys(r.a).entries(t.nodes).map((function(t){return t.values}));!function(){var a=Object(r.b)(e,(function(t){return t.length})),o=2/3*(i-n)/(a-1);u>o&&(u=o);var l=Object(r.d)(e,(function(t){return(i-n-(t.length-1)*u)/Object(r.e)(t,y)}));e.forEach((function(t){t.forEach((function(t,n){t.y1=(t.y0=n)+t.value*l}))})),t.links.forEach((function(t){t.width=t.value*l}))}(),f();for(var o=1,l=A;l>0;--l)s(o*=.99),f(),c(o),f();function c(t){e.forEach((function(n){n.forEach((function(n){if(n.targetLinks.length){var e=(Object(r.e)(n.targetLinks,p)/Object(r.e)(n.targetLinks,y)-g(n))*t;n.y0+=e,n.y1+=e}}))}))}function s(t){e.slice().reverse().forEach((function(n){n.forEach((function(n){if(n.sourceLinks.length){var e=(Object(r.e)(n.sourceLinks,v)/Object(r.e)(n.sourceLinks,y)-g(n))*t;n.y0+=e,n.y1+=e}}))}))}function f(){e.forEach((function(t){var e,r,a,o=n,l=t.length;for(t.sort(d),a=0;a<l;++a)(r=o-(e=t[a]).y0)>0&&(e.y0+=r,e.y1+=r),o=e.y1+u;if((r=o-u-i)>0)for(o=e.y0-=r,e.y1-=r,a=l-2;a>=0;--a)(r=(e=t[a]).y1+u-o)>0&&(e.y0-=r,e.y1-=r),o=e.y0}))}}function M(t){t.nodes.forEach((function(t){t.sourceLinks.sort(h),t.targetLinks.sort(f)})),t.nodes.forEach((function(t){var n=t.y0,e=n;t.sourceLinks.forEach((function(t){t.y0=n+t.width/2,n+=t.width})),t.targetLinks.forEach((function(t){t.y1=e+t.width/2,e+=t.width}))}))}return E.update=function(t){return M(t),t},E.nodeId=function(t){return arguments.length?(c="function"==typeof t?t:s(t),E):c},E.nodeAlign=function(t){return arguments.length?(w="function"==typeof t?t:s(t),E):w},E.nodeWidth=function(t){return arguments.length?(o=+t,E):o},E.nodePadding=function(t){return arguments.length?(u=+t,E):u},E.nodes=function(t){return arguments.length?(L="function"==typeof t?t:s(t),E):L},E.links=function(t){return arguments.length?(_="function"==typeof t?t:s(t),E):_},E.size=function(r){return arguments.length?(t=n=0,e=+r[0],i=+r[1],E):[e-t,i-n]},E.extent=function(r){return arguments.length?(t=+r[0][0],e=+r[1][0],n=+r[0][1],i=+r[1][1],E):[[t,n],[e,i]]},E.iterations=function(t){return arguments.length?(A=+t,E):A},E},L=e(1787);function _(t){return[t.source.x1,t.y0]}function A(t){return[t.target.x0,t.y1]}var E=function(){return Object(L.a)().source(_).target(A)}},1787:function(t,n,e){"use strict";e.d(n,"a",(function(){return v}));var r=Math.PI,a=2*r,i=a-1e-6;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function u(){return new o}o.prototype=u.prototype={constructor:o,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,a,i){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(t,n,e,a,i){t=+t,n=+n,e=+e,a=+a,i=+i;var o=this._x1,u=this._y1,l=e-t,c=a-n,s=o-t,f=u-n,h=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(f*l-c*s)>1e-6&&i){var d=e-o,y=a-u,g=l*l+c*c,p=d*d+y*y,v=Math.sqrt(g),x=Math.sqrt(h),m=i*Math.tan((r-Math.acos((g+h-p)/(2*v*x)))/2),k=m/x,b=m/v;Math.abs(k-1)>1e-6&&(this._+="L"+(t+k*s)+","+(n+k*f)),this._+="A"+i+","+i+",0,0,"+ +(f*d>s*y)+","+(this._x1=t+b*l)+","+(this._y1=n+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,o,u,l){t=+t,n=+n,l=!!l;var c=(e=+e)*Math.cos(o),s=e*Math.sin(o),f=t+c,h=n+s,d=1^l,y=l?o-u:u-o;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+f+","+h),e&&(y<0&&(y=y%a+a),y>i?this._+="A"+e+","+e+",0,1,"+d+","+(t-c)+","+(n-s)+"A"+e+","+e+",0,1,"+d+","+(this._x1=f)+","+(this._y1=h):y>1e-6&&(this._+="A"+e+","+e+",0,"+ +(y>=r)+","+d+","+(this._x1=t+e*Math.cos(u))+","+(this._y1=n+e*Math.sin(u))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var l=u,c=Array.prototype.slice,s=function(t){return function(){return t}};function f(t){return t[0]}function h(t){return t[1]}function d(t){return t.source}function y(t){return t.target}function g(t){var n=d,e=y,r=f,a=h,i=null;function o(){var o,u=c.call(arguments),s=n.apply(this,u),f=e.apply(this,u);if(i||(i=o=l()),t(i,+r.apply(this,(u[0]=s,u)),+a.apply(this,u),+r.apply(this,(u[0]=f,u)),+a.apply(this,u)),o)return i=null,o+""||null}return o.source=function(t){return arguments.length?(n=t,o):n},o.target=function(t){return arguments.length?(e=t,o):e},o.x=function(t){return arguments.length?(r="function"==typeof t?t:s(+t),o):r},o.y=function(t){return arguments.length?(a="function"==typeof t?t:s(+t),o):a},o.context=function(t){return arguments.length?(i=null==t?null:t,o):i},o}function p(t,n,e,r,a){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,a,r,a)}function v(){return g(p)}},295:function(t,n,e){"use strict";t.exports=e(1726)},647:function(t,n,e){"use strict";var r=e(32).extendFlat;n.attributes=function(t,n){n=n||{};var e={valType:"info_array",role:"info",editType:(t=t||{}).editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},a=t.name?t.name+" ":"",i=t.trace?"trace ":"subplot ",o=n.description?" "+n.description:"",u={x:r({},e,{description:["Sets the horizontal domain of this ",a,i,"(in plot fraction).",o].join("")}),y:r({},e,{description:["Sets the vertical domain of this ",a,i,"(in plot fraction).",o].join("")}),editType:t.editType};return t.noGridCell||(u.row={valType:"integer",min:0,dflt:0,role:"info",editType:t.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",a,i,".",o].join("")},u.column={valType:"integer",min:0,dflt:0,role:"info",editType:t.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",a,i,".",o].join("")}),u},n.defaults=function(t,n,e,r){var a=r&&r.x||[0,1],i=r&&r.y||[0,1],o=n.grid;if(o){var u=e("domain.column");void 0!==u&&(u<o.columns?a=o._domains.x[u]:delete t.domain.column);var l=e("domain.row");void 0!==l&&(l<o.rows?i=o._domains.y[l]:delete t.domain.row)}var c=e("domain.x",a),s=e("domain.y",i);c[0]<c[1]||(t.domain.x=a.slice()),s[0]<s[1]||(t.domain.y=i.slice())}},750:function(t,n,e){"use strict";var r=e(162);function a(t){return[t]}t.exports={keyFun:function(t){return t.key},repeat:a,descend:r,wrap:a,unwrap:function(t){return t[0]}}}}]);