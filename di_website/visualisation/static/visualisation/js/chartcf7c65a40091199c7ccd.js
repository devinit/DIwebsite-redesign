(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1249:function(e,t,a){"use strict";var i=a(150).hovertemplateAttrs,r=a(150).texttemplateAttrs,n=a(207),o=a(59),l=a(111),s=a(114).dash,c=a(32).extendFlat,p=n.marker,d=n.line,u=p.line;e.exports={a:{valType:"data_array",editType:"calc",description:["Sets the quantity of component `a` in each data point.","If `a`, `b`, and `c` are all provided, they need not be","normalized, only the relative values matter. If only two","arrays are provided they must be normalized to match","`ternary<i>.sum`."].join(" ")},b:{valType:"data_array",editType:"calc",description:["Sets the quantity of component `a` in each data point.","If `a`, `b`, and `c` are all provided, they need not be","normalized, only the relative values matter. If only two","arrays are provided they must be normalized to match","`ternary<i>.sum`."].join(" ")},c:{valType:"data_array",editType:"calc",description:["Sets the quantity of component `a` in each data point.","If `a`, `b`, and `c` are all provided, they need not be","normalized, only the relative values matter. If only two","arrays are provided they must be normalized to match","`ternary<i>.sum`."].join(" ")},sum:{valType:"number",role:"info",dflt:0,min:0,editType:"calc",description:["The number each triplet should sum to,","if only two of `a`, `b`, and `c` are provided.","This overrides `ternary<i>.sum` to normalize this specific","trace, but does not affect the values displayed on the axes.","0 (or missing) means to use ternary<i>.sum"].join(" ")},mode:c({},n.mode,{dflt:"markers"}),text:c({},n.text,{description:["Sets text elements associated with each (a,b,c) point.","If a single string, the same string appears over","all the data points.","If an array of strings, the items are mapped in order to the","the data points in (a,b,c).","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")}),texttemplate:r({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:c({},n.hovertext,{description:["Sets hover text elements associated with each (a,b,c) point.","If a single string, the same string appears over","all the data points.","If an array of strings, the items are mapped in order to the","the data points in (a,b,c).","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")}),line:{color:d.color,width:d.width,dash:s,shape:c({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:n.connectgaps,cliponaxis:n.cliponaxis,fill:c({},n.fill,{values:["none","toself","tonext"],dflt:"none",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterternary has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:n.fillcolor,marker:c({symbol:p.symbol,opacity:p.opacity,maxdisplayed:p.maxdisplayed,size:p.size,sizeref:p.sizeref,sizemin:p.sizemin,sizemode:p.sizemode,line:c({width:u.width,editType:"calc"},l("marker.line")),gradient:p.gradient,editType:"calc"},l("marker")),textfont:n.textfont,textposition:n.textposition,selected:n.selected,unselected:n.unselected,hoverinfo:c({},o.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:n.hoveron,hovertemplate:i()}},1250:function(e,t,a){"use strict";var i=a(112),r=a(624).attributes,n=a(61),o=a(109).overrideAll,l=a(32).extendFlat,s={title:{text:n.title.text,font:n.title.font},color:n.color,tickmode:n.tickmode,nticks:l({},n.nticks,{dflt:6,min:1}),tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,separatethousands:n.separatethousands,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,hoverformat:n.hoverformat,showline:l({},n.showline,{dflt:!0}),linecolor:n.linecolor,linewidth:n.linewidth,showgrid:l({},n.showgrid,{dflt:!0}),gridcolor:n.gridcolor,gridwidth:n.gridwidth,layer:n.layer,min:{valType:"number",dflt:0,role:"info",min:0,description:["The minimum value visible on this axis.","The maximum is determined by the sum minus the minimum","values of the other two axes. The full view corresponds to","all the minima set to zero."].join(" ")},_deprecated:{title:n._deprecated.title,titlefont:n._deprecated.titlefont}},c=e.exports=o({domain:r({name:"ternary"}),bgcolor:{valType:"color",role:"style",dflt:i.background,description:"Set the background color of the subplot"},sum:{valType:"number",role:"info",dflt:1,min:0,description:["The number each triplet should sum to,","and the maximum range of each axis"].join(" ")},aaxis:s,baxis:s,caxis:s},"plot","from-root");c.uirevision={valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `min` and `title`,","if not overridden in the individual axes.","Defaults to `layout.uirevision`."].join(" ")},c.aaxis.uirevision=c.baxis.uirevision=c.caxis.uirevision={valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `min`,","and `title` if in `editable: true` configuration.","Defaults to `ternary<N>.uirevision`."].join(" ")}},1468:function(e,t,a){"use strict";e.exports={attributes:a(1249),supplyDefaults:a(1469),colorbar:a(633),formatLabels:a(1470),calc:a(1471),plot:a(1472),style:a(640).style,styleOnSelect:a(640).styleOnSelect,hoverPoints:a(1473),selectPoints:a(698),eventData:a(1474),moduleType:"trace",name:"scatterternary",basePlotModule:a(1475),categories:["ternary","symbols","showLegend","scatter-like"],meta:{hrName:"scatter_ternary",description:["Provides similar functionality to the *scatter* type but on a ternary phase diagram.","The data is provided by at least two arrays out of `a`, `b`, `c` triplets."].join(" ")}}},1469:function(e,t,a){"use strict";var i=a(6),r=a(213),n=a(206),o=a(644),l=a(648),s=a(681),c=a(649),p=a(655),d=a(1249);e.exports=function(e,t,a,u){function h(a,r){return i.coerce(e,t,d,a,r)}var f,x=h("a"),m=h("b"),y=h("c");if(x?(f=x.length,m?(f=Math.min(f,m.length),y&&(f=Math.min(f,y.length))):f=y?Math.min(f,y.length):0):m&&y&&(f=Math.min(m.length,y.length)),f){t._length=f,h("sum"),h("text"),h("hovertext"),"fills"!==t.hoveron&&h("hovertemplate"),h("mode",f<r.PTS_LINESONLY?"lines+markers":"lines"),n.hasLines(t)&&(l(e,t,a,u,h),s(e,t,h),h("connectgaps")),n.hasMarkers(t)&&o(e,t,a,u,h,{gradient:!0}),n.hasText(t)&&(h("texttemplate"),c(e,t,u,h));var v=[];(n.hasMarkers(t)||n.hasText(t))&&(h("cliponaxis"),h("marker.maxdisplayed"),v.push("points")),h("fill"),"none"!==t.fill&&(p(e,t,a,h),n.hasLines(t)||s(e,t,h)),"tonext"!==t.fill&&"toself"!==t.fill||v.push("fills"),h("hoveron",v.join("+")||"points"),i.coerceSelectionMarkerOpacity(t,h)}else t.visible=!1}},1470:function(e,t,a){"use strict";var i=a(105);e.exports=function(e,t,a){var r={},n=a[t.subplot]._subplot;return r.aLabel=i.tickText(n.aaxis,e.a,!0).text,r.bLabel=i.tickText(n.baxis,e.b,!0).text,r.cLabel=i.tickText(n.caxis,e.c,!0).text,r}},1471:function(e,t,a){"use strict";var i=a(12),r=a(636),n=a(629),o=a(631),l=a(642).calcMarkerSize,s=["a","b","c"],c={a:["b","c"],b:["a","c"],c:["a","b"]};e.exports=function(e,t){var a,p,d,u,h,f,x=e._fullLayout[t.subplot].sum,m=t.sum||x,y={a:t.a,b:t.b,c:t.c};for(a=0;a<s.length;a++)if(!y[d=s[a]]){for(h=y[c[d][0]],f=y[c[d][1]],u=new Array(h.length),p=0;p<h.length;p++)u[p]=m-h[p]-f[p];y[d]=u}var v,g,b,k,_,w,M=t._length,A=new Array(M);for(a=0;a<M;a++)v=y.a[a],g=y.b[a],b=y.c[a],i(v)&&i(g)&&i(b)?(1!==(k=x/((v=+v)+(g=+g)+(b=+b)))&&(v*=k,g*=k,b*=k),w=v,_=b-g,A[a]={x:_,y:w,a:v,b:g,c:b}):A[a]={x:!1,y:!1};return l(t,M),r(e,t),n(A,t),o(A,t),A}},1472:function(e,t,a){"use strict";var i=a(696);e.exports=function(e,t,a){var r=t.plotContainer;r.select(".scatterlayer").selectAll("*").remove();var n={xaxis:t.xaxis,yaxis:t.yaxis,plot:r,layerClipId:t._hasClipOnAxisFalse?t.clipIdRelative:null},o=t.layers.frontplot.select("g.scatterlayer");i(e,n,a,o)}},1473:function(e,t,a){"use strict";var i=a(682);e.exports=function(e,t,a,r){var n=i(e,t,a,r);if(n&&!1!==n[0].index){var o=n[0];if(void 0===o.index){var l=1-o.y0/e.ya._length,s=e.xa._length,c=s*l/2,p=s-c;return o.x0=Math.max(Math.min(o.x0,p),c),o.x1=Math.max(Math.min(o.x1,p),c),n}var d=o.cd[o.index],u=o.trace,h=o.subplot;o.a=d.a,o.b=d.b,o.c=d.c,o.xLabelVal=void 0,o.yLabelVal=void 0;var f={};f[u.subplot]={_subplot:h};var x=u._module.formatLabels(d,u,f);o.aLabel=x.aLabel,o.bLabel=x.bLabel,o.cLabel=x.cLabel;var m=d.hi||u.hoverinfo,y=[];if(!u.hovertemplate){var v=m.split("+");-1!==v.indexOf("all")&&(v=["a","b","c"]),-1!==v.indexOf("a")&&g(h.aaxis,o.aLabel),-1!==v.indexOf("b")&&g(h.baxis,o.bLabel),-1!==v.indexOf("c")&&g(h.caxis,o.cLabel)}return o.extraText=y.join("<br>"),o.hovertemplate=u.hovertemplate,n}function g(e,t){y.push(e._hovertitle+": "+t)}}},1474:function(e,t,a){"use strict";e.exports=function(e,t,a,i,r){if(t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),i[r]){var n=i[r];e.a=n.a,e.b=n.b,e.c=n.c}else e.a=t.a,e.b=t.b,e.c=t.c;return e}},1475:function(e,t,a){"use strict";var i=a(1476),r=a(212).getSubplotCalcData,n=a(6).counterRegex;t.name="ternary";var o=t.attr="subplot";t.idRoot="ternary",t.idRegex=t.attrRegex=n("ternary"),(t.attributes={})[o]={valType:"subplotid",role:"info",dflt:"ternary",editType:"calc",description:["Sets a reference between this trace's data coordinates and","a ternary subplot.","If *ternary* (the default value), the data refer to `layout.ternary`.","If *ternary2*, the data refer to `layout.ternary2`, and so on."].join(" ")},t.layoutAttributes=a(1250),t.supplyLayoutDefaults=a(1477),t.plot=function(e){for(var t=e._fullLayout,a=e.calcdata,n=t._subplots.ternary,o=0;o<n.length;o++){var l=n[o],s=r(a,"ternary",l),c=t[l]._subplot;c||(c=new i({id:l,graphDiv:e,container:t._ternarylayer.node()},t),t[l]._subplot=c),c.plot(s,t,e._promises)}},t.clean=function(e,t,a,i){for(var r=i._subplots.ternary||[],n=0;n<r.length;n++){var o=r[n],l=i[o]._subplot;!t[o]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},1476:function(e,t,a){"use strict";var i=a(24),r=a(60),n=a(23),o=a(6),l=o._,s=a(57),c=a(106),p=a(217),d=a(32).extendFlat,u=a(107),h=a(105),f=a(650),x=a(623),m=a(767),y=m.freeMode,v=m.rectMode,g=a(216),b=a(641).prepSelect,k=a(641).selectOnClick,_=a(641).clearSelect,w=a(641).clearSelectionsCache,M=a(80);function A(e,t){this.id=e.id,this.graphDiv=e.graphDiv,this.init(t),this.makeFramework(t),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}e.exports=A;var L=A.prototype;L.init=function(e){this.container=e._ternarylayer,this.defs=e._defs,this.layoutId=e._uid,this.traceHash={},this.layers={}},L.plot=function(e,t){var a=t[this.id],i=t._size;this._hasClipOnAxisFalse=!1;for(var r=0;r<e.length;r++){if(!1===e[r][0].trace.cliponaxis){this._hasClipOnAxisFalse=!0;break}}this.updateLayers(a),this.adjustLayout(a,i),u.generalUpdatePerTraceModule(this.graphDiv,this,e,a),this.layers.plotbg.select("path").call(s.fill,a.bgcolor)},L.makeFramework=function(e){var t=this.graphDiv,a=e[this.id],i=this.clipId="clip"+this.layoutId+this.id,r=this.clipIdRelative="clip-relative"+this.layoutId+this.id;this.clipDef=o.ensureSingleById(e._clips,"clipPath",i,(function(e){e.append("path").attr("d","M0,0Z")})),this.clipDefRelative=o.ensureSingleById(e._clips,"clipPath",r,(function(e){e.append("path").attr("d","M0,0Z")})),this.plotContainer=o.ensureSingle(this.container,"g",this.id),this.updateLayers(a),c.setClipUrl(this.layers.backplot,i,t),c.setClipUrl(this.layers.grids,i,t)},L.updateLayers=function(e){var t=this.layers,a=["draglayer","plotbg","backplot","grids"];"below traces"===e.aaxis.layer&&a.push("aaxis","aline"),"below traces"===e.baxis.layer&&a.push("baxis","bline"),"below traces"===e.caxis.layer&&a.push("caxis","cline"),a.push("frontplot"),"above traces"===e.aaxis.layer&&a.push("aaxis","aline"),"above traces"===e.baxis.layer&&a.push("baxis","bline"),"above traces"===e.caxis.layer&&a.push("caxis","cline");var r=this.plotContainer.selectAll("g.toplevel").data(a,String),n=["agrid","bgrid","cgrid"];r.enter().append("g").attr("class",(function(e){return"toplevel "+e})).each((function(e){var a=i.select(this);t[e]=a,"frontplot"===e?a.append("g").classed("scatterlayer",!0):"backplot"===e?a.append("g").classed("maplayer",!0):"plotbg"===e?a.append("path").attr("d","M0,0Z"):"aline"===e||"bline"===e||"cline"===e?a.append("path"):"grids"===e&&n.forEach((function(e){t[e]=a.append("g").classed("grid "+e,!0)}))})),r.order()};var T=Math.sqrt(4/3);L.adjustLayout=function(e,t){var a,i,r,n,o,l,u=this,h=e.domain,f=(h.x[0]+h.x[1])/2,x=(h.y[0]+h.y[1])/2,m=h.x[1]-h.x[0],y=h.y[1]-h.y[0],v=m*t.w,g=y*t.h,b=e.sum,k=e.aaxis.min,_=e.baxis.min,w=e.caxis.min;v>T*g?r=(n=g)*T:n=(r=v)/T,o=m*r/v,l=y*n/g,a=t.l+t.w*f-r/2,i=t.t+t.h*(1-x)-n/2,u.x0=a,u.y0=i,u.w=r,u.h=n,u.sum=b,u.xaxis={type:"linear",range:[k+2*w-b,b-k-2*_],domain:[f-o/2,f+o/2],_id:"x"},p(u.xaxis,u.graphDiv._fullLayout),u.xaxis.setScale(),u.xaxis.isPtWithinRange=function(e){return e.a>=u.aaxis.range[0]&&e.a<=u.aaxis.range[1]&&e.b>=u.baxis.range[1]&&e.b<=u.baxis.range[0]&&e.c>=u.caxis.range[1]&&e.c<=u.caxis.range[0]},u.yaxis={type:"linear",range:[k,b-_-w],domain:[x-l/2,x+l/2],_id:"y"},p(u.yaxis,u.graphDiv._fullLayout),u.yaxis.setScale(),u.yaxis.isPtWithinRange=function(){return!0};var M=u.yaxis.domain[0],A=u.aaxis=d({},e.aaxis,{range:[k,b-_-w],side:"left",tickangle:(+e.aaxis.tickangle||0)-30,domain:[M,M+l*T],anchor:"free",position:0,_id:"y",_length:r});p(A,u.graphDiv._fullLayout),A.setScale();var L=u.baxis=d({},e.baxis,{range:[b-k-w,_],side:"bottom",domain:u.xaxis.domain,anchor:"free",position:0,_id:"x",_length:r});p(L,u.graphDiv._fullLayout),L.setScale();var S=u.caxis=d({},e.caxis,{range:[b-k-_,w],side:"right",tickangle:(+e.caxis.tickangle||0)+30,domain:[M,M+l*T],anchor:"free",position:0,_id:"y",_length:r});p(S,u.graphDiv._fullLayout),S.setScale();var C="M"+a+","+(i+n)+"h"+r+"l-"+r/2+",-"+n+"Z";u.clipDef.select("path").attr("d",C),u.layers.plotbg.select("path").attr("d",C);var z="M0,"+n+"h"+r+"l-"+r/2+",-"+n+"Z";u.clipDefRelative.select("path").attr("d",z);var O="translate("+a+","+i+")";u.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",O),u.clipDefRelative.select("path").attr("transform",null);var I="translate("+(a-L._offset)+","+(i+n)+")";u.layers.baxis.attr("transform",I),u.layers.bgrid.attr("transform",I);var D="translate("+(a+r/2)+","+i+")rotate(30)translate(0,"+-A._offset+")";u.layers.aaxis.attr("transform",D),u.layers.agrid.attr("transform",D);var F="translate("+(a+r/2)+","+i+")rotate(-30)translate(0,"+-S._offset+")";u.layers.caxis.attr("transform",F),u.layers.cgrid.attr("transform",F),u.drawAxes(!0),u.layers.aline.select("path").attr("d",A.showline?"M"+a+","+(i+n)+"l"+r/2+",-"+n:"M0,0").call(s.stroke,A.linecolor||"#000").style("stroke-width",(A.linewidth||0)+"px"),u.layers.bline.select("path").attr("d",L.showline?"M"+a+","+(i+n)+"h"+r:"M0,0").call(s.stroke,L.linecolor||"#000").style("stroke-width",(L.linewidth||0)+"px"),u.layers.cline.select("path").attr("d",S.showline?"M"+(a+r/2)+","+i+"l"+r/2+","+n:"M0,0").call(s.stroke,S.linecolor||"#000").style("stroke-width",(S.linewidth||0)+"px"),u.graphDiv._context.staticPlot||u.initInteractions(),c.setClipUrl(u.layers.frontplot,u._hasClipOnAxisFalse?null:u.clipId,u.graphDiv)},L.drawAxes=function(e){var t=this.graphDiv,a=this.id.substr(7)+"title",i=this.layers,r=this.aaxis,n=this.baxis,o=this.caxis;if(this.drawAx(r),this.drawAx(n),this.drawAx(o),e){var s=Math.max(r.showticklabels?r.tickfont.size/2:0,(o.showticklabels?.75*o.tickfont.size:0)+("outside"===o.ticks?.87*o.ticklen:0)),c=(n.showticklabels?n.tickfont.size:0)+("outside"===n.ticks?n.ticklen:0)+3;i["a-title"]=g.draw(t,"a"+a,{propContainer:r,propName:this.id+".aaxis.title",placeholder:l(t,"Click to enter Component A title"),attributes:{x:this.x0+this.w/2,y:this.y0-r.title.font.size/3-s,"text-anchor":"middle"}}),i["b-title"]=g.draw(t,"b"+a,{propContainer:n,propName:this.id+".baxis.title",placeholder:l(t,"Click to enter Component B title"),attributes:{x:this.x0-c,y:this.y0+this.h+.83*n.title.font.size+c,"text-anchor":"middle"}}),i["c-title"]=g.draw(t,"c"+a,{propContainer:o,propName:this.id+".caxis.title",placeholder:l(t,"Click to enter Component C title"),attributes:{x:this.x0+this.w+c,y:this.y0+this.h+.83*o.title.font.size+c,"text-anchor":"middle"}})}},L.drawAx=function(e){var t,a=this.graphDiv,i=e._name,r=i.charAt(0),n=e._id,l=this.layers[i],s=r+"tickLayout",c=(t=e).ticks+String(t.ticklen)+String(t.showticklabels);this[s]!==c&&(l.selectAll("."+n+"tick").remove(),this[s]=c),e.setScale();var p=h.calcTicks(e),d=h.clipEnds(e,p),u=h.makeTransFn(e),f=h.getTickSigns(e)[2],x=o.deg2rad(30),m=f*(e.linewidth||1)/2,y=f*e.ticklen,v=this.w,g=this.h,b="b"===r?"M0,"+m+"l"+Math.sin(x)*y+","+Math.cos(x)*y:"M"+m+",0l"+Math.cos(x)*y+","+-Math.sin(x)*y,k={a:"M0,0l"+g+",-"+v/2,b:"M0,0l-"+v/2+",-"+g,c:"M0,0l-"+g+","+v/2}[r];h.drawTicks(a,e,{vals:"inside"===e.ticks?d:p,layer:l,path:b,transFn:u,crisp:!1}),h.drawGrid(a,e,{vals:d,layer:this.layers[r+"grid"],path:k,transFn:u,crisp:!1}),h.drawLabels(a,e,{vals:p,layer:l,transFn:u,labelFns:h.makeLabelFns(e,0,30)})};var S=M.MINZOOM/2+.87,C="m-0.87,.5h"+S+"v3h-"+(S+5.2)+"l"+(S/2+2.6)+",-"+(.87*S+4.5)+"l2.6,1.5l-"+S/2+","+.87*S+"Z",z="m0.87,.5h-"+S+"v3h"+(S+5.2)+"l-"+(S/2+2.6)+",-"+(.87*S+4.5)+"l-2.6,1.5l"+S/2+","+.87*S+"Z",O="m0,1l"+S/2+","+.87*S+"l2.6,-1.5l-"+(S/2+2.6)+",-"+(.87*S+4.5)+"l-"+(S/2+2.6)+","+(.87*S+4.5)+"l2.6,1.5l"+S/2+",-"+.87*S+"Z",I=!0;function D(e){i.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}L.clearSelect=function(){w(this.dragOptions),_(this.dragOptions.gd)},L.initInteractions=function(){var e,t,a,i,p,d,u,h,m,g,_=this,w=_.layers.plotbg.select("path").node(),A=_.graphDiv,L=A._fullLayout._zoomlayer;function S(e){var t={};return t[_.id+".aaxis.min"]=e.a,t[_.id+".baxis.min"]=e.b,t[_.id+".caxis.min"]=e.c,t}function F(e,t){var a=A._fullLayout.clickmode;D(A),2===e&&(A.emit("plotly_doubleclick",null),n.call("_guiRelayout",A,S({a:0,b:0,c:0}))),a.indexOf("select")>-1&&1===e&&k(t,A,[_.xaxis],[_.yaxis],_.id,_.dragOptions),a.indexOf("event")>-1&&x.click(A,t,_.id)}function P(e,t){return 1-t/_.h}function j(e,t){return 1-(e+(_.h-t)/Math.sqrt(3))/_.w}function R(e,t){return(e-(_.h-t)/Math.sqrt(3))/_.w}function Z(r,n){var o=e+r,l=t+n,s=Math.max(0,Math.min(1,P(0,t),P(0,l))),c=Math.max(0,Math.min(1,j(e,t),j(o,l))),f=Math.max(0,Math.min(1,R(e,t),R(o,l))),x=(s/2+f)*_.w,y=(1-s/2-c)*_.w,v=(x+y)/2,b=y-x,k=(1-s)*_.h,w=k-b/T;b<M.MINZOOM?(p=a,m.attr("d",u),g.attr("d","M0,0Z")):(p={a:a.a+s*i,b:a.b+c*i,c:a.c+f*i},m.attr("d",u+"M"+x+","+k+"H"+y+"L"+v+","+w+"L"+x+","+k+"Z"),g.attr("d","M"+e+","+t+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+x+","+k+C+"M"+y+","+k+z+"M"+v+","+w+O)),h||(m.transition().style("fill",d>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),g.transition().style("opacity",1).duration(200),h=!0),A.emit("plotly_relayouting",S(p))}function N(){D(A),p!==a&&(n.call("_guiRelayout",A,S(p)),I&&A.data&&A._context.showTips&&(o.notifier(l(A,"Double-click to zoom back out"),"long"),I=!1))}function U(e,t){var i=e/_.xaxis._m,r=t/_.yaxis._m,n=[(p={a:a.a-r,b:a.b+(i+r)/2,c:a.c-(i-r)/2}).a,p.b,p.c].sort(),o=n.indexOf(p.a),l=n.indexOf(p.b),s=n.indexOf(p.c);n[0]<0&&(n[1]+n[0]/2<0?(n[2]+=n[0]+n[1],n[0]=n[1]=0):(n[2]+=n[0]/2,n[1]+=n[0]/2,n[0]=0),p={a:n[o],b:n[l],c:n[s]},t=(a.a-p.a)*_.yaxis._m,e=(a.c-p.c-a.b+p.b)*_.xaxis._m);var d="translate("+(_.x0+e)+","+(_.y0+t)+")";_.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",d);var u="translate("+-e+","+-t+")";_.clipDefRelative.select("path").attr("transform",u),_.aaxis.range=[p.a,_.sum-p.b-p.c],_.baxis.range=[_.sum-p.a-p.c,p.b],_.caxis.range=[_.sum-p.a-p.b,p.c],_.drawAxes(!1),_._hasClipOnAxisFalse&&_.plotContainer.select(".scatterlayer").selectAll(".trace").call(c.hideOutsideRangePoints,_),A.emit("plotly_relayouting",S(p))}function G(){n.call("_guiRelayout",A,S(p))}this.dragOptions={element:w,gd:A,plotinfo:{id:_.id,domain:A._fullLayout[_.id].domain,xaxis:_.xaxis,yaxis:_.yaxis},subplot:_.id,prepFn:function(n,o,l){_.dragOptions.xaxes=[_.xaxis],_.dragOptions.yaxes=[_.yaxis];var c=_.dragOptions.dragmode=A._fullLayout.dragmode;y(c)?_.dragOptions.minDrag=1:_.dragOptions.minDrag=void 0,"zoom"===c?(_.dragOptions.moveFn=Z,_.dragOptions.clickFn=F,_.dragOptions.doneFn=N,function(n,o,l){var c=w.getBoundingClientRect();e=o-c.left,t=l-c.top,a={a:_.aaxis.range[0],b:_.baxis.range[1],c:_.caxis.range[1]},p=a,i=_.aaxis.range[1]-a.a,d=r(_.graphDiv._fullLayout[_.id].bgcolor).getLuminance(),u="M0,"+_.h+"L"+_.w/2+", 0L"+_.w+","+_.h+"Z",h=!1,m=L.append("path").attr("class","zoombox").attr("transform","translate("+_.x0+", "+_.y0+")").style({fill:d>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",u),g=L.append("path").attr("class","zoombox-corners").attr("transform","translate("+_.x0+", "+_.y0+")").style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),_.clearSelect(A)}(0,o,l)):"pan"===c?(_.dragOptions.moveFn=U,_.dragOptions.clickFn=F,_.dragOptions.doneFn=G,a={a:_.aaxis.range[0],b:_.baxis.range[1],c:_.caxis.range[1]},p=a,_.clearSelect(A)):(v(c)||y(c))&&b(n,o,l,_.dragOptions,c)}},w.onmousemove=function(e){x.hover(A,e,_.id),A._fullLayout._lasthover=w,A._fullLayout._hoversubplot=_.id},w.onmouseout=function(e){A._dragging||f.unhover(A,e)},f.init(this.dragOptions)}},1477:function(e,t,a){"use strict";var i=a(57),r=a(58),n=a(6),o=a(731),l=a(220),s=a(223),c=a(219),p=a(739),d=a(1250),u=["aaxis","baxis","caxis"];function h(e,t,a,n){var o,l,s,c=a("bgcolor"),p=a("sum");n.bgColor=i.combine(c,n.paper_bgcolor);for(var d=0;d<u.length;d++)l=e[o=u[d]]||{},(s=r.newContainer(t,o))._name=o,f(l,s,n,t);var h=t.aaxis,x=t.baxis,m=t.caxis;h.min+x.min+m.min>=p&&(h.min=0,x.min=0,m.min=0,e.aaxis&&delete e.aaxis.min,e.baxis&&delete e.baxis.min,e.caxis&&delete e.caxis.min)}function f(e,t,a,i){var r=d[t._name];function o(a,i){return n.coerce(e,t,r,a,i)}o("uirevision",i.uirevision),t.type="linear";var u=o("color"),h=u!==r.color.dflt?u:a.font.color,f=t._name.charAt(0).toUpperCase(),x="Component "+f,m=o("title.text",x);t._hovertitle=m===x?m:f,n.coerceFont(o,"title.font",{family:a.font.family,size:Math.round(1.2*a.font.size),color:h}),o("min"),c(e,t,o,"linear"),l(e,t,o,"linear",{}),s(e,t,o,{outerTicks:!0}),o("showticklabels")&&(n.coerceFont(o,"tickfont",{family:a.font.family,size:a.font.size,color:h}),o("tickangle"),o("tickformat")),p(e,t,o,{dfltColor:u,bgColor:a.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:r}),o("hoverformat"),o("layer")}e.exports=function(e,t,a){o(e,t,a,{type:"ternary",attributes:d,handleDefaults:h,font:t.font,paper_bgcolor:t.paper_bgcolor})}},249:function(e,t,a){"use strict";e.exports=a(1468)},624:function(e,t,a){"use strict";var i=a(32).extendFlat;t.attributes=function(e,t){t=t||{};var a={valType:"info_array",role:"info",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},r=e.name?e.name+" ":"",n=e.trace?"trace ":"subplot ",o=t.description?" "+t.description:"",l={x:i({},a,{description:["Sets the horizontal domain of this ",r,n,"(in plot fraction).",o].join("")}),y:i({},a,{description:["Sets the vertical domain of this ",r,n,"(in plot fraction).",o].join("")}),editType:e.editType};return e.noGridCell||(l.row={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",r,n,".",o].join("")},l.column={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",r,n,".",o].join("")}),l},t.defaults=function(e,t,a,i){var r=i&&i.x||[0,1],n=i&&i.y||[0,1],o=t.grid;if(o){var l=a("domain.column");void 0!==l&&(l<o.columns?r=o._domains.x[l]:delete e.domain.column);var s=a("domain.row");void 0!==s&&(s<o.rows?n=o._domains.y[s]:delete e.domain.row)}var c=a("domain.x",r),p=a("domain.y",n);c[0]<c[1]||(e.domain.x=r.slice()),p[0]<p[1]||(e.domain.y=n.slice())}},629:function(e,t,a){"use strict";var i=a(6);e.exports=function(e,t){for(var a=0;a<e.length;a++)e[a].i=a;i.mergeArray(t.text,e,"tx"),i.mergeArray(t.texttemplate,e,"txt"),i.mergeArray(t.hovertext,e,"htx"),i.mergeArray(t.customdata,e,"data"),i.mergeArray(t.textposition,e,"tp"),t.textfont&&(i.mergeArrayCastPositive(t.textfont.size,e,"ts"),i.mergeArray(t.textfont.color,e,"tc"),i.mergeArray(t.textfont.family,e,"tf"));var r=t.marker;if(r){i.mergeArrayCastPositive(r.size,e,"ms"),i.mergeArrayCastPositive(r.opacity,e,"mo"),i.mergeArray(r.symbol,e,"mx"),i.mergeArray(r.color,e,"mc");var n=r.line;r.line&&(i.mergeArray(n.color,e,"mlc"),i.mergeArrayCastPositive(n.width,e,"mlw"));var o=r.gradient;o&&"none"!==o.type&&(i.mergeArray(o.type,e,"mgt"),i.mergeArray(o.color,e,"mgc"))}}},631:function(e,t,a){"use strict";var i=a(6);e.exports=function(e,t){i.isArrayOrTypedArray(t.selectedpoints)&&i.tagSelected(e,t)}},633:function(e,t,a){"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},636:function(e,t,a){"use strict";var i=a(79).hasColorscale,r=a(210),n=a(206);e.exports=function(e,t){n.hasLines(t)&&i(t,"line")&&r(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(t)&&(i(t,"marker")&&r(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),i(t,"marker.line")&&r(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},640:function(e,t,a){"use strict";var i=a(24),r=a(106),n=a(23);function o(e,t,a){r.pointStyle(e.selectAll("path.point"),t,a)}function l(e,t,a){r.textPointStyle(e.selectAll("text"),t,a)}e.exports={style:function(e){var t=i.select(e).selectAll("g.trace.scatter");t.style("opacity",(function(e){return e[0].trace.opacity})),t.selectAll("g.points").each((function(t){o(i.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.text").each((function(t){l(i.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.trace path.js-line").call(r.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(r.fillGroupStyle),n.getComponentMethod("errorbars","style")(t)},stylePoints:o,styleText:l,styleOnSelect:function(e,t,a){var i=t[0].trace;i.selectedpoints?(r.selectedPointStyle(a.selectAll("path.point"),i),r.selectedTextStyle(a.selectAll("text"),i)):(o(a,i,e),l(a,i,e))}}},642:function(e,t,a){"use strict";var i=a(12),r=a(6),n=a(105),o=a(25).BADNUM,l=a(206),s=a(636),c=a(629),p=a(631);function d(e,t,a,i,r,o,s){var c=t._length,p=e._fullLayout,d=a._id,u=i._id,h=p._firstScatter[f(t)]===t.uid,m=(x(t,p,a,i)||{}).orientation,y=t.fill;a._minDtick=0,i._minDtick=0;var v={padded:!0},g={padded:!0};s&&(v.ppad=g.ppad=s);var b=c<2||r[0]!==r[c-1]||o[0]!==o[c-1];b&&("tozerox"===y||"tonextx"===y&&(h||"h"===m))?v.tozero=!0:(t.error_y||{}).visible||"tonexty"!==y&&"tozeroy"!==y&&(l.hasMarkers(t)||l.hasText(t))||(v.padded=!1,v.ppad=0),b&&("tozeroy"===y||"tonexty"===y&&(h||"v"===m))?g.tozero=!0:"tonextx"!==y&&"tozerox"!==y||(g.padded=!1),d&&(t._extremes[d]=n.findExtremes(a,r,v)),u&&(t._extremes[u]=n.findExtremes(i,o,g))}function u(e,t){if(l.hasMarkers(e)){var a,i=e.marker,o=1.6*(e.marker.sizeref||1);if(a="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/o),3)}:function(e){return Math.max((e||0)/o,3)},r.isArrayOrTypedArray(i.size)){var s={type:"linear"};n.setConvert(s);for(var c=s.makeCalcdata(e.marker,"size"),p=new Array(t),d=0;d<t;d++)p[d]=a(c[d]);return p}return a(i.size)}}function h(e,t){var a=f(t),i=e._firstScatter;i[a]||(i[a]=t.uid)}function f(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function x(e,t,a,i){var r=e.stackgroup;if(r){var n=t._scatterStackOpts[a._id+i._id][r],o="v"===n.orientation?i:a;return"linear"===o.type||"log"===o.type?n:void 0}}e.exports={calc:function(e,t){var a,l,f,m,y,v,g=e._fullLayout,b=n.getFromId(e,t.xaxis||"x"),k=n.getFromId(e,t.yaxis||"y"),_=b.makeCalcdata(t,"x"),w=k.makeCalcdata(t,"y"),M=t._length,A=new Array(M),L=t.ids,T=x(t,g,b,k),S=!1;h(g,t);var C,z="x",O="y";for(T?(r.pushUnique(T.traceIndices,t._expandedIndex),(a="v"===T.orientation)?(O="s",C="x"):(z="s",C="y"),y="interpolate"===T.stackgaps):d(e,t,b,k,_,w,u(t,M)),l=0;l<M;l++){var I=A[l]={},D=i(_[l]),F=i(w[l]);D&&F?(I[z]=_[l],I[O]=w[l]):T&&(a?D:F)?(I[C]=a?_[l]:w[l],I.gap=!0,y?(I.s=o,S=!0):I.s=0):I[z]=I[O]=o,L&&(I.id=String(L[l]))}if(c(A,t),s(e,t),p(A,t),T){for(l=0;l<A.length;)A[l][C]===o?A.splice(l,1):l++;if(r.sort(A,(function(e,t){return e[C]-t[C]||e.i-t.i})),S){for(l=0;l<A.length-1&&A[l].gap;)l++;for((v=A[l].s)||(v=A[l].s=0),f=0;f<l;f++)A[f].s=v;for(m=A.length-1;m>l&&A[m].gap;)m--;for(v=A[m].s,f=A.length-1;f>m;f--)A[f].s=v;for(;l<m;)if(A[++l].gap){for(f=l+1;A[f].gap;)f++;for(var P=A[l-1][C],j=A[l-1].s,R=(A[f].s-j)/(A[f][C]-P);l<f;)A[l].s=j+(A[l][C]-P)*R,l++}}}return A},calcMarkerSize:u,calcAxisExpansion:d,setFirstScatter:h,getStackOpts:x}},644:function(e,t,a){"use strict";var i=a(57),r=a(79).hasColorscale,n=a(151),o=a(206);e.exports=function(e,t,a,l,s,c){var p=o.isBubble(e),d=(e.line||{}).color;(c=c||{},d&&(a=d),s("marker.symbol"),s("marker.opacity",p?.7:1),s("marker.size"),s("marker.color",a),r(e,"marker")&&n(e,t,l,s,{prefix:"marker.",cLetter:"c"}),c.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),c.noLine||(s("marker.line.color",d&&!Array.isArray(d)&&t.marker.color!==d?d:p?i.background:i.defaultLine),r(e,"marker.line")&&n(e,t,l,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",p?1:0)),p&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),c.gradient)&&("none"!==s("marker.gradient.type")&&s("marker.gradient.color"))}},648:function(e,t,a){"use strict";var i=a(6).isArrayOrTypedArray,r=a(79).hasColorscale,n=a(151);e.exports=function(e,t,a,o,l,s){var c=(e.marker||{}).color;(l("line.color",a),r(e,"line"))?n(e,t,o,l,{prefix:"line.",cLetter:"c"}):l("line.color",!i(c)&&c||a);l("line.width"),(s||{}).noDash||l("line.dash")}},649:function(e,t,a){"use strict";var i=a(6);e.exports=function(e,t,a,r,n){n=n||{},r("textposition"),i.coerceFont(r,"textfont",a.font),n.noSelect||(r("selected.textfont.color"),r("unselected.textfont.color"))}},651:function(e,t,a){"use strict";var i=a(57),r=a(206);e.exports=function(e,t){var a,n;if("lines"===e.mode)return(a=e.line.color)&&i.opacity(a)?a:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var o=t.mcc||(e.marker||{}).color,l=t.mlcc||((e.marker||{}).line||{}).color;return(n=o&&i.opacity(o)?o:l&&i.opacity(l)&&(t.mlw||((e.marker||{}).line||{}).width)?l:"")?i.opacity(n)<.3?i.addOpacity(n,.3):n:(a=(e.line||{}).color)&&i.opacity(a)&&r.hasLines(e)&&e.line.width?a:e.fillcolor}},655:function(e,t,a){"use strict";var i=a(57),r=a(6).isArrayOrTypedArray;e.exports=function(e,t,a,n){var o=!1;if(t.marker){var l=t.marker.color,s=(t.marker.line||{}).color;l&&!r(l)?o=l:s&&!r(s)&&(o=s)}n("fillcolor",i.addOpacity((t.line||{}).color||o||a,.5))}},681:function(e,t,a){"use strict";e.exports=function(e,t,a){"spline"===a("line.shape")&&a("line.smoothing")}},682:function(e,t,a){"use strict";var i=a(6),r=a(623),n=a(23),o=a(651),l=a(57),s=i.fillText;e.exports=function(e,t,a,c){var p=e.cd,d=p[0].trace,u=e.xa,h=e.ya,f=u.c2p(t),x=h.c2p(a),m=[f,x],y=d.hoveron||"",v=-1!==d.mode.indexOf("markers")?3:.5;if(-1!==y.indexOf("points")){var g=function(e){var t=Math.max(v,e.mrc||0),a=u.c2p(e.x)-f,i=h.c2p(e.y)-x;return Math.max(Math.sqrt(a*a+i*i)-t,1-v/t)},b=r.getDistanceFunction(c,(function(e){var t=Math.max(3,e.mrc||0),a=1-1/t,i=Math.abs(u.c2p(e.x)-f);return i<t?a*i/t:i-t+a}),(function(e){var t=Math.max(3,e.mrc||0),a=1-1/t,i=Math.abs(h.c2p(e.y)-x);return i<t?a*i/t:i-t+a}),g);if(r.getClosest(p,b,e),!1!==e.index){var k=p[e.index],_=u.c2p(k.x,!0),w=h.c2p(k.y,!0),M=k.mrc||1;e.index=k.i;var A=p[0].t.orientation,L=A&&(k.sNorm||k.s),T="h"===A?L:k.x,S="v"===A?L:k.y;return i.extendFlat(e,{color:o(d,k),x0:_-M,x1:_+M,xLabelVal:T,y0:w-M,y1:w+M,yLabelVal:S,spikeDistance:g(k),hovertemplate:d.hovertemplate}),s(k,d,e),n.getComponentMethod("errorbars","hoverInfo")(k,d,e),[e]}}if(-1!==y.indexOf("fills")&&d._polygons){var C,z,O,I,D,F,P,j,R,Z=d._polygons,N=[],U=!1,G=1/0,q=-1/0,E=1/0,B=-1/0;for(C=0;C<Z.length;C++)(O=Z[C]).contains(m)&&(U=!U,N.push(O),E=Math.min(E,O.ymin),B=Math.max(B,O.ymax));if(U){var V=((E=Math.max(E,0))+(B=Math.min(B,h._length)))/2;for(C=0;C<N.length;C++)for(I=N[C].pts,z=1;z<I.length;z++)(j=I[z-1][1])>V!=(R=I[z][1])>=V&&(F=I[z-1][0],P=I[z][0],R-j&&(D=F+(P-F)*(V-j)/(R-j),G=Math.min(G,D),q=Math.max(q,D)));G=Math.max(G,0),q=Math.min(q,u._length);var H=l.defaultLine;return l.opacity(d.fillcolor)?H=d.fillcolor:l.opacity((d.line||{}).color)&&(H=d.line.color),i.extendFlat(e,{distance:e.maxHoverDistance,x0:G,x1:q,y0:V,y1:V,color:H,hovertemplate:!1}),delete e.index,d.text&&!Array.isArray(d.text)?e.text=String(d.text):e.text=d.name,[e]}}}},688:function(e,t,a){"use strict";var i={tonextx:1,tonexty:1,tonext:1};e.exports=function(e,t,a){var r,n,o,l,s,c={},p=!1,d=-1,u=0,h=-1;for(n=0;n<a.length;n++)(o=(r=a[n][0].trace).stackgroup||"")?o in c?s=c[o]:(s=c[o]=u,u++):r.fill in i&&h>=0?s=h:(s=h=u,u++),s<d&&(p=!0),r._groupIndex=d=s;var f=a.slice();p&&f.sort((function(e,t){var a=e[0].trace,i=t[0].trace;return a._groupIndex-i._groupIndex||a.index-i.index}));var x={};for(n=0;n<f.length;n++)o=(r=f[n][0].trace).stackgroup||"",!0===r.visible?(r._nexttrace=null,r.fill in i&&(l=x[o],r._prevtrace=l||null,l&&(l._nexttrace=r)),r._ownfill=r.fill&&("tozero"===r.fill.substr(0,6)||"toself"===r.fill||"to"===r.fill.substr(0,2)&&!r._prevtrace),x[o]=r):r._prevtrace=r._nexttrace=r._ownfill=null;return f}},696:function(e,t,a){"use strict";var i=a(24),r=a(23),n=a(6),o=n.ensureSingle,l=n.identity,s=a(106),c=a(206),p=a(697),d=a(688),u=a(753).tester;function h(e,t,a,d,h,f,x){var m;!function(e,t,a,r,o){var l=a.xaxis,s=a.yaxis,p=i.extent(n.simpleMap(l.range,l.r2c)),d=i.extent(n.simpleMap(s.range,s.r2c)),u=r[0].trace;if(!c.hasMarkers(u))return;var h=u.marker.maxdisplayed;if(0===h)return;var f=r.filter((function(e){return e.x>=p[0]&&e.x<=p[1]&&e.y>=d[0]&&e.y<=d[1]})),x=Math.ceil(f.length/h),m=0;o.forEach((function(e,a){var i=e[0].trace;c.hasMarkers(i)&&i.marker.maxdisplayed>0&&a<t&&m++}));var y=Math.round(m*x/3+Math.floor(m/3)*x/7.1);r.forEach((function(e){delete e.vis})),f.forEach((function(e,t){0===Math.round((t+y)%x)&&(e.vis=!0)}))}(0,t,a,d,h);var y=!!x&&x.duration>0;function v(e){return y?e.transition():e}var g=a.xaxis,b=a.yaxis,k=d[0].trace,_=k.line,w=i.select(f),M=o(w,"g","errorbars"),A=o(w,"g","lines"),L=o(w,"g","points"),T=o(w,"g","text");if(r.getComponentMethod("errorbars","plot")(e,M,a,x),!0===k.visible){var S,C;v(w).style("opacity",k.opacity);var z=k.fill.charAt(k.fill.length-1);"x"!==z&&"y"!==z&&(z=""),d[0][a.isRangePlot?"nodeRangePlot3":"node3"]=w;var O,I,D="",F=[],P=k._prevtrace;P&&(D=P._prevRevpath||"",C=P._nextFill,F=P._polygons);var j,R,Z,N,U,G,q,E="",B="",V=[],H=n.noop;if(S=k._ownFill,c.hasLines(k)||"none"!==k.fill){for(C&&C.datum(d),-1!==["hv","vh","hvh","vhv"].indexOf(_.shape)?(j=s.steps(_.shape),R=s.steps(_.shape.split("").reverse().join(""))):j=R="spline"===_.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?s.smoothclosed(e.slice(1),_.smoothing):s.smoothopen(e,_.smoothing)}:function(e){return"M"+e.join("L")},Z=function(e){return R(e.reverse())},V=p(d,{xaxis:g,yaxis:b,connectGaps:k.connectgaps,baseTolerance:Math.max(_.width||1,3)/4,shape:_.shape,simplify:_.simplify,fill:k.fill}),q=k._polygons=new Array(V.length),m=0;m<V.length;m++)k._polygons[m]=u(V[m]);V.length&&(N=V[0][0],G=(U=V[V.length-1])[U.length-1]),H=function(e){return function(t){if(O=j(t),I=Z(t),E?z?(E+="L"+O.substr(1),B=I+"L"+B.substr(1)):(E+="Z"+O,B=I+"Z"+B):(E=O,B=I),c.hasLines(k)&&t.length>1){var a=i.select(this);if(a.datum(d),e)v(a.style("opacity",0).attr("d",O).call(s.lineGroupStyle)).style("opacity",1);else{var r=v(a);r.attr("d",O),s.singleLineStyle(d,r)}}}}}var J=A.selectAll(".js-line").data(V);v(J.exit()).style("opacity",0).remove(),J.each(H(!1)),J.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(s.lineGroupStyle).each(H(!0)),s.setClipUrl(J,a.layerClipId,e),V.length?(S?(S.datum(d),N&&G&&(z?("y"===z?N[1]=G[1]=b.c2p(0,!0):"x"===z&&(N[0]=G[0]=g.c2p(0,!0)),v(S).attr("d","M"+G+"L"+N+"L"+E.substr(1)).call(s.singleFillStyle)):v(S).attr("d",E+"Z").call(s.singleFillStyle))):C&&("tonext"===k.fill.substr(0,6)&&E&&D?("tonext"===k.fill?v(C).attr("d",E+"Z"+D+"Z").call(s.singleFillStyle):v(C).attr("d",E+"L"+D.substr(1)+"Z").call(s.singleFillStyle),k._polygons=k._polygons.concat(F)):(Y(C),k._polygons=null)),k._prevRevpath=B,k._prevPolygons=q):(S?Y(S):C&&Y(C),k._polygons=k._prevRevpath=k._prevPolygons=null),L.datum(d),T.datum(d),function(t,r,n){var o,p=n[0].trace,d=c.hasMarkers(p),u=c.hasText(p),h=ee(p),f=te,x=te;if(d||u){var m=l,k=p.stackgroup,_=k&&"infer zero"===e._fullLayout._scatterStackOpts[g._id+b._id][k].stackgaps;p.marker.maxdisplayed||p._needsCull?m=_?K:$:k&&!_&&(m=Q),d&&(f=m),u&&(x=m)}var w,M=(o=t.selectAll("path.point").data(f,h)).enter().append("path").classed("point",!0);y&&M.call(s.pointStyle,p,e).call(s.translatePoints,g,b).style("opacity",0).transition().style("opacity",1),o.order(),d&&(w=s.makePointStyleFns(p)),o.each((function(t){var r=i.select(this),n=v(r);s.translatePoint(t,n,g,b)?(s.singlePointStyle(t,n,p,w,e),a.layerClipId&&s.hideOutsideRangePoint(t,n,g,b,p.xcalendar,p.ycalendar),p.customdata&&r.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):n.remove()})),y?o.exit().transition().style("opacity",0).remove():o.exit().remove(),(o=r.selectAll("g").data(x,h)).enter().append("g").classed("textpoint",!0).append("text"),o.order(),o.each((function(e){var t=i.select(this),r=v(t.select("text"));s.translatePoint(e,r,g,b)?a.layerClipId&&s.hideOutsideRangePoint(e,t,g,b,p.xcalendar,p.ycalendar):t.remove()})),o.selectAll("text").call(s.textPointStyle,p,e).each((function(e){var t=g.c2p(e.x),a=b.c2p(e.y);i.select(this).selectAll("tspan.line").each((function(){v(i.select(this)).attr({x:t,y:a})}))})),o.exit().remove()}(L,T,d);var W=!1===k.cliponaxis?null:a.layerClipId;s.setClipUrl(L,W,e),s.setClipUrl(T,W,e)}function Y(e){v(e).attr("d","M0,0Z")}function $(e){return e.filter((function(e){return!e.gap&&e.vis}))}function K(e){return e.filter((function(e){return e.vis}))}function Q(e){return e.filter((function(e){return!e.gap}))}function X(e){return e.id}function ee(e){if(e.ids)return X}function te(){return!1}}e.exports=function(e,t,a,r,n,c){var p,u,f=!n,x=!!n&&n.duration>0,m=d(e,t,a);((p=r.selectAll("g.trace").data(m,(function(e){return e[0].trace.uid}))).enter().append("g").attr("class",(function(e){return"trace scatter trace"+e[0].trace.uid})).style("stroke-miterlimit",2),p.order(),function(e,t,a){t.each((function(t){var r=o(i.select(this),"g","fills");s.setClipUrl(r,a.layerClipId,e);var n=t[0].trace,c=[];n._ownfill&&c.push("_ownFill"),n._nexttrace&&c.push("_nextFill");var p=r.selectAll("g").data(c,l);p.enter().append("g"),p.exit().each((function(e){n[e]=null})).remove(),p.order().each((function(e){n[e]=o(i.select(this),"path","js-fill")}))}))}(e,p,t),x)?(c&&(u=c()),i.transition().duration(n.duration).ease(n.easing).each("end",(function(){u&&u()})).each("interrupt",(function(){u&&u()})).each((function(){r.selectAll("g.trace").each((function(a,i){h(e,i,t,a,m,this,n)}))}))):p.each((function(a,i){h(e,i,t,a,m,this,n)}));f&&p.exit().remove(),r.selectAll("path:not([d])").remove()}},697:function(e,t,a){"use strict";var i=a(25),r=i.BADNUM,n=i.LOG_CLIP,o=n+.5,l=n-.5,s=a(6),c=s.segmentsIntersect,p=s.constrain,d=a(213);e.exports=function(e,t){var a,i,n,u,h,f,x,m,y,v,g,b,k,_,w,M,A,L,T=t.xaxis,S=t.yaxis,C="log"===T.type,z="log"===S.type,O=T._length,I=S._length,D=t.connectGaps,F=t.baseTolerance,P=t.shape,j="linear"===P,R=t.fill&&"none"!==t.fill,Z=[],N=d.minTolerance,U=e.length,G=new Array(U),q=0;function E(a){var i=e[a];if(!i)return!1;var n=t.linearized?T.l2p(i.x):T.c2p(i.x),s=t.linearized?S.l2p(i.y):S.c2p(i.y);if(n===r){if(C&&(n=T.c2p(i.x,!0)),n===r)return!1;z&&s===r&&(n*=Math.abs(T._m*I*(T._m>0?o:l)/(S._m*O*(S._m>0?o:l)))),n*=1e3}if(s===r){if(z&&(s=S.c2p(i.y,!0)),s===r)return!1;s*=1e3}return[n,s]}function B(e,t,a,i){var r=a-e,n=i-t,o=.5-e,l=.5-t,s=r*r+n*n,c=r*o+n*l;if(c>0&&c<s){var p=o*n-l*r;if(p*p<s)return!0}}function V(e,t){var a=e[0]/O,i=e[1]/I,r=Math.max(0,-a,a-1,-i,i-1);return r&&void 0!==A&&B(a,i,A,L)&&(r=0),r&&t&&B(a,i,t[0]/O,t[1]/I)&&(r=0),(1+d.toleranceGrowth*r)*F}function H(e,t){var a=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(a*a+i*i)}var J,W,Y,$,K,Q,X,ee=d.maxScreensAway,te=-O*ee,ae=O*(1+ee),ie=-I*ee,re=I*(1+ee),ne=[[te,ie,ae,ie],[ae,ie,ae,re],[ae,re,te,re],[te,re,te,ie]];function oe(e){if(e[0]<te||e[0]>ae||e[1]<ie||e[1]>re)return[p(e[0],te,ae),p(e[1],ie,re)]}function le(e,t){return e[0]===t[0]&&(e[0]===te||e[0]===ae)||(e[1]===t[1]&&(e[1]===ie||e[1]===re)||void 0)}function se(e,t,a){return function(i,r){var n=oe(i),o=oe(r),l=[];if(n&&o&&le(n,o))return l;n&&l.push(n),o&&l.push(o);var c=2*s.constrain((i[e]+r[e])/2,t,a)-((n||i)[e]+(o||r)[e]);c&&((n&&o?c>0==n[e]>o[e]?n:o:n||o)[e]+=c);return l}}function ce(e){var t=e[0],a=e[1],i=t===G[q-1][0],r=a===G[q-1][1];if(!i||!r)if(q>1){var n=t===G[q-2][0],o=a===G[q-2][1];i&&(t===te||t===ae)&&n?o?q--:G[q-1]=e:r&&(a===ie||a===re)&&o?n?q--:G[q-1]=e:G[q++]=e}else G[q++]=e}function pe(e){G[q-1][0]!==e[0]&&G[q-1][1]!==e[1]&&ce([Y,$]),ce(e),K=null,Y=$=0}function de(e){if(A=e[0]/O,L=e[1]/I,J=e[0]<te?te:e[0]>ae?ae:0,W=e[1]<ie?ie:e[1]>re?re:0,J||W){if(q)if(K){var t=X(K,e);t.length>1&&(pe(t[0]),G[q++]=t[1])}else Q=X(G[q-1],e)[0],G[q++]=Q;else G[q++]=[J||e[0],W||e[1]];var a=G[q-1];J&&W&&(a[0]!==J||a[1]!==W)?(K&&(Y!==J&&$!==W?ce(Y&&$?(i=K,n=(r=e)[0]-i[0],o=(r[1]-i[1])/n,(i[1]*r[0]-r[1]*i[0])/n>0?[o>0?te:ae,re]:[o>0?ae:te,ie]):[Y||J,$||W]):Y&&$&&ce([Y,$])),ce([J,W])):Y-J&&$-W&&ce([J||Y,W||$]),K=e,Y=J,$=W}else K&&pe(X(K,e)[0]),G[q++]=e;var i,r,n,o}for("linear"===P||"spline"===P?X=function(e,t){for(var a=[],i=0,r=0;r<4;r++){var n=ne[r],o=c(e[0],e[1],t[0],t[1],n[0],n[1],n[2],n[3]);o&&(!i||Math.abs(o.x-a[0][0])>1||Math.abs(o.y-a[0][1])>1)&&(o=[o.x,o.y],i&&H(o,e)<H(a[0],e)?a.unshift(o):a.push(o),i++)}return a}:"hv"===P||"vh"===P?X=function(e,t){var a=[],i=oe(e),r=oe(t);return i&&r&&le(i,r)||(i&&a.push(i),r&&a.push(r)),a}:"hvh"===P?X=se(0,te,ae):"vhv"===P&&(X=se(1,ie,re)),a=0;a<U;a++)if(i=E(a)){for(q=0,K=null,de(i),a++;a<U;a++){if(!(u=E(a))){if(D)continue;break}if(j&&t.simplify){var ue=E(a+1);if(v=H(u,i),R&&(0===q||q===U-1)||!(v<V(u,ue)*N)){for(m=[(u[0]-i[0])/v,(u[1]-i[1])/v],h=i,g=v,b=_=w=0,x=!1,n=u,a++;a<e.length;a++){if(f=ue,ue=E(a+1),!f){if(D)continue;break}if(M=(y=[f[0]-i[0],f[1]-i[1]])[0]*m[1]-y[1]*m[0],_=Math.min(_,M),(w=Math.max(w,M))-_>V(f,ue))break;n=f,(k=y[0]*m[0]+y[1]*m[1])>g?(g=k,u=f,x=!1):k<b&&(b=k,h=f,x=!0)}if(x?(de(u),n!==h&&de(h)):(h!==i&&de(h),n!==u&&de(u)),de(n),a>=e.length||!f)break;de(f),i=f}}else de(u)}K&&ce([Y||K[0],$||K[1]]),Z.push(G.slice(0,q))}return Z}},698:function(e,t,a){"use strict";var i=a(206);e.exports=function(e,t){var a,r,n,o,l=e.cd,s=e.xaxis,c=e.yaxis,p=[],d=l[0].trace;if(!i.hasMarkers(d)&&!i.hasText(d))return[];if(!1===t)for(a=0;a<l.length;a++)l[a].selected=0;else for(a=0;a<l.length;a++)r=l[a],n=s.c2p(r.x),o=c.c2p(r.y),null!==r.i&&t.contains([n,o],!1,a,e)?(p.push({pointNumber:r.i,x:s.c2d(r.x),y:c.c2d(r.y)}),r.selected=1):r.selected=0;return p}},731:function(e,t,a){"use strict";var i=a(6),r=a(58),n=a(624).defaults;e.exports=function(e,t,a,o){var l,s,c=o.type,p=o.attributes,d=o.handleDefaults,u=o.partition||"x",h=t._subplots[c],f=h.length,x=f&&h[0].replace(/\d+$/,"");function m(e,t){return i.coerce(l,s,p,e,t)}for(var y=0;y<f;y++){var v=h[y];l=e[v]?e[v]:e[v]={},s=r.newContainer(t,v,x),m("uirevision",t.uirevision);var g={};g[u]=[y/f,(y+1)/f],n(s,t,m,g),o.id=v,d(l,s,m,o)}}}}]);