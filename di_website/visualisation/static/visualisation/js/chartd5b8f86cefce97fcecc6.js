(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1248:function(e,t,r){"use strict";for(var o=r(59),a=r(150).hovertemplateAttrs,i=r(32).extendFlat,n=r(894).colormodel,l=["rgb","rgba","hsl","hsla"],c=[],s=[],d=0;d<l.length;d++)c.push("For the `"+l[d]+"` colormodel, it is ["+n[l[d]].min.join(", ")+"]."),s.push("For the `"+l[d]+"` colormodel, it is ["+n[l[d]].max.join(", ")+"].");e.exports=i({z:{valType:"data_array",role:"info",editType:"calc",description:["A 2-dimensional array in which each element is an array of 3 or 4 numbers representing a color."].join(" ")},colormodel:{valType:"enumerated",values:l,dflt:"rgb",role:"info",editType:"calc",description:"Color model used to map the numerical color components described in `z` into colors."},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],role:"info",editType:"calc",description:["Array defining the lower bound for each color component.","Note that the default value will depend on the colormodel.",c.join(" ")].join(" ")},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],role:"info",editType:"calc",description:["Array defining the higher bound for each color component.","Note that the default value will depend on the colormodel.",s.join(" ")].join(" ")},x0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:"Set the image's x position."},y0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:"Set the image's y position."},dx:{valType:"number",dflt:1,role:"info",editType:"calc",description:"Set the pixel's horizontal size."},dy:{valType:"number",dflt:1,role:"info",editType:"calc",description:"Set the pixel's vertical size"},text:{valType:"data_array",editType:"plot",description:"Sets the text elements associated with each z value."},hovertext:{valType:"data_array",editType:"plot",description:"Same as `text`."},hoverinfo:i({},o.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:a({},{keys:["z","color","colormodel"]}),transforms:void 0})},1460:function(e,t,r){"use strict";e.exports={attributes:r(1248),supplyDefaults:r(1461),calc:r(1462),plot:r(1463),style:r(1464),hoverPoints:r(1465),eventData:r(1466),moduleType:"trace",name:"image",basePlotModule:r(626),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{description:["Display an image, i.e. data on a 2D regular raster.","By default, when an image is displayed in a subplot,","its y axis will be reversed (ie. `autorange: 'reversed'`),","constrained to the domain (ie. `constrain: 'domain'`)","and it will have the same scale as its x axis (ie. `scaleanchor: 'x,`)","in order for pixels to be rendered as squares."].join(" ")}}},1461:function(e,t,r){"use strict";var o=r(6),a=r(1248),i=r(894);e.exports=function(e,t){function r(r,i){return o.coerce(e,t,a,r,i)}var n=r("z");if(void 0!==n&&n.length&&n[0]&&n[0].length){r("x0"),r("y0"),r("dx"),r("dy");var l=r("colormodel");r("zmin",i.colormodel[l].min),r("zmax",i.colormodel[l].max),r("text"),r("hovertext"),r("hovertemplate"),t._length=null}else t.visible=!1}},1462:function(e,t,r){"use strict";var o=r(6),a=r(894),i=r(12),n=r(105),l=r(6).maxRowLength;function c(e,t,r,a){return function(i){return o.constrain((i-e)*t,r,a)}}function s(e,t){return function(r){return o.constrain(r,e,t)}}e.exports=function(e,t){var r,o=n.getFromId(e,t.xaxis||"x"),d=n.getFromId(e,t.yaxis||"y"),m=o.d2c(t.x0)-t.dx/2,p=d.d2c(t.y0)-t.dy/2,x=t.z.length,u=l(t.z),y=[m,m+u*t.dx],f=[p,p+x*t.dy];if(o&&"log"===o.type)for(r=0;r<u;r++)y.push(m+r*t.dx);if(d&&"log"===d.type)for(r=0;r<x;r++)f.push(p+r*t.dy);return t._extremes[o._id]=n.findExtremes(o,y),t._extremes[d._id]=n.findExtremes(d,f),t._scaler=function(e){var t=e.colormodel,r=t.length,o=a.colormodel[t];e._sArray=[];for(var n=0;n<r;n++)o.min[n]!==e.zmin[n]||o.max[n]!==e.zmax[n]?e._sArray.push(c(e.zmin[n],(o.max[n]-o.min[n])/(e.zmax[n]-e.zmin[n]),o.min[n],o.max[n])):e._sArray.push(s(o.min[n],o.max[n]));return function(t){for(var o=t.slice(0,r),a=0;a<r;a++){var n=o[a];if(!i(n))return!1;o[a]=e._sArray[a](n)}return o}}(t),[{x0:m,y0:p,z:t.z,w:u,h:x}]}},1463:function(e,t,r){"use strict";var o=r(24),a=r(6),i=r(152),n=r(894);e.exports=function(e,t,r,l){var c=t.xaxis,s=t.yaxis;a.makeTraceGroups(l,r,"im").each((function(e){var t,r,l,d,m,p,x=o.select(this),u=e[0],y=u.trace,f=u.z,h=u.x0,v=u.y0,g=u.w,b=u.h,T=y.dx,z=y.dy;for(p=0;void 0===t&&p<g;)t=c.c2p(h+p*T),p++;for(p=g;void 0===r&&p>0;)r=c.c2p(h+p*T),p--;for(p=0;void 0===d&&p<b;)d=s.c2p(v+p*z),p++;for(p=b;void 0===m&&p>0;)m=s.c2p(v+p*z),p--;r<t&&(l=r,r=t,t=l),m<d&&(l=d,d=m,m=l);t=Math.max(-.5*c._length,t),r=Math.min(1.5*c._length,r),d=Math.max(-.5*s._length,d),m=Math.min(1.5*s._length,m);var A=Math.round(r-t),w=Math.round(m-d);if(A<=0||w<=0){x.selectAll("image").data([]).exit().remove()}else{var _=document.createElement("canvas");_.width=A,_.height=w;var M,j=_.getContext("2d"),L=function(e){return a.constrain(Math.round(c.c2p(h+e*T)-t),0,A)},N=function(e){return a.constrain(Math.round(s.c2p(v+e*z)-d),0,w)},V=n.colormodel[y.colormodel].fmt;for(p=0;p<u.w;p++){var S=L(p),F=L(p+1);if(F!==S&&!isNaN(F)&&!isNaN(S))for(var k=0;k<u.h;k++){var D=N(k),R=N(k+1);R===D||isNaN(R)||isNaN(D)||!f[k][p]||(M=y._scaler(f[k][p]),j.fillStyle=M?y.colormodel+"("+V(M).join(",")+")":"rgba(0,0,0,0)",j.fillRect(S,D,F-S,R-D))}}var C=x.selectAll("image").data(e);C.enter().append("svg:image").attr({xmlns:i.svg,preserveAspectRatio:"none"}),C.attr({height:w,width:A,x:t,y:d,"xlink:href":_.toDataURL("image/png")})}}))}},1464:function(e,t,r){"use strict";var o=r(24);e.exports=function(e){o.select(e).selectAll(".im image").style("opacity",(function(e){return e.trace.opacity}))}},1465:function(e,t,r){"use strict";var o=r(623),a=r(6),i=r(894);e.exports=function(e,t,r){var n=e.cd[0],l=n.trace,c=e.xa,s=e.ya;if(!(o.inbox(t-n.x0,t-(n.x0+n.w*l.dx),0)>0||o.inbox(r-n.y0,r-(n.y0+n.h*l.dy),0)>0)){var d=Math.floor((t-n.x0)/l.dx),m=Math.floor(Math.abs(r-n.y0)/l.dy);if(n.z[m][d]){var p,x=n.hi||l.hoverinfo;if(x){var u=x.split("+");-1!==u.indexOf("all")&&(u=["color"]),-1!==u.indexOf("color")&&(p=!0)}var y,f=l.colormodel,h=f.length,v=l._scaler(n.z[m][d]),g=i.colormodel[f].suffix,b=[];(l.hovertemplate||p)&&(b.push("["+[v[0]+g[0],v[1]+g[1],v[2]+g[2]].join(", ")),4===h&&b.push(", "+v[3]+g[3]),b.push("]"),b=b.join(""),e.extraText=f.toUpperCase()+": "+b),Array.isArray(l.hovertext)&&Array.isArray(l.hovertext[m])?y=l.hovertext[m][d]:Array.isArray(l.text)&&Array.isArray(l.text[m])&&(y=l.text[m][d]);var T=s.c2p(n.y0+(m+.5)*l.dy),z=n.x0+(d+.5)*l.dx,A=n.y0+(m+.5)*l.dy,w="["+n.z[m][d].slice(0,l.colormodel.length).join(", ")+"]";return[a.extendFlat(e,{index:[m,d],x0:c.c2p(n.x0+d*l.dx),x1:c.c2p(n.x0+(d+1)*l.dx),y0:T,y1:T,color:v,xVal:z,xLabelVal:z,yVal:A,yLabelVal:A,zLabelVal:w,text:y,hovertemplateLabels:{zLabel:w,colorLabel:b,"color[0]Label":v[0]+g[0],"color[1]Label":v[1]+g[1],"color[2]Label":v[2]+g[2],"color[3]Label":v[3]+g[3]}})]}}}},1466:function(e,t,r){"use strict";e.exports=function(e,t){return"xVal"in t&&(e.x=t.xVal),"yVal"in t&&(e.y=t.yVal),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),e.color=t.color,e.colormodel=t.trace.colormodel,e}},248:function(e,t,r){"use strict";e.exports=r(1460)},894:function(e,t,r){"use strict";e.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(e){return e.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(e){return e.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(e){var t=e.slice(0,3);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(e){var t=e.slice(0,4);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["°","%","%",""]}}}}}]);